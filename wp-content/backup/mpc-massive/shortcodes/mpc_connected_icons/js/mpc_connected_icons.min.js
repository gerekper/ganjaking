!function(a){"use strict";function b(){return{size:{width:0,height:0},position:{top:0,left:0},margin:{top:0,left:0}}}function c(a){return{size:{width:a.outerWidth(!1),height:a.outerHeight(!1)},border:{left:parseInt(a.css("border-left-width").replace("px","")),right:parseInt(a.css("border-right-width").replace("px","")),top:parseInt(a.css("border-top-width").replace("px","")),bottom:parseInt(a.css("border-bottom-width").replace("px",""))},offset:a.offset(),position:a.position()}}function d(b){b.find(".mpc-icon-column").each(function(){a(this).wrap('<div class="mpc-connected-icons__item">')})}function e(d){var e=d.find(".mpc-connected-icons__line"),f=""!=d.attr("data-target")?d.attr("data-target"):"icon",g=""!=d.attr("data-layout")?d.attr("data-layout"):"vertical",h="box"==f?d.find(".mpc-icon-column"):d.find(".mpc-icon-column > .mpc-icon"),i=h.length-1;h.each(function(d){if(d>=i)return!0;var h=a(this),j=h.parents(".mpc-connected-icons__item"),k="box"==f?j.next().find(".mpc-icon-column"):j.next().find(".mpc-icon"),l=e.clone(),m="horizontal"==g?e.height():e.width(),n=c(h),o=c(k),p=b(),q={},r={};"horizontal"==g?(p.size.width=o.offset.left-n.offset.left-n.size.width,p.margin.left=n.border.right,p.position.top=.5*(n.size.height-m)-n.border.top,p.position.left=!1,q={top:parseInt(p.position.top),width:parseInt(p.size.width),marginLeft:parseInt(p.margin.left)},r={width:parseInt(p.size.width)}):(p.size.height=o.offset.top-n.offset.top-n.size.height,p.margin.top=n.border.top,p.position.left=.5*(n.size.width-m)-n.border.left,p.position.top=!1,q={left:parseInt(p.position.left),height:parseInt(p.size.height),marginTop:parseInt(p.margin.top)},r={height:parseInt(p.size.height)}),l.css(q).appendTo(h),l.find("span").velocity(r,300)})}function f(a){var b=a.data("ci-cols");a.find(".mpc-connected-icons__item .mpc-connected-icons__line").remove(),(b>=3&&_mpc_vars.breakpoints.custom("(min-width: 992px)")||_mpc_vars.breakpoints.custom("(min-width: 769px)"))&&e(a)}function g(a){(a.data("ci-cols")>=3&&_mpc_vars.breakpoints.custom("(min-width: 992px)")||_mpc_vars.breakpoints.custom("(min-width: 769px)"))&&e(a),a.trigger("mpc.inited")}function h(b){a.fn.imagesLoaded?(b.imagesLoaded().always(function(){e(b)}),b.trigger("mpc.inited")):setTimeout(function(){h(b)},50)}function i(a){a.find(".vc_mpc_icon_column").addClass("mpc-connected-icons__item")}if(void 0!==window.InlineShortcodeViewContainer){var j=a("body");window.InlineShortcodeView_mpc_connected_icons=window.InlineShortcodeViewContainer.extend({initialize:function(a){_.bindAll(this,"holdActive"),window.InlineShortcodeView_mpc_connected_icons.__super__.initialize.call(this,a),this.parent_view=vc.shortcodes.get(this.model.get("parent_id")).view,this.listenTo(this.model,"mpcRender",this.rendered)},rendered:function(){var a=this.$el.find(".mpc-connected-icons");a.addClass("mpc-waypoint--init"),j.trigger("mpc.icon-loaded",[a]),j.trigger("mpc.font-loaded",[a]),j.trigger("mpc.inited",[a]),setTimeout(function(){i(a),a.data("ci-cols")>=3&&_mpc_vars.breakpoints.custom("(min-width: 992px)")||_mpc_vars.breakpoints.custom("(min-width: 769px)")?g(a):a.trigger("mpc.inited")},250),window.InlineShortcodeView_mpc_connected_icons.__super__.rendered.call(this)},render:function(){return window.InlineShortcodeView_mpc_connected_icons.__super__.render.call(this),this.content().addClass("vc_element-container"),this.$el.addClass("vc_container-block"),this},beforeUpdate:function(){this.$el.find(".mpc-icon-column .mpc-connected-icons__line").remove()}})}var k=a(".mpc-connected-icons");d(k),k.each(function(){var b=a(this);b.one("mpc.init",function(){_mpc_vars.breakpoints.custom("(min-width: 769px)")?h(b):b.trigger("mpc.inited")})}),_mpc_vars.$window.on("mpc.resize",function(){a.each(k,function(){f(a(this))})})}(jQuery);