!function(a){"use strict";function b(a,b){return void 0==a.type?(a.type="color",a.color=b?"transparent":"#aaaaaa"):"color"==a.type?void 0!=a.color&&""!=a.color||(a.type="color",a.color=b?"transparent":"#aaaaaa"):"image"==a.type?void 0!=a.image&&""!=a.image||(a.type="color",a.color=b?"transparent":"#aaaaaa"):"gradient"==a.type&&(void 0!=a.gradient&&""!=a.gradient||(a.type="color",a.color=b?"transparent":"#aaaaaa")),a}function c(a,b,c,e){var f=a.width,g=.5*c.width,h=.5*c.height,i=.5*c.width;if("color"==a.type)a.loaded=!0,a.strokeStyle=a.color,e.trigger("mpc.loaded");else if("image"==a.type){var j=new Image;j.onload=function(){a.loaded=!0,a.strokeStyle=b.createPattern(j,a.repeat),e.trigger("mpc.loaded")},j.src=a.image}else if("gradient"==a.type){var k=a.gradient.split("||");if(5==k.length){var l,m=k[2].split(";");if("linear"==k[4]){var n=parseInt(k[3])+180,o=d(g,h,i+.5*f,n),p=d(g,h,i+.5*f,n+180>360?n-180:n+180);l=b.createLinearGradient(o.x,o.y,p.x,p.y)}else l=b.createRadialGradient(g,h,0,g,h,i+.5*f);l.addColorStop(.01*m[0],k[0]),l.addColorStop(.01*m[1],k[1]),a.loaded=!0,a.strokeStyle=l,e.trigger("mpc.loaded")}}}function d(a,b,c,d){return d=(d-90)*Math.PI/180,{x:a+c*Math.cos(d),y:b+c*Math.sin(d)}}function e(a,b,c,e){var f,g,h=.5*-Math.PI,i=Math.PI/180,j=2*Math.PI,k=e.width,l=.5*c.width,m=.5*c.height,n=.5*c.width-.5*k,o=!1!==e.marker,p=3e3;void 0!=e.fast&&(p=0),a.velocity({tween:[0,1]},{easing:[.25,.1,.25,1],duration:p*e.value,progress:function(a,k,p,q,r){f=360*(e.value-e.value*r),g=d(l,m,n,f),b.clearRect(0,0,c.width,c.height),b.lineWidth=e.width-.5,b.strokeStyle=e.chart_back.strokeStyle,b.beginPath(),b.arc(l,m,n,0,j,!1),b.stroke(),b.lineWidth=e.width,b.strokeStyle=e.chart_front.strokeStyle,b.beginPath(),b.arc(l,m,n,h,f*i+h,!1),b.stroke(),o&&e.marker.css({left:g.x,top:g.y})}})}function f(a,d){var f,g=a.find(".mpc-chart__marker"),h=a.find(".mpc-chart__box"),i=a.find(".mpc-chart__inner_circle"),j=a.find(".mpc-chart__outer_circle"),k=a.data("options"),l=a.find("canvas.mpc-chart")[0],m=l.getContext("2d");void 0!==k&&((a.is(".mpc-init--fast")||d)&&(k.fast=!0),k.radius=parseInt(k.radius),k.value=parseInt(k.value)/100,k.width=parseInt(k.width),k.default_radius=k.radius,a.width()<2*k.radius&&(k.radius=Math.floor(a.width()/2),h.width(2*k.radius),i.length&&(f=k.inner_radius*(k.radius/k.default_radius)*2,i.css({width:f,height:f})),j.length&&(f=k.outer_radius*(k.radius/k.default_radius)*2,j.css({width:f,height:f}))),k.width>=k.radius&&(k.width=k.radius-.01),k.marker=!!g.length&&g,l.setAttribute("width",2*k.radius),l.setAttribute("height",2*k.radius),m.lineWidth=k.width,k.chart_back=void 0!=k.chart_back?k.chart_back:{},k.chart_front=void 0!=k.chart_front?k.chart_front:{},k.chart_back.width=k.width,k.chart_back.loaded=!1,k.chart_front.width=k.width,k.chart_front.loaded=!1,k.chart_back=b(k.chart_back,!0),k.chart_front=b(k.chart_front,!1),a.on("mpc.loaded",function(){if(k.chart_front.loaded&&k.chart_back.loaded){var b=a.parents(".mpc-container");a.trigger("mpc.inited"),b.length?a.is(".mpc-parent--init")?b.one("mpc.parent-init",function(){e(h,m,l,k)}):e(h,m,l,k):a.is(".mpc-waypoint--init")?e(h,m,l,k):a.one("mpc.waypoint",function(){e(h,m,l,k)})}}),c(k.chart_back,m,l,a),c(k.chart_front,m,l,a),_mpc_vars.$window.on("mpc.resize",function(){var b=k.radius;a.width()<2*k.radius?(k.radius=Math.floor(a.width()/2),h.width(2*k.radius)):k.radius<k.default_radius&&(k.radius=Math.floor(Math.min(a.width()/2,k.default_radius)),h.width(2*k.radius)),b!=k.radius&&(k.fast=!0,l.setAttribute("width",2*k.radius),l.setAttribute("height",2*k.radius),e(h,m,l,k),i.length&&(f=k.inner_radius*(k.radius/k.default_radius)*2,i.css({width:f,height:f})),j.length&&(f=k.outer_radius*(k.radius/k.default_radius)*2,j.css({width:f,height:f})))}))}void 0!==window.InlineShortcodeView&&(window.InlineShortcodeView_mpc_chart=window.InlineShortcodeView.extend({rendered:function(){var a=this.$el.find(".mpc-chart-wrap");a.addClass("mpc-waypoint--init"),_mpc_vars.$body.trigger("mpc.icon-loaded",[a]),_mpc_vars.$body.trigger("mpc.font-loaded",[a]),_mpc_vars.$body.trigger("mpc.inited",[a]),f(a,!1),window.InlineShortcodeView_mpc_chart.__super__.rendered.call(this)}})),a(".mpc-chart-wrap").each(function(){var b=a(this);b.one("mpc.init",function(){f(b,!1)}),b.one("mpc.init-fast",function(){f(b.parents(".mpc-carousel__wrapper").find('.slick-cloned .mpc-chart-wrap[data-id="'+b.attr("data-id")+'"]'),!0)})})}(jQuery);