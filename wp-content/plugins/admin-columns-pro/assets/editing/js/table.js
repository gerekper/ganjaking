/*! For license information please see table.js.LICENSE.txt */
(()=>{var e={114:e=>{function t(e,t){if(!e)throw new Error(t||"AssertionError")}t.notEqual=function(e,n,s){t(e!=n,s)},t.notOk=function(e,n){t(!e,n)},t.equal=function(e,n,s){t(e==n,s)},t.ok=t,e.exports=t},403:(e,t,n)=>{var s=n(415),i=n(511),r=n(114);function a(e){if(!(this instanceof a))return new a(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}e.exports=a,a.prototype.emit=function(e){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.emit: eventName should be type string or symbol");for(var t=[],n=1,s=arguments.length;n<s;n++)t.push(arguments[n]);var a=i(this._name+"('"+e.toString()+"')"),o=this._listeners[e];return o&&o.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,a.uuid),a(),this},a.prototype.on=a.prototype.addListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.on: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.on: listener should be type function"),"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},a.prototype.prependListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},a.prototype.once=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.once: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.once: listener should be type function");var n=this;return this.on(e,(function s(){t.apply(n,arguments),n.removeListener(e,s)})),this},a.prototype.prependOnceListener=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependOnceListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var n=this;return this.prependListener(e,(function s(){t.apply(n,arguments),n.removeListener(e,s)})),this},a.prototype.removeListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.removeListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),"*"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(s(e,n,1),!0):void 0}}},a.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},a.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var s=t.length,i=0;i<s;i++)n.push(t[i]);return n},a.prototype._emit=function(e,t,n,s){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==s?[t].concat(n,s):[t].concat(n));for(var i=e.length,r=0;r<i;r++){var a=e[r];a.apply(a,n)}}}},792:(e,t,n)=>{var s=n(114),i="undefined"!=typeof window;function r(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}r.prototype.push=function(e){s.equal(typeof e,"function","nanoscheduler.push: cb should be type function"),this.queue.push(e),this.schedule()},r.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method((function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()}))}},r.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})},e.exports=function(){var e;return i?(window._nanoScheduler||(window._nanoScheduler=new r(!0)),e=window._nanoScheduler):e=new r,e}},511:(e,t,n)=>{var s,i=n(792)(),r=n(114);a.disabled=!0;try{s=window.performance,a.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!s.mark}catch(e){}function a(e){if(r.equal(typeof e,"string","nanotiming: name should be type string"),a.disabled)return o;var t=(1e4*s.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function l(r){var a="end-"+t+"-"+e;s.mark(a),i.push((function(){var i=null;try{var o=e+" ["+t+"]";s.measure(o,n,a),s.clearMarks(n),s.clearMarks(a)}catch(e){i=e}r&&r(i,e)}))}return s.mark(n),l.uuid=t,l}function o(e){e&&i.push((function(){e(new Error("nanotiming: performance API unavailable"))}))}e.exports=a},415:e=>{"use strict";e.exports=function(e,t,n){var s,i=e.length;if(!(t>=i||0===n)){var r=i-(n=t+n>i?i-t:n);for(s=t;s<r;++s)e[s]=e[s+n];e.length=r}}},669:(e,t,n)=>{e.exports=n(609)},448:(e,t,n)=>{"use strict";var s=n(867),i=n(26),r=n(372),a=n(327),o=n(97),l=n(109),c=n(985),u=n(874),d=n(648),h=n(644),p=n(205);e.exports=function(e){return new Promise((function(t,n){var m,f=e.data,g=e.headers,b=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(m),e.signal&&e.signal.removeEventListener("abort",m)}s.isFormData(f)&&s.isStandardBrowserEnv()&&delete g["Content-Type"];var E=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(y+":"+_)}var w=o(e.baseURL,e.url);function S(){if(E){var s="getAllResponseHeaders"in E?l(E.getAllResponseHeaders()):null,r={data:b&&"text"!==b&&"json"!==b?E.response:E.responseText,status:E.status,statusText:E.statusText,headers:s,config:e,request:E};i((function(e){t(e),v()}),(function(e){n(e),v()}),r),E=null}}if(E.open(e.method.toUpperCase(),a(w,e.params,e.paramsSerializer),!0),E.timeout=e.timeout,"onloadend"in E?E.onloadend=S:E.onreadystatechange=function(){E&&4===E.readyState&&(0!==E.status||E.responseURL&&0===E.responseURL.indexOf("file:"))&&setTimeout(S)},E.onabort=function(){E&&(n(new d("Request aborted",d.ECONNABORTED,e,E)),E=null)},E.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,E,E)),E=null},E.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",s=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,s.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,E)),E=null},s.isStandardBrowserEnv()){var C=(e.withCredentials||c(w))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;C&&(g[e.xsrfHeaderName]=C)}"setRequestHeader"in E&&s.forEach(g,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete g[t]:E.setRequestHeader(t,e)})),s.isUndefined(e.withCredentials)||(E.withCredentials=!!e.withCredentials),b&&"json"!==b&&(E.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&E.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&E.upload&&E.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(m=function(e){E&&(n(!e||e&&e.type?new h:e),E.abort(),E=null)},e.cancelToken&&e.cancelToken.subscribe(m),e.signal&&(e.signal.aborted?m():e.signal.addEventListener("abort",m))),f||(f=null);var T=p(w);T&&-1===["http","https","file"].indexOf(T)?n(new d("Unsupported protocol "+T+":",d.ERR_BAD_REQUEST,e)):E.send(f)}))}},609:(e,t,n)=>{"use strict";var s=n(867),i=n(849),r=n(321),a=n(185),o=function e(t){var n=new r(t),o=i(r.prototype.request,n);return s.extend(o,r.prototype,n),s.extend(o,n),o.create=function(n){return e(a(t,n))},o}(n(546));o.Axios=r,o.CanceledError=n(644),o.CancelToken=n(972),o.isCancel=n(502),o.VERSION=n(288).version,o.toFormData=n(675),o.AxiosError=n(648),o.Cancel=o.CanceledError,o.all=function(e){return Promise.all(e)},o.spread=n(713),o.isAxiosError=n(268),e.exports=o,e.exports.default=o},972:(e,t,n)=>{"use strict";var s=n(644);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,s=n._listeners.length;for(t=0;t<s;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,s=new Promise((function(e){n.subscribe(e),t=e})).then(e);return s.cancel=function(){n.unsubscribe(t)},s},e((function(e){n.reason||(n.reason=new s(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},644:(e,t,n)=>{"use strict";var s=n(648);function i(e){s.call(this,null==e?"canceled":e,s.ERR_CANCELED),this.name="CanceledError"}n(867).inherits(i,s,{__CANCEL__:!0}),e.exports=i},502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var s=n(867),i=n(327),r=n(782),a=n(572),o=n(185),l=n(97),c=n(875),u=c.validators;function d(e){this.defaults=e,this.interceptors={request:new r,response:new r}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var s=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var r,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var d=[a,void 0];for(Array.prototype.unshift.apply(d,s),d=d.concat(l),r=Promise.resolve(t);d.length;)r=r.then(d.shift(),d.shift());return r}for(var h=t;s.length;){var p=s.shift(),m=s.shift();try{h=p(h)}catch(e){m(e);break}}try{r=a(h)}catch(e){return Promise.reject(e)}for(;l.length;)r=r.then(l.shift(),l.shift());return r},d.prototype.getUri=function(e){e=o(this.defaults,e);var t=l(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},s.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),s.forEach(["post","put","patch"],(function(e){function t(t){return function(n,s,i){return this.request(o(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},648:(e,t,n)=>{"use strict";var s=n(867);function i(e,t,n,s,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i)}s.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var r=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){a[e]={value:e}})),Object.defineProperties(i,a),Object.defineProperty(r,"isAxiosError",{value:!0}),i.from=function(e,t,n,a,o,l){var c=Object.create(r);return s.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,a,o),c.name=e.name,l&&Object.assign(c,l),c},e.exports=i},782:(e,t,n)=>{"use strict";var s=n(867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){s.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},97:(e,t,n)=>{"use strict";var s=n(793),i=n(303);e.exports=function(e,t){return e&&!s(t)?i(e,t):t}},572:(e,t,n)=>{"use strict";var s=n(867),i=n(527),r=n(502),a=n(546),o=n(644);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new o}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=s.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),s.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},185:(e,t,n)=>{"use strict";var s=n(867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return s.isPlainObject(e)&&s.isPlainObject(t)?s.merge(e,t):s.isPlainObject(t)?s.merge({},t):s.isArray(t)?t.slice():t}function r(n){return s.isUndefined(t[n])?s.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!s.isUndefined(t[e]))return i(void 0,t[e])}function o(n){return s.isUndefined(t[n])?s.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function l(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l};return s.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||r,i=t(e);s.isUndefined(i)&&t!==l||(n[e]=i)})),n}},26:(e,t,n)=>{"use strict";var s=n(648);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new s("Request failed with status code "+n.status,[s.ERR_BAD_REQUEST,s.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},527:(e,t,n)=>{"use strict";var s=n(867),i=n(546);e.exports=function(e,t,n){var r=this||i;return s.forEach(n,(function(n){e=n.call(r,e,t)})),e}},546:(e,t,n)=>{"use strict";var s=n(867),i=n(16),r=n(648),a=n(874),o=n(675),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,d={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(448)),u),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e))return e;if(s.isArrayBufferView(e))return e.buffer;if(s.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=s.isObject(e),a=t&&t["Content-Type"];if((n=s.isFileList(e))||r&&"multipart/form-data"===a){var l=this.env&&this.env.FormData;return o(n?{"files[]":e}:e,l&&new l)}return r||"application/json"===a?(c(t,"application/json"),function(e,t,n){if(s.isString(e))try{return(0,JSON.parse)(e),s.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&s.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw r.from(e,r.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};s.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),s.forEach(["post","put","patch"],(function(e){d.headers[e]=s.merge(l)})),e.exports=d},874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},288:e=>{e.exports={version:"0.27.2"}},849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];return e.apply(t,n)}}},327:(e,t,n)=>{"use strict";var s=n(867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(s.isURLSearchParams(t))r=t.toString();else{var a=[];s.forEach(t,(function(e,t){null!=e&&(s.isArray(e)?t+="[]":e=[e],s.forEach(e,(function(e){s.isDate(e)?e=e.toISOString():s.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),r=a.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},372:(e,t,n)=>{"use strict";var s=n(867);e.exports=s.isStandardBrowserEnv()?{write:function(e,t,n,i,r,a){var o=[];o.push(e+"="+encodeURIComponent(t)),s.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),s.isString(i)&&o.push("path="+i),s.isString(r)&&o.push("domain="+r),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},268:(e,t,n)=>{"use strict";var s=n(867);e.exports=function(e){return s.isObject(e)&&!0===e.isAxiosError}},985:(e,t,n)=>{"use strict";var s=n(867);e.exports=s.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var s=e;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=s.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16:(e,t,n)=>{"use strict";var s=n(867);e.exports=function(e,t){s.forEach(e,(function(n,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[s])}))}},623:e=>{e.exports=null},109:(e,t,n)=>{"use strict";var s=n(867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,a={};return e?(s.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=s.trim(e.substr(0,r)).toLowerCase(),n=s.trim(e.substr(r+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},675:(e,t,n)=>{"use strict";var s=n(867);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":s.isDate(e)?e.toISOString():s.isArrayBuffer(e)||s.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(r,a){if(s.isPlainObject(r)||s.isArray(r)){if(-1!==n.indexOf(r))throw Error("Circular reference detected in "+a);n.push(r),s.forEach(r,(function(n,r){if(!s.isUndefined(n)){var o,l=a?a+"."+r:r;if(n&&!a&&"object"==typeof n)if(s.endsWith(r,"{}"))n=JSON.stringify(n);else if(s.endsWith(r,"[]")&&(o=s.toArray(n)))return void o.forEach((function(e){!s.isUndefined(e)&&t.append(l,i(e))}));e(n,l)}})),n.pop()}else t.append(a,i(r))}(e),t}},875:(e,t,n)=>{"use strict";var s=n(288).version,i=n(648),r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};r.transitional=function(e,t,n){function r(e,t){return"[Axios v"+s+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,s,o){if(!1===e)throw new i(r(s," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!a[s]&&(a[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,o)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(e),r=s.length;r-- >0;){var a=s[r],o=t[a];if(o){var l=e[a],c=void 0===l||o(l,a,e);if(!0!==c)throw new i("option "+a+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+a,i.ERR_BAD_OPTION)}},validators:r}},867:(e,t,n)=>{"use strict";var s,i=n(849),r=Object.prototype.toString,a=(s=Object.create(null),function(e){var t=r.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())});function o(e){return e=e.toLowerCase(),function(t){return a(t)===e}}function l(e){return Array.isArray(e)}function c(e){return void 0===e}var u=o("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function h(e){if("object"!==a(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=o("Date"),m=o("File"),f=o("Blob"),g=o("FileList");function b(e){return"[object Function]"===r.call(e)}var v=o("URLSearchParams");function E(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),l(e))for(var n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var y,_=(y="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return y&&e instanceof y});e.exports={isArray:l,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||r.call(e)===t||b(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:h,isUndefined:c,isDate:p,isFile:m,isBlob:f,isFunction:b,isStream:function(e){return d(e)&&b(e.pipe)},isURLSearchParams:v,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:E,merge:function e(){var t={};function n(n,s){h(t[s])&&h(n)?t[s]=e(t[s],n):h(n)?t[s]=e({},n):l(n)?t[s]=n.slice():t[s]=n}for(var s=0,i=arguments.length;s<i;s++)E(arguments[s],n);return t},extend:function(e,t,n){return E(t,(function(t,s){e[s]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,s){e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var s,i,r,a={};t=t||{};do{for(i=(s=Object.getOwnPropertyNames(e)).length;i-- >0;)a[r=s[i]]||(t[r]=e[r],a[r]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:o,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var s=e.indexOf(t,n);return-1!==s&&s===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:_,isFileList:g}},204:e=>{function t(e,t){if(!e)throw new Error(t||"AssertionError")}t.notEqual=function(e,n,s){t(e!=n,s)},t.notOk=function(e,n){t(!e,n)},t.equal=function(e,n,s){t(e==n,s)},t.ok=t,e.exports=t},559:(e,t,n)=>{var s=n(69),i=n(999),r=n(204);function a(e){if(!(this instanceof a))return new a(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}e.exports=a,a.prototype.emit=function(e){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.emit: eventName should be type string or symbol");for(var t=[],n=1,s=arguments.length;n<s;n++)t.push(arguments[n]);var a=i(this._name+"('"+e.toString()+"')"),o=this._listeners[e];return o&&o.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,a.uuid),a(),this},a.prototype.on=a.prototype.addListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.on: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.on: listener should be type function"),"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},a.prototype.prependListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},a.prototype.once=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.once: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.once: listener should be type function");var n=this;return this.on(e,(function s(){t.apply(n,arguments),n.removeListener(e,s)})),this},a.prototype.prependOnceListener=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependOnceListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var n=this;return this.prependListener(e,(function s(){t.apply(n,arguments),n.removeListener(e,s)})),this},a.prototype.removeListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.removeListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),"*"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(s(e,n,1),!0):void 0}}},a.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},a.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var s=t.length,i=0;i<s;i++)n.push(t[i]);return n},a.prototype._emit=function(e,t,n,s){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==s?[t].concat(n,s):[t].concat(n));for(var i=e.length,r=0;r<i;r++){var a=e[r];a.apply(a,n)}}}},61:(e,t,n)=>{var s=n(204),i="undefined"!=typeof window;function r(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}r.prototype.push=function(e){s.equal(typeof e,"function","nanoscheduler.push: cb should be type function"),this.queue.push(e),this.schedule()},r.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method((function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()}))}},r.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})},e.exports=function(){var e;return i?(window._nanoScheduler||(window._nanoScheduler=new r(!0)),e=window._nanoScheduler):e=new r,e}},999:(e,t,n)=>{var s,i=n(61)(),r=n(204);a.disabled=!0;try{s=window.performance,a.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!s.mark}catch(e){}function a(e){if(r.equal(typeof e,"string","nanotiming: name should be type string"),a.disabled)return o;var t=(1e4*s.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function l(r){var a="end-"+t+"-"+e;s.mark(a),i.push((function(){var i=null;try{var o=e+" ["+t+"]";s.measure(o,n,a),s.clearMarks(n),s.clearMarks(a)}catch(e){i=e}r&&r(i,e)}))}return s.mark(n),l.uuid=t,l}function o(e){e&&i.push((function(){e(new Error("nanotiming: performance API unavailable"))}))}e.exports=a},69:e=>{"use strict";e.exports=function(e,t,n){var s,i=e.length;if(!(t>=i||0===n)){var r=i-(n=t+n>i?i-t:n);for(s=t;s<r;++s)e[s]=e[s+n];e.length=r}}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";class e{input(e,t=null,n={}){let s=document.createElement("input");return s.name=e,t&&(s.value=t),n=Object.assign({},{type:"text"},n),this.setHtmlAttributes(s,n),s}textarea(e,t="",n={}){let s=document.createElement("textarea");return s.name=e,this.setHtmlAttributes(s,n),s}checkbox(e,t,n){let s=document.createElement("label");return s.classList.add("input__checkbox"),s.innerHTML=`<input type="checkbox" name="${e}" class="input__checkbox__input" value="${t}"><span class="input__checkbox__label">${n}</span>`,s}setHtmlAttributes(e,t){Object.keys(t).forEach((n=>e.setAttribute(n,t[n])))}inputGroup(e,t){return`\n\t\t<div class="input__group">\n\t\t\t<label>${e}</label>\n\t\t\t<div class="input__controlgroup">${t}</div>\n\t\t</div>\n\t\t`}}class t{constructor(){this.form=new e,this.element=s(),this.setError("")}setTemplate(e){let t=this.getElement().querySelector(".aceditable__form__inputs");return t.innerHTML="",t.insertAdjacentHTML("afterbegin",e),this}getElement(){return this.element}setError(e){let t=this.getElement().querySelector(".aceditable__form__error");return e?(t.innerHTML=e,t.style.display="block"):t.style.display="none",this}getFormHelper(){return this.form}addClass(e){return this.element.classList.add(e),this}setSubmitButton(e){this.element.querySelector("[data-submit]").innerHTML=e}showButtons(e=!0){return this.element.querySelector(".aceditable__form__controls").style.display=e?"block":"none",this}}const s=()=>{let e=document.createElement("div");return e.classList.add("aceditable"),e.innerHTML='\t\t\n\t\t\t<div class="aceditable__content">\n\t\t\t\t<form class="aceditable__form" autocomplete="off">\n\t\t\t\t\t<div class="aceditable__form__inputs">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="aceditable__form__controls">\n\t\t\t\t\t\t<button data-submit="" class="button aceditable__button -primary"><span class="dashicons dashicons-yes"></span></button>\n\t\t\t\t\t\t<button data-cancel="" class="button aceditable__button"><span class="dashicons dashicons-no"></span></button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t<div class="aceditable__form__error"></div>\n\t\t\t</div>\n\t\t\t<div class="aceditable__spinner spinner"></div>\n\t\t',e};var i=n(559),r=n.n(i);const a=(e,t,...n)=>{let s=n.reduce(((e,t)=>e&&e[t]),e);return void 0!==s?s:t},o=(e,t)=>void 0===e?t:e,l=(e,t)=>{let n=t;return"object"==typeof e&&Object.keys(e).forEach((t=>{let s=e[t];void 0===n&&(n={}),"object"==typeof s?(n.hasOwnProperty(t)||(n[t]=Array.isArray(s)?[]:{}),n[t]=l(s,n[t])):n[t]=s})),n};class c{constructor(e){this.isInit=!1,this.template=new t,this.settings=l(e,this.getDefaults()),this.Events=new(r())}close(){return this.removeElement(),this.Events.emit("close",this),this}focus(){}get(){return this.element=this.template.getElement(),this.beforeRender(),this.render(),this.valueToInput(this.settings.value),this.initEvents(),this.element}render(){}getEditableTemplate(){return this.template}toggle(e){return this.element.querySelectorAll("input, select, textarea, button").forEach((t=>t.disabled=!1===e)),this.disabled=!1===e,this}disable(){return this.toggle(!1)}enable(){return this.toggle(!0)}beforeRender(){this.template.setTemplate(this.getTemplate()).addClass("-"+this.getEditableType()).setError("").showButtons(!this.settings.hasOwnProperty("showbuttons")||!1!==this.settings.showbuttons)}save(){!this.disabled&&this.validate()&&this.Events.emit("save",this)}initEvents(){this.isInit||(this.getElement().addEventListener("click",(e=>e.stopPropagation())),this.getElement().querySelector("button[data-submit]").addEventListener("click",(e=>{e.preventDefault(),this.save()})),this.getElement().querySelector("button[data-cancel]").addEventListener("click",(e=>{e.preventDefault(),this.close()})),this.getElement().querySelector("form").addEventListener("submit",(e=>{e.preventDefault(),this.save()})),this.isInit=!0)}getArg(e,t=null){return a(this.settings,t,e.split("."))}removeElement(){this.getElement()&&this.getElement().remove()}toggleLoading(e=!0){this.getElement()&&(e?this.getElement().classList.add("-loading"):this.getElement().classList.remove("-loading"))}setValue(e){return this.settings.value=e,this}setObjectId(e){return this.settings.object_id=e,this}getObjectId(){return!!this.settings.hasOwnProperty("object_id")&&this.settings.object_id}setError(e){this.template.setError(e)}getElement(){return this.element}validate(){let e=this.getElement().querySelector("form");return!!this.getElement().querySelector("form").checkValidity()||(e.reportValidity(),!1)}getDefaults(){return{title:!1,showbuttons:!0,mode:"inline"}}}class u extends c{getEditableType(){return"checkbox"}focus(){let e=this.getElement().querySelector("form input[type=checkbox]");e&&e.focus({preventScroll:!0})}render(){const e=this.getElement().querySelector(".input__group.-checkbox");Object.keys(this.settings.options).forEach((t=>{let n=this.settings.options[t];e.insertAdjacentHTML("beforeend",this.getEditableTemplate().getFormHelper().checkbox("option[]",n.value,n.text).outerHTML)}))}valueToInput(e){Array.isArray(e)&&e.forEach((e=>{let t=this.getElement().querySelector(`input[value="${e}"]`);t&&(t.checked=!0)}))}getValue(){let e=[];return this.getElement().querySelectorAll("form input[type=checkbox]:checked").forEach((t=>e.push(t.value))),e}getTemplate(){return'<div class="input__group -checkbox"></div>'}getDefaults(){let e=super.getDefaults();return e.options=[],e}}class d extends c{getEditableType(){return"color"}focus(){this.getElement().querySelector("button").focus({preventScroll:!0})}valueToInput(e){let t=this.getElement().querySelector("input");e&&t&&(t.value=e),jQuery(t).wpColorPicker()}getValue(){return this.getElement().querySelector("input").value}getTemplate(){return this.getEditableTemplate().getFormHelper().input("color").outerHTML}}class h extends c{getEditableType(){return"date"}focus(){}render(){const e=this,t=jQuery(this.getElement().querySelector("[name=date]"));document.body.classList.add("ac-jqui"),t.prop("readonly",!0).datepicker({dateFormat:"yy-mm-dd",changeYear:!0,firstDay:this.settings.weekstart,showButtonPanel:!0,onSelect:()=>{this.settings.showbuttons||e.save()},beforeShow:(t,n)=>{setTimeout((function(){let t=n.dpDiv.get(0);t.style.position="relative",t.style.left=0,t.style.top=0,e.getElement().querySelector(".input__date").append(t)}),0)}}).on("click",(()=>{t.prop("readonly",!1)})).on("blur",(()=>{t.prop("readonly",!0)}))}valueToInput(e){e&&8===e.length&&(e=p(e)),setTimeout((()=>{jQuery(this.getElement().querySelector("[name=date]")).val(e).datepicker("show")}),50)}getValue(){return this.getElement().querySelector("[name=date]").value}getTemplate(){return`\n\t\t\t${this.getEditableTemplate().getFormHelper().input("date","",{placeholder:"yyyy-mm-dd",autocomplete:"nope"}).outerHTML}\n\t\t\t<div class="input__date"></div>\n\t\t`}getDefaults(){let e=super.getDefaults();return e.weekstart=1,e}}const p=e=>[(e=[e.slice(0,4),"-",e.slice(4)].join("")).slice(0,7),"-",e.slice(7)].join("");class m extends c{getEditableType(){return"datetime"}render(){document.body.classList.add("ac-jqui"),m.createSelectHours(this.getHourElement(),this.getArg("timeformat",null)),m.createSelectIncementalOptions(this.getMinutesElement()),m.createSelectIncementalOptions(this.getSecondsElement()),jQuery(this.getDateElement()).datepicker({dateFormat:"yy-mm-dd",changeYear:!0,showButtonPanel:!0,firstDay:this.getArg("weekstart",1)})}close(){return document.body.classList.remove("ac-jqui"),super.close()}focus(){this.getDateElement().focus({preventScroll:!0})}valueToInput(e){if(!e)return;let t=new Date(e.replace(/-/g,"/"));isNaN(t.getTime())||(this.getDateElement().value=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2),this.getHourElement().value=("0"+t.getHours()).slice(-2),this.getMinutesElement().value=("0"+t.getMinutes()).slice(-2),this.getSecondsElement().value=("0"+t.getSeconds()).slice(-2))}getValue(){let e=this.getDateElement().value,t=this.getHourElement().value,n=this.getMinutesElement().value,s=this.getSecondsElement().value;return!!(e&&t&&n&&s)&&`${e} ${t}:${n}:${s}`}getTemplate(){return`\n\t\t\t${this.getEditableTemplate().getFormHelper().input("date","",{placeholder:"yyyy-mm-dd",autocomplete:"nope"}).outerHTML}\n\t\t\t<div class="input__time">\n\t\t\t\t<select name="time_hours"></select>\t\t\t\t\n\t\t\t\t<select name="time_minutes"></select>\t\t\t\t\n\t\t\t\t<select name="time_seconds"></select>\t\t\t\t\n\t\t\t</div>\n\t\t`}getDateElement(){return this.getElement().querySelector("[name=date]")}getHourElement(){return this.getElement().querySelector("[name=time_hours]")}getMinutesElement(){return this.getElement().querySelector("[name=time_minutes]")}getSecondsElement(){return this.getElement().querySelector("[name=time_seconds]")}getDefaults(){return Object.assign(super.getDefaults(),{weekstart:1,showbuttons:!0})}static createSelectHours(e,t){for(let n=0;n<24;n++){let s=document.createElement("option"),i=("0"+n.toString()).slice(-2);s.setAttribute("value",i),s.text=12===t?m.formatAMPM(parseInt(i)):i,e.append(s)}}static formatAMPM(e){let t=e>=12?"pm":"am";return(e=(e%=12)||12)+" "+t}static createSelectIncementalOptions(e,t=0,n=60){for(let s=t;s<n;s++){let t=document.createElement("option"),n=("0"+s).slice(-2);t.setAttribute("value",n),t.text=n,e.append(t)}}}class f extends c{getEditableType(){return"text"}render(){this.getElement().classList.add(`-input-${a(this.settings,"text",["html_attributes","type"])}`)}focus(){this.getElement().querySelector("input").focus({preventScroll:!0})}valueToInput(e){e&&(this.getElement().querySelector("input").value=e)}getValue(){return this.getElement().querySelector("input").value}getTemplate(){return this.getEditableTemplate().getFormHelper().input("input",null,this.settings.html_attributes).outerHTML}}class g extends c{getEditableType(){return"textarea"}focus(){this.getElement().querySelector("textarea").focus({preventScroll:!0})}valueToInput(e){const t=this.getElement().querySelector("textarea");setTimeout((()=>{t.focus(),t.setSelectionRange(0,0)}),0),e&&(t.value=e)}getValue(){return this.getElement().querySelector("textarea").value}getTemplate(){return this.getEditableTemplate().getFormHelper().textarea("text",null,this.settings.html_attributes).outerHTML}getDefaults(){return Object.assign(super.getDefaults(),{html_attributes:{rows:6}})}}class b extends c{getEditableType(){return"togglable"}render(){let e=this.settings.options,t=this.getFirstInput(),n=this.getSecondInput();t.value=e[0].value,n.value=e[1].value,t.parentElement.querySelector(".toggle__label").innerHTML=e[0].label,n.parentElement.querySelector(".toggle__label").innerHTML=e[1].label,b.getTrueValues().includes(e[0].label.toString().toLowerCase())?(t.parentElement.querySelector(".toggle__label").innerHTML=b.getDefaultTrueLabel(),n.parentElement.querySelector(".toggle__label").innerHTML=b.getDefaultFalseLabel()):b.getFalseValues().includes(e[0].label.toString().toLowerCase())&&(t.parentElement.querySelector(".toggle__label").innerHTML=b.getDefaultFalseLabel(),n.parentElement.querySelector(".toggle__label").innerHTML=b.getDefaultTrueLabel())}valueToInput(e){if(!this.settings.showbuttons&&null!==e){let t=!1,n=this.getFirstInput(),s=this.getSecondInput();n.value.toString()===e.toString()&&(s.checked=!0,t=!0),s.value.toString()===e.toString()&&(n.checked=!0,t=!0),t||(this.getTrueInput().checked=!0),this.save(),this.close()}}getTrueInput(){return b.getTrueValues().includes(this.settings.options[0].value.toString().toLowerCase())?this.getFirstInput():this.getSecondInput()}getFirstInput(){return this.getElement().querySelector("input[data-o1]")}getSecondInput(){return this.getElement().querySelector("input[data-o2]")}getValue(){return this.getElement().querySelector("input:checked").value}static getTrueValues(){return["true","yes","1","on"]}static getFalseValues(){return["","0","no","false","off"]}static getDefaultTrueLabel(){return'<span class="dashicons dashicons-yes"></span>'}static getDefaultFalseLabel(){return'<span class="dashicons dashicons-no"></span>'}getTemplate(){return'\n\t\t<label >\n\t\t\t<input type="radio" name="toggle" data-o1>\n\t\t\t<span class="toggle__label"></span>\n\t\t</label>\n\t\t<label data-false>\n\t\t\t<input type="radio" name="toggle" data-o2>\n\t\t\t<span class="toggle__label"></span>\n\t\t</label>'}}class v extends c{getEditableType(){return"fullname"}focus(){this.getFirstNameElement().focus({preventScroll:!0})}render(){this.getFirstNameElement().placeholder=this.getArg("placeholder_first_name",""),this.getLastNameElement().placeholder=this.getArg("placeholder_last_name","")}valueToInput(e){this.getFirstNameElement().value=o(e.first_name,""),this.getLastNameElement().value=o(e.last_name,"")}getValue(){return{first_name:this.getFirstNameElement().value,last_name:this.getLastNameElement().value}}getTemplate(){return'\n\t\t\t<div class="aceditable__form__inputs">\n\t\t\t\t<div class="input__group">\n\t\t\t\t<input name="first_name" type="text" placeholder="First name">\n\t\t\t\t<input name="last_name" type="text" placeholder="Last name">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'}getFirstNameElement(){return this.getElement().querySelector('[name="first_name"]')}getLastNameElement(){return this.getElement().querySelector('[name="last_name"]')}}class E extends c{getEditableType(){return"select"}focus(){this.getElement().querySelector("select").focus({preventScroll:!0})}render(){let e=this.getElement().querySelector("select");Object.keys(this.settings.options).forEach((t=>{let n=this.settings.options[t];e.append(new Option(n.label,n.value))}))}getSelectElement(){return this.getElement().querySelector('select[name="value"]')}valueToInput(e){e&&(this.getSelectElement().value=e)}getValue(){return this.getSelectElement().value}getTemplate(){return'<select name="value"></select>'}}const y=ACP_Editing.i18n.replace_with,_=ACP_Editing.i18n.add,w=ACP_Editing.i18n.remove;class S extends c{getEditableType(){return"select2"}focus(){jQuery(this.getSelectBox()).ac_select2("open")}render(){this.getObjectId()&&(this.getElement().querySelector(".acs2").dataset.objectId=this.getObjectId()),this.settings.showbuttons||(this.getElement().querySelector(".aceditable__form__controls").style.display="none")}getSelectBox(){return this.getElement().querySelector(".acs2")}close(){return jQuery(this.getElement().querySelector(".acs2")).ac_select2("close"),super.close()}valueToInput(e){let t=jQuery(this.getElement().querySelector(".acs2"));t.ac_select2(this.settings.select2),t.on("select2:select",(()=>jQuery(".select2-search__field").val(""))),e&&((e,t=!0)=>{const n=[];return Object.keys(e).forEach((t=>{n.push(new Option(e[t],t,!0,!0))})),t&&n.sort(((e,t)=>e.label.localeCompare(t.label))),n})(e,!0).forEach((e=>t.append(e).trigger("change"))),this.settings.showbuttons||t.on("change",(()=>{this.save()}))}getTemplate(){return'<select class="acs2"></select>'}}class C extends S{getValue(){return this.getElement().querySelector("select.acs2").value}}class T extends S{getValue(){const e=this.getElement().querySelectorAll("select.acs2 option:checked");return Array.from(e).map((e=>e.value))}}class x extends T{render(){super.render(),this.getElement().querySelector(".aceditable__form__inputs").insertAdjacentHTML("afterbegin",L)}getTypeElement(){return this.getElement().querySelector("[name=method]")}getValue(){return{value:super.getValue(),method:this.getTypeElement().value}}}const L=`\n\t<div class="input__group -type -strategy">\n        <select class="type" name="method">\n            <option value="replace">${y}..</option>\n            <option value="add">${_}..</option>\n            <option value="remove">${w}..</option>\n        </select>\n\t</div>\n`;class A extends E{render(){super.render(),jQuery(this.getSelectElement()).ac_select2(this.settings.select2).ac_select2("focus"),this.settings.showbuttons||(this.getElement().querySelectorAll(".aceditable__form__controls").forEach((e=>e.style.display="none")),jQuery(this.getSelectElement()).on("change",(()=>{this.save()})))}close(){return jQuery(this.getSelectElement()).ac_select2("close"),super.close()}valueToInput(e){jQuery(this.getSelectElement()).val(e).change()}}class k extends A{valueToInput(e){jQuery(this.getSelectElement()).val(e).change()}getValue(){const e=this.getSelectElement().querySelectorAll("option:checked");return Array.from(e).map((e=>e.value))}}class O extends k{render(){super.render(),this.getElement().querySelector(".aceditable__form__inputs").insertAdjacentHTML("afterbegin",L)}getValue(){return{value:super.getValue(),method:this.getElement().querySelector("[name=method]").value}}}class q{constructor(e,t=""){this.element=e,this.content=t||e.dataset.acTip,this.tip=j(this.content),this.initEvents()}initEvents(){"1"!==this.element.dataset.acTooltipInit&&(this.element.dataset.acTooltipInit="1",this.element.addEventListener("mouseenter",(()=>{const e=document.body.getBoundingClientRect(),t=this.element.getBoundingClientRect();document.body.appendChild(this.tip),this.tip.style.left=t.left-e.left+this.element.offsetWidth/2+"px",this.tip.style.top=t.top-e.top+this.element.offsetHeight+"px",this.tip.classList.add("hover")})),this.element.addEventListener("mouseleave",(()=>{this.tip.classList.remove("hover"),document.body.removeChild(this.tip)})))}}const j=e=>{let t=document.createElement("div");return t.classList.add("ac-tooltip"),t.innerHTML=e,t};class P extends c{getEditableType(){return"media"}render(){var e;!0===(null===(e=this.settings.library)||void 0===e?void 0:e.uploadedTo)&&(this.settings.library.uploadedTo=this.settings.object_id),this.library=wp.media({multiple:this.settings.multiple,library:this.settings.library,title:this.settings.title}),this.displaySaveButton(!1),this.currentValues=[],this._addEvents()}valueToInput(e){e&&(this.currentValues=Array.isArray(e)?e:[e]),this.getArg("showbuttons",!0)||this.library.open()}getValue(){return this.getArg("multiple",!0)?this.currentValues:this.currentValues[0]}getTemplate(){return'\n\t\t<a href="#" class="wplib button">Select</a>\n\t\t<div class="aceditable__selected"></div>'}_addEvents(){this.getElement().querySelector(".wplib").addEventListener("click",(e=>{e.preventDefault(),this.library.open()})),this.library.on("open",(()=>{let e=this.library.state().get("selection"),t=this.currentValues;t&&!this.settings.disableSelection&&t.forEach((t=>{let n=wp.media.attachment(t);n.fetch(),e.add(n?[n]:[])}))})),this.library.on("select",(()=>{let e=this.library.state().get("selection").toJSON(),t=[];e.forEach((e=>{t.push(e.id.toString())})),this.currentValues=t,this.settings.showbuttons||(this.save(),this.close()),this.SetImagesFromSelection(this.library.state().get("selection").models),this.displayLibraryButton(!1),this.displaySaveButton(!0)})),this.library.on("close",(()=>{this.settings.showbuttons||setTimeout((()=>this.close()),0)}))}displaySaveButton(e){this.getElement().querySelector(".aceditable__form__controls").style.display=e?"inline-block":"none"}displayLibraryButton(e=!0){this.getElement().querySelector(".wplib").style.display=e?"inline-block":"none"}SetImagesFromSelection(e){let t=this.getElement().querySelector(".aceditable__selected");0!==e.length&&e.forEach((e=>{let n=document.createElement("div"),s="image"===e.attributes.type?P.getImageElement(e):P.getFileElement(e);s&&(n.append(s),n.append(P.getInfoElement(e)),n.classList.add("aceditable__selected__item"),new q(n,n.querySelector(".aceditable__selected__item__info").innerHTML),s.addEventListener("click",(e=>{e.preventDefault(),this.library.open()})),t.append(n))}))}static getInfoElement(e){let t=document.createElement("div");return t.classList.add("aceditable__selected__item__info"),t.innerHTML=`\n\t\t\t<div>${e.attributes.title}</div>\n\t\t\t<div>${e.attributes.filename}</div>\n\t\t\t<div>ID: ${e.attributes.id}</div>\n\t\t`,t}static getImageElement(e){let t=document.createElement("img"),n=e.attributes.url;return e.attributes.sizes.hasOwnProperty("thumbnail")&&(n=e.attributes.sizes.thumbnail.url),t.setAttribute("src",n),t.classList.add("image"),t}static getFileElement(e){let t=document.createElement("img");return t.setAttribute("src",e.attributes.icon),t.classList.add("file"),t}getDefaults(){return Object.assign(super.getDefaults(),{title:"Media",multiple:!0,disableSelection:!1,library:{uploadedTo:!1}})}}const I=(e,t)=>{var n;null===(n=null==t?void 0:t.parentNode)||void 0===n||n.insertBefore(e,t.nextSibling)};class D extends c{getEditableType(){return"multi_input"}focus(){let e=this.getElement().querySelector("form input, form textarea");e&&e.focus({preventScroll:!0})}getSubType(){return this.getArg("subtype")}valueToInput(e){(!e||Array.isArray(e)&&0===e.length)&&(e=[""]),e.forEach((e=>{let t=this.createSingleInput(e);this.getElement().querySelector(".acp-ie-multi-container").append(t)}))}createSingleInput(e){let t=this.settings.subtype,n=document.createElement("div"),s="textarea"===t?this.getEditableTemplate().getFormHelper().textarea("input",e):this.getEditableTemplate().getFormHelper().input("input",e,{type:this.getSubType()});return s.value=e,n.classList.add("single-input"),n.append(s),n.append(this.createControls()),n}determineControls(){let e=this.getElement().querySelectorAll(".single-input").length;this.getElement().querySelectorAll(".single-input__control.-remove").forEach((t=>{t.style.display=e>1?"inline-block":"none"}))}createControls(){let e=document.createElement("div");return e.classList.add("single-input__controls"),e.innerHTML='\n\t\t\t<span class="single-input__control -add">\n\t\t\t\t<span class="dashicons dashicons-plus"></span>\n\t\t\t</span>\n\t\t\t<span class="single-input__control -remove">\n\t\t\t\t<span class="dashicons dashicons-minus"></span>\n\t\t\t</span>\n\t\t',e.querySelector(".-add").addEventListener("click",(e=>this.eventNewRow(e.target))),e.querySelector(".-remove").addEventListener("click",(e=>{e.target.closest(".single-input").remove(),this.determineControls()})),setTimeout((()=>{this.determineControls()}),0),e}eventNewRow(e){let t=e.closest(".single-input");t&&I(this.createSingleInput(""),t)}getValue(){let e=[];return this.getElement().querySelectorAll(".single-input input, .single-input textarea").forEach((t=>{e.push(t.value)})),e}getTemplate(){return'<div class="acp-ie-multi-container"></div>'}getDefaults(){return Object.assign(super.getDefaults(),{subtype:"text"})}}const R="ac-edit-popper-wrapper";class N extends c{getEditableType(){return"wysiwyg"}render(){let e=this.getEditorId();jQuery(this.getElement().querySelector("textarea")).attr("id",e),this.getElement().addEventListener("click",(e=>e.preventDefault())),setTimeout((()=>{let t=this.getEditorSettings(),n=this.getElement().closest(".ac-edit-popper"),s=this.getElement().closest(".ac-modal.-bulkedit");n&&(n.classList.add("-full"),this.wrapPopper()),s&&(s.classList.add("-wysiwyg"),t.tinymce.height="300px"),wp.editor.initialize(e,t)}))}wrapPopper(){let e=document.createElement("div"),t=this.getElement().closest(".ac-edit-popper");e.classList.add(R),document.body.append(e),e.appendChild(t)}removePopperwrap(){document.querySelectorAll(`.${R}`).forEach((e=>e.remove()))}getEditorSettings(){let e=Object.assign({},wp.editor.getDefaultSettings());return e.tinymce.toolbar1="formatselect,bold,italic,bullist,numlist,blockquote,alignleft,alignright,aligncenter,link,unlink,wp_add_media,wp_more,fullscreen,wp_adv",e.tinymce.toolbar2="strikethrough,hr,forecolor,pastetext,removeformat,charmap,undo,redo",e.tinymce.width="100%",e.quicktags=!0,e.mediaButtons=!0,e}close(){return this.id=null,this.removePopperwrap(),super.close()}getEditorId(){return this.id||(this.id="acp_"+Math.floor(1e4*Math.random())+"_"+Math.floor(1e4*Math.random())+"_"+Math.floor(1e4*Math.random())),this.id}valueToInput(e){let t=this.getElement().querySelector("textarea");e&&t&&(t.value=e)}getValue(){let e=this.getEditorId();return wp.editor.getContent(e)}getTemplate(){return"<textarea></textarea>"}}class M extends c{getEditableType(){return"select"}close(){return jQuery(this.getElement().querySelector(".acs2")).ac_select2("close"),super.close()}valueToInput(e){this.getRemoteData().done((t=>{let n=this.settings.select2;n.data=t.data.results,jQuery(this.getElement().querySelector(".acs2")).ac_select2(n).val(e).trigger("change")}))}getRemoteData(){const e=this.getObjectId();return jQuery.ajax({url:ajaxurl,dataType:"json",method:"get",data:{action:"acp_editing_request",method:this.settings.mode+"-select-values",layout:AC.layout,column:this.settings.column,item_id:e||null,list_screen:AC.list_screen,_ajax_nonce:AC.ajax_nonce}})}getValue(){return this.getElement().querySelector("select.acs2").value}getTemplate(){return'<select class="acs2"></select>'}getDefaults(){let e=super.getDefaults();return e.showbuttons=!0,e}}const H=ACP_Editing.i18n.replace_with,$=ACP_Editing.i18n.operators.add,B=ACP_Editing.i18n.operators.subtract,V=ACP_Editing.i18n.operators.multiply,F=ACP_Editing.i18n.operators.divide,U="replace";class W extends c{render(){this.initValidationAttributes(),this.getValueInput().addEventListener("blur",(()=>{this.initValidationAttributes()}))}focus(){this.getElement().querySelector("input").focus()}getEditableType(){return"number"}valueToInput(e){e&&(this.getElement().querySelector("input").value=e)}getValueInput(){return this.getElement().querySelector('[name="value"]')}getComputationSelect(){return this.getElement().querySelector("[name=computation_type]")}getComputationType(){return this.getComputationSelect().value}initValidationAttributes(){const e=this.getComputationType();this.getValueInput().required=e!==U}getValue(){return{allow_negative:!0,value:this.getValueInput().value,computation_type:this.getComputationType()}}getTemplate(){let e=this.getEditableTemplate().getFormHelper().input("value",null,this.settings.html_attributes).outerHTML;return`\n            <div class="input__group -type -strategy">\n                <select class="type" name="computation_type">\n                    <option value="replace">${H}..</option>\n                    <option value="add">${$}..</option>\n                    <option value="subtract">${B}..</option>\n                    <option value="multiply">${V}..</option>\n                    <option value="divide">${F}..</option>\n                </select>\n                ${e}\n            </div>\n        `}}function Q(){}function J(e){return e()}function z(){return Object.create(null)}function Y(e){e.forEach(J)}function G(e){return"function"==typeof e}function X(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function K(e){return 0===Object.keys(e).length}new Set;let Z,ee=!1;function te(e,t){e.appendChild(t)}function ne(e,t,n){e.insertBefore(t,n||null)}function se(e){e.parentNode.removeChild(e)}function ie(e){return document.createElement(e)}function re(e){return document.createTextNode(e)}function ae(){return re(" ")}function oe(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function le(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ce(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ue(e,t){e.value=null==t?"":t}function de(e){Z=e}new Set;const he=[],pe=[],me=[],fe=[],ge=Promise.resolve();let be=!1;function ve(e){me.push(e)}let Ee=!1;const ye=new Set;function _e(){if(!Ee){Ee=!0;do{for(let e=0;e<he.length;e+=1){const t=he[e];de(t),we(t.$$)}for(de(null),he.length=0;pe.length;)pe.pop()();for(let e=0;e<me.length;e+=1){const t=me[e];ye.has(t)||(ye.add(t),t())}me.length=0}while(he.length);for(;fe.length;)fe.pop()();be=!1,Ee=!1,ye.clear()}}function we(e){if(null!==e.fragment){e.update(),Y(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ve)}}const Se=new Set;let Ce;function Te(e,t){const n=e.$$;null!==n.fragment&&(Y(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function xe(e,t,n,s,i,r,a,o=[-1]){const l=Z;de(e);const c=e.$$={fragment:null,ctx:null,props:r,update:Q,not_equal:i,bound:z(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:z(),dirty:o,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...s)=>{const r=s.length?s[0]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=r)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](r),u&&function(e,t){-1===e.$$.dirty[0]&&(he.push(e),be||(be=!0,ge.then(_e)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),u=!0,Y(c.before_update),c.fragment=!!s&&s(c.ctx),t.target){if(t.hydrate){ee=!0;const e=(p=t.target,Array.from(p.childNodes));c.fragment&&c.fragment.l(e),e.forEach(se)}else c.fragment&&c.fragment.c();t.intro&&((d=e.$$.fragment)&&d.i&&(Se.delete(d),d.i(h))),function(e,t,n,s){const{fragment:i,on_mount:r,on_destroy:a,after_update:o}=e.$$;i&&i.m(t,n),s||ve((()=>{const t=r.map(J).filter(G);a?a.push(...t):Y(t),e.$$.on_mount=[]})),o.forEach(ve)}(e,t.target,t.anchor,t.customElement),ee=!1,_e()}var d,h,p;de(l)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(Ce=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(J).filter(G);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){Y(this.$$.on_disconnect)}$destroy(){Te(this,1),this.$destroy=Q}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!K(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var Le=n(669),Ae=n.n(Le);function ke(e,t,n){const s=e.slice();return s[14]=t[n],s}function Oe(e){let t,n,s=e[2],i=[];for(let t=0;t<s.length;t+=1)i[t]=qe(ke(e,s,t));return{c(){t=ie("div"),n=ie("ul");for(let e=0;e<i.length;e+=1)i[e].c();le(n,"class","acp-post-list__list"),le(t,"class","acp-post-list")},m(e,s){ne(e,t,s),te(t,n);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,t){if(12&t){let r;for(s=e[2],r=0;r<s.length;r+=1){const a=ke(e,s,r);i[r]?i[r].p(a,t):(i[r]=qe(a),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=s.length}},d(e){e&&se(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(i,e)}}}function qe(e){let t,n,s,i,r,a,o,l,c=e[14].title+"",u=e[14].post_type+"";function d(){return e[8](e[14])}return{c(){t=ie("li"),n=ie("span"),s=re(c),i=ae(),r=ie("span"),a=re(u),le(n,"class","acp-post-list__item__title"),le(r,"class","acp-post-list__item__type"),le(t,"class","acp-post-list__item")},m(e,c){ne(e,t,c),te(t,n),te(n,s),te(t,i),te(t,r),te(r,a),o||(l=oe(t,"click",d),o=!0)},p(t,n){e=t,4&n&&c!==(c=e[14].title+"")&&ce(s,c),4&n&&u!==(u=e[14].post_type+"")&&ce(a,u)},d(e){e&&se(t),o=!1,l()}}}function je(e){let t,n,s,i,r,a,o=e[2].length>0&&Oe(e);return{c(){t=ie("div"),n=ie("input"),i=ae(),o&&o.c(),le(n,"type","url"),le(n,"placeholder",e[1]),le(t,"class","")},m(l,c){var u;ne(l,t,c),te(t,n),ue(n,e[0]),te(t,i),o&&o.m(t,null),r||(a=[oe(n,"input",e[7]),oe(n,"keyup",e[4]),(u=s=e[5].call(null,n),u&&G(u.destroy)?u.destroy:Q)],r=!0)},p(e,[s]){2&s&&le(n,"placeholder",e[1]),1&s&&ue(n,e[0]),e[2].length>0?o?o.p(e,s):(o=Oe(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i:Q,o:Q,d(e){e&&se(t),o&&o.d(),r=!1,Y(a)}}}function Pe(e,t,n){let{value:s}=t,{placeholder:i}=t,{onChange:r}=t,a=[],o=Ae().CancelToken,l=o.source();const c=()=>{r&&r(s)},u=e=>{n(0,s=e),n(2,a=[]),c()};return e.$$set=e=>{"value"in e&&n(0,s=e.value),"placeholder"in e&&n(1,i=e.placeholder),"onChange"in e&&n(6,r=e.onChange)},[s,i,a,u,e=>{var t;-1===["Enter"].indexOf(e.key)&&(c(),l.cancel(),(e=>null!==e.match(/http:|https:|ftp:|mailto:/))(s)?n(2,a=[]):(t=s,o=Ae().CancelToken,l=o.source(),Ae().get(ajaxurl,{cancelToken:l.token,params:{search:t,action:"acp-permalinks"}})).then((e=>{n(2,a=e.data.data)})).catch((()=>{})))},e=>{setTimeout((()=>{e.focus()}),200)},r,function(){s=this.value,n(0,s)},e=>{u(e.permalink)}]}class Ie extends c{constructor(e){super(e),this.dynamicValue=""}getEditableType(){return"internal_link"}valueToInput(e){this.dynamicValue=e;let t=this.getElement().querySelector("[data-component]");new class extends class{$destroy(){Te(this,1),this.$destroy=Q}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!K(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),xe(this,e,Pe,je,X,{value:0,placeholder:1,onChange:6})}}({target:t,props:{placeholder:this.settings.placeholder,value:e,onChange:e=>{this.dynamicValue=e}}})}getValue(){return this.dynamicValue}getTemplate(){return"\n            <div data-component></div>\n        "}}class De{constructor(e){this.services=e,this.editables={},this.initEditables()}initEditables(){this.editables._abstract=c,this.editables.text=f,this.editables.textarea=g,this.editables.number=f,this.editables.number_extended=W,this.editables.checklist=u,this.editables.color=d,this.editables.select=E,this.editables.select2=A,this.editables.select2_multiple=k,this.editables.select2_multiple_strategy=O,this.editables.select2_ajax=C,this.editables.select2_ajax_multiple=T,this.editables.select2_ajax_strategy=x,this.editables.select2_remote=M,this.editables.date=h,this.editables.fullname=v,this.editables.date_time=m,this.editables.toggle=b,this.editables.wp_library=P,this.editables.multi_input=D,this.editables.wysiwyg=N,this.editables.internal_link=Ie,this.services.emitEvent("Editing.Editables.Ready",this)}registerEditable(e,t){return this.editables[e]=t,this}get(e){return this.editables.hasOwnProperty(e)?this.editables[e]:null}abstract(){return this.get("_abstract")}}class Re{escapeRegex(e){return(e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"))(e)}}var Ne="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,Me=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Ne&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),He=Ne&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),Me))}};function $e(e){return e&&"[object Function]"==={}.toString.call(e)}function Be(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function Ve(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Fe(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Be(e),n=t.overflow,s=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+s)?e:Fe(Ve(e))}function Ue(e){return e&&e.referenceNode?e.referenceNode:e}var We=Ne&&!(!window.MSInputMethodContext||!document.documentMode),Qe=Ne&&/MSIE 10/.test(navigator.userAgent);function Je(e){return 11===e?We:10===e?Qe:We||Qe}function ze(e){if(!e)return document.documentElement;for(var t=Je(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var s=n&&n.nodeName;return s&&"BODY"!==s&&"HTML"!==s?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Be(n,"position")?ze(n):n:e?e.ownerDocument.documentElement:document.documentElement}function Ye(e){return null!==e.parentNode?Ye(e.parentNode):e}function Ge(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,s=n?e:t,i=n?t:e,r=document.createRange();r.setStart(s,0),r.setEnd(i,0);var a,o,l=r.commonAncestorContainer;if(e!==l&&t!==l||s.contains(i))return"BODY"===(o=(a=l).nodeName)||"HTML"!==o&&ze(a.firstElementChild)!==a?ze(l):l;var c=Ye(e);return c.host?Ge(c.host,t):Ge(e,Ye(t).host)}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",s=e.nodeName;if("BODY"===s||"HTML"===s){var i=e.ownerDocument.documentElement,r=e.ownerDocument.scrollingElement||i;return r[n]}return e[n]}function Ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Xe(t,"top"),i=Xe(t,"left"),r=n?-1:1;return e.top+=s*r,e.bottom+=s*r,e.left+=i*r,e.right+=i*r,e}function Ze(e,t){var n="x"===t?"Left":"Top",s="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+s+"Width"])}function et(e,t,n,s){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Je(10)?parseInt(n["offset"+e])+parseInt(s["margin"+("Height"===e?"Top":"Left")])+parseInt(s["margin"+("Height"===e?"Bottom":"Right")]):0)}function tt(e){var t=e.body,n=e.documentElement,s=Je(10)&&getComputedStyle(n);return{height:et("Height",t,n,s),width:et("Width",t,n,s)}}var nt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},st=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),it=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e};function at(e){return rt({},e,{right:e.left+e.width,bottom:e.top+e.height})}function ot(e){var t={};try{if(Je(10)){t=e.getBoundingClientRect();var n=Xe(e,"top"),s=Xe(e,"left");t.top+=n,t.left+=s,t.bottom+=n,t.right+=s}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?tt(e.ownerDocument):{},a=r.width||e.clientWidth||i.width,o=r.height||e.clientHeight||i.height,l=e.offsetWidth-a,c=e.offsetHeight-o;if(l||c){var u=Be(e);l-=Ze(u,"x"),c-=Ze(u,"y"),i.width-=l,i.height-=c}return at(i)}function lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Je(10),i="HTML"===t.nodeName,r=ot(e),a=ot(t),o=Fe(e),l=Be(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=at({top:r.top-a.top-c,left:r.left-a.left-u,width:r.width,height:r.height});if(d.marginTop=0,d.marginLeft=0,!s&&i){var h=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);d.top-=c-h,d.bottom-=c-h,d.left-=u-p,d.right-=u-p,d.marginTop=h,d.marginLeft=p}return(s&&!n?t.contains(o):t===o&&"BODY"!==o.nodeName)&&(d=Ke(d,t)),d}function ct(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,s=lt(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:Xe(n),o=t?0:Xe(n,"left"),l={top:a-s.top+s.marginTop,left:o-s.left+s.marginLeft,width:i,height:r};return at(l)}function ut(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===Be(e,"position"))return!0;var n=Ve(e);return!!n&&ut(n)}function dt(e){if(!e||!e.parentElement||Je())return document.documentElement;for(var t=e.parentElement;t&&"none"===Be(t,"transform");)t=t.parentElement;return t||document.documentElement}function ht(e,t,n,s){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},a=i?dt(e):Ge(e,Ue(t));if("viewport"===s)r=ct(a,i);else{var o=void 0;"scrollParent"===s?"BODY"===(o=Fe(Ve(t))).nodeName&&(o=e.ownerDocument.documentElement):o="window"===s?e.ownerDocument.documentElement:s;var l=lt(o,a,i);if("HTML"!==o.nodeName||ut(a))r=l;else{var c=tt(e.ownerDocument),u=c.height,d=c.width;r.top+=l.top-l.marginTop,r.bottom=u+l.top,r.left+=l.left-l.marginLeft,r.right=d+l.left}}var h="number"==typeof(n=n||0);return r.left+=h?n:n.left||0,r.top+=h?n:n.top||0,r.right-=h?n:n.right||0,r.bottom-=h?n:n.bottom||0,r}function pt(e){return e.width*e.height}function mt(e,t,n,s,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=ht(n,s,r,i),o={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(o).map((function(e){return rt({key:e},o[e],{area:pt(o[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,s=e.height;return t>=n.clientWidth&&s>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function ft(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=s?dt(t):Ge(t,Ue(n));return lt(n,i,s)}function gt(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),s=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+s,height:e.offsetHeight+n}}function bt(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function vt(e,t,n){n=n.split("-")[0];var s=gt(e),i={width:s.width,height:s.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",o=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return i[a]=t[a]+t[l]/2-s[l]/2,i[o]=n===o?t[o]-s[c]:t[bt(o)],i}function Et(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function yt(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e.name===n}));var s=Et(e,(function(e){return e.name===n}));return e.indexOf(s)}(e,0,n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&$e(n)&&(t.offsets.popper=at(t.offsets.popper),t.offsets.reference=at(t.offsets.reference),t=n(t,e))})),t}function _t(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=ft(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=mt(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=vt(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=yt(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function wt(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function St(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),s=0;s<t.length;s++){var i=t[s],r=i?""+i+n:e;if(void 0!==document.body.style[r])return r}return null}function Ct(){return this.state.isDestroyed=!0,wt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[St("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Tt(e){var t=e.ownerDocument;return t?t.defaultView:window}function xt(e,t,n,s){var i="BODY"===e.nodeName,r=i?e.ownerDocument.defaultView:e;r.addEventListener(t,n,{passive:!0}),i||xt(Fe(r.parentNode),t,n,s),s.push(r)}function Lt(e,t,n,s){n.updateBound=s,Tt(e).addEventListener("resize",n.updateBound,{passive:!0});var i=Fe(e);return xt(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function At(){this.state.eventsEnabled||(this.state=Lt(this.reference,this.options,this.state,this.scheduleUpdate))}function kt(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Tt(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Ot(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function qt(e,t){Object.keys(t).forEach((function(n){var s="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Ot(t[n])&&(s="px"),e.style[n]=t[n]+s}))}var jt=Ne&&/Firefox/i.test(navigator.userAgent);function Pt(e,t,n){var s=Et(e,(function(e){return e.name===t})),i=!!s&&e.some((function(e){return e.name===n&&e.enabled&&e.order<s.order}));if(!i){var r="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return i}var It=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Dt=It.slice(3);function Rt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Dt.indexOf(e),s=Dt.slice(n+1).concat(Dt.slice(0,n));return t?s.reverse():s}var Nt={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],s=t.split("-")[1];if(s){var i=e.offsets,r=i.reference,a=i.popper,o=-1!==["bottom","top"].indexOf(n),l=o?"left":"top",c=o?"width":"height",u={start:it({},l,r[l]),end:it({},l,r[l]+r[c]-a[c])};e.offsets.popper=rt({},a,u[s])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,s=t.offset,i=e.placement,r=e.offsets,a=r.popper,o=r.reference,l=i.split("-")[0];return n=Ot(+s)?[+s,0]:function(e,t,n,s){var i=[0,0],r=-1!==["right","left"].indexOf(s),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),o=a.indexOf(Et(a,(function(e){return-1!==e.search(/,|\s/)})));a[o]&&-1===a[o].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==o?[a.slice(0,o).concat([a[o].split(l)[0]]),[a[o].split(l)[1]].concat(a.slice(o+1))]:[a];return c=c.map((function(e,s){var i=(1===s?!r:r)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,s){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],a=i[2];return r?0===a.indexOf("%")?at("%p"===a?n:s)[t]/100*r:"vh"===a||"vw"===a?("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r:r:e}(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,s){Ot(n)&&(i[t]+=n*("-"===e[s-1]?-1:1))}))})),i}(s,a,o,l),"left"===l?(a.top+=n[0],a.left-=n[1]):"right"===l?(a.top+=n[0],a.left+=n[1]):"top"===l?(a.left+=n[0],a.top-=n[1]):"bottom"===l&&(a.left+=n[0],a.top+=n[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||ze(e.instance.popper);e.instance.reference===n&&(n=ze(n));var s=St("transform"),i=e.instance.popper.style,r=i.top,a=i.left,o=i[s];i.top="",i.left="",i[s]="";var l=ht(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=r,i.left=a,i[s]=o,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),it({},e,n)},secondary:function(e){var n="right"===e?"left":"top",s=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(s=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),it({},n,s)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=rt({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,s=t.reference,i=e.placement.split("-")[0],r=Math.floor,a=-1!==["top","bottom"].indexOf(i),o=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[o]<r(s[l])&&(e.offsets.popper[l]=r(s[l])-n[c]),n[l]>r(s[o])&&(e.offsets.popper[l]=r(s[o])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Pt(e.instance.modifiers,"arrow","keepTogether"))return e;var s=t.element;if("string"==typeof s){if(!(s=e.instance.popper.querySelector(s)))return e}else if(!e.instance.popper.contains(s))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],r=e.offsets,a=r.popper,o=r.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),h=l?"left":"top",p=l?"bottom":"right",m=gt(s)[c];o[p]-m<a[d]&&(e.offsets.popper[d]-=a[d]-(o[p]-m)),o[d]+m>a[p]&&(e.offsets.popper[d]+=o[d]+m-a[p]),e.offsets.popper=at(e.offsets.popper);var f=o[d]+o[c]/2-m/2,g=Be(e.instance.popper),b=parseFloat(g["margin"+u]),v=parseFloat(g["border"+u+"Width"]),E=f-e.offsets.popper[d]-b-v;return E=Math.max(Math.min(a[c]-m,E),0),e.arrowElement=s,e.offsets.arrow=(it(n={},d,Math.round(E)),it(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(wt(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=ht(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),s=e.placement.split("-")[0],i=bt(s),r=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case"flip":a=[s,i];break;case"clockwise":a=Rt(s);break;case"counterclockwise":a=Rt(s,!0);break;default:a=t.behavior}return a.forEach((function(o,l){if(s!==o||a.length===l+1)return e;s=e.placement.split("-")[0],i=bt(s);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,h="left"===s&&d(c.right)>d(u.left)||"right"===s&&d(c.left)<d(u.right)||"top"===s&&d(c.bottom)>d(u.top)||"bottom"===s&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),m=d(c.right)>d(n.right),f=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),b="left"===s&&p||"right"===s&&m||"top"===s&&f||"bottom"===s&&g,v=-1!==["top","bottom"].indexOf(s),E=!!t.flipVariations&&(v&&"start"===r&&p||v&&"end"===r&&m||!v&&"start"===r&&f||!v&&"end"===r&&g),y=!!t.flipVariationsByContent&&(v&&"start"===r&&m||v&&"end"===r&&p||!v&&"start"===r&&g||!v&&"end"===r&&f),_=E||y;(h||b||_)&&(e.flipped=!0,(h||b)&&(s=a[l+1]),_&&(r=function(e){return"end"===e?"start":"start"===e?"end":e}(r)),e.placement=s+(r?"-"+r:""),e.offsets.popper=rt({},e.offsets.popper,vt(e.instance.popper,e.offsets.reference,e.placement)),e=yt(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],s=e.offsets,i=s.popper,r=s.reference,a=-1!==["left","right"].indexOf(n),o=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=r[n]-(o?i[a?"width":"height"]:0),e.placement=bt(t),e.offsets.popper=at(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Pt(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Et(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,s=t.y,i=e.offsets.popper,r=Et(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,o,l=void 0!==r?r:t.gpuAcceleration,c=ze(e.instance.popper),u=ot(c),d={position:i.position},h=function(e,t){var n=e.offsets,s=n.popper,i=n.reference,r=Math.round,a=Math.floor,o=function(e){return e},l=r(i.width),c=r(s.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),h=t?u||d||l%2==c%2?r:a:o,p=t?r:o;return{left:h(l%2==1&&c%2==1&&!d&&t?s.left-1:s.left),top:p(s.top),bottom:p(s.bottom),right:h(s.right)}}(e,window.devicePixelRatio<2||!jt),p="bottom"===n?"top":"bottom",m="right"===s?"left":"right",f=St("transform");if(o="bottom"===p?"HTML"===c.nodeName?-c.clientHeight+h.bottom:-u.height+h.bottom:h.top,a="right"===m?"HTML"===c.nodeName?-c.clientWidth+h.right:-u.width+h.right:h.left,l&&f)d[f]="translate3d("+a+"px, "+o+"px, 0)",d[p]=0,d[m]=0,d.willChange="transform";else{var g="bottom"===p?-1:1,b="right"===m?-1:1;d[p]=o*g,d[m]=a*b,d.willChange=p+", "+m}var v={"x-placement":e.placement};return e.attributes=rt({},v,e.attributes),e.styles=rt({},d,e.styles),e.arrowStyles=rt({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return qt(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&qt(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,s,i){var r=ft(i,t,e,n.positionFixed),a=mt(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),qt(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Mt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Nt},Ht=function(){function e(t,n){var s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nt(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(s.update)},this.update=He(this.update.bind(this)),this.options=rt({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(rt({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){s.options.modifiers[t]=rt({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return rt({name:e},s.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&$e(e.onLoad)&&e.onLoad(s.reference,s.popper,s.options,e,s.state)})),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return st(e,[{key:"update",value:function(){return _t.call(this)}},{key:"destroy",value:function(){return Ct.call(this)}},{key:"enableEventListeners",value:function(){return At.call(this)}},{key:"disableEventListeners",value:function(){return kt.call(this)}}]),e}();Ht.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,Ht.placements=It,Ht.Defaults=Mt;const $t=Ht,Bt=(e,...t)=>e.replace(/{(\d)}/g,((e,n)=>t[Number(n)])),Vt="acp_editing_request",Ft="inline-values",Ut="bulk",Wt="bulkEditable",Qt="inlineEditable",Jt="dataStorage",zt=(e,t=null)=>{let n=null!=t?t:new FormData;return Object.keys(e).forEach((t=>{Yt(n,e[t],t)})),n},Yt=(e,t,n="")=>{if(!t||"object"!=typeof t||t instanceof Date||t instanceof File){const s=null==t?"":t;e.append(n,s)}else Object.keys(t).forEach((s=>{Yt(e,t[s],n?`${n}[${s}]`:s)}))};class Gt{constructor(){this.clear()}getErrors(){return this.data.filter((e=>"failed"===e.status))}getNotEditable(){return this.data.filter((e=>"not_editable"===e.status))}hasError(){return this.getErrors().length>0}hasNotEditable(){return this.getNotEditable().length>0}add(e){this.data=[...this.data,...e]}clear(){return this.data=[],this}}class Xt{constructor(e){this.element=e}static find(e){let t=document.querySelector(e);return null===t?null:new Xt(t)}static create(e){return new Xt(document.createElement(e))}getElement(){return this.element}addId(e){return this.element.id=e,this}addClass(e){return this.element.classList.add(e),this}addClasses(...e){return e.forEach((e=>this.addClass(e))),this}setAttribute(e,t){return this.element.setAttribute(e,t),this}setAttributes(e){return Object.keys(e).forEach((t=>this.setAttribute(t,e[t]))),this}addHtml(e){return this.element.innerHTML=e,this}append(e){return this.element.appendChild(e),this}appendSelfTo(e){return e.append(this.element),this}css(e,t){return this.element.style[e]=t,this}insertAfter(e){var t;try{null===(t=this.element.parentElement)||void 0===t||t.insertBefore(e,this.element.nextElementSibling)}catch(e){console.error("Not able to insert element after current node",this.element)}}insertSelfBefore(e){var t;try{null===(t=e.parentElement)||void 0===t||t.insertBefore(this.element,e)}catch(e){console.error("Not able to insert element before current node",this.element)}return this}insertBefore(e){var t;try{null===(t=this.element.parentElement)||void 0===t||t.insertBefore(e,this.element)}catch(e){console.error("Not able to insert element before current node",this.element)}return this}addEventListener(e,t){return this.element.addEventListener(e,t),this}addEventListeners(e,t){return e.forEach((e=>this.addEventListener(e,t))),this}}const Kt={ERROR:Bt(ACP_Editing.i18n.bulk_edit.feedback.error,'<span  class="ac-bulk-log__status__count"><span data-errors-count>0</span> errors</span>'),NOT_EDITABLE:Bt(ACP_Editing.i18n.bulk_edit.feedback.error,'<span  class="ac-bulk-log__status__count -medium"><span data-errors-count>0</span> unmodifiable items</span>'),SHOW_ITEMS:ACP_Editing.i18n.bulk_edit.feedback.show_items,HIDE_ITEMS:ACP_Editing.i18n.bulk_edit.feedback.hide_items,NOT_EDITABLE_FOUND:ACP_Editing.i18n.bulk_edit.feedback.not_editable_found};class Zt{constructor(e,t){this.items=e,this.element=Xt.create("div").addClass("bulk-log").addHtml(nn(t)).getElement(),this.addItems(e),this.element.querySelector("[data-errors-count]").innerHTML=e.length.toString(),this.element.querySelector("[data-toggle-errors]").addEventListener("click",(()=>{this.toggleItems()}))}toggleItems(){const e=this.element.querySelector("[data-toggle-errors]"),t=this.element.querySelector("[data-log-items]"),n="-visible";t.classList.contains(n)?(t.classList.remove(n),e.innerHTML=Kt.SHOW_ITEMS):(t.classList.add(n),e.innerHTML=Kt.HIDE_ITEMS)}}class en extends Zt{constructor(e){super(e,Kt.ERROR)}addItems(e){let t=this.element.querySelector("[data-log-items]");e.forEach((e=>{t.append(Xt.create("div").addHtml(`ID: ${e.id} - ${e.error}`).getElement())}))}}class tn extends Zt{constructor(e){super(e,Kt.NOT_EDITABLE)}addItems(e){let t=e.map((e=>e.id)).join(", ");this.element.querySelector("[data-log-items]").innerHTML=`${Kt.NOT_EDITABLE_FOUND}<br>ID: ${t}`}}const nn=e=>`\n     <div class="ac-bulk-log">\n        <div class="ac-bulk-log__status">\n            <span>${e}</span>\n            <a data-toggle-errors>${Kt.SHOW_ITEMS}</a>\n        </div>\n        <div class="ac-bulk-log__items" data-log-items>\n        \n        </div>\n     </div>\n    `,sn={FINISHED:ACP_Editing.i18n.bulk_edit.feedback.finished,UPDATING:ACP_Editing.i18n.bulk_edit.feedback.updating,PROCESSED:Bt(ACP_Editing.i18n.bulk_edit.feedback.processed,"<span data-processed>0</span>","<span data-total-items></span>"),FAIL:ACP_Editing.i18n.bulk_edit.feedback.failure,DONE:ACP_Editing.i18n.done,DONE_DESELECT:ACP_Editing.i18n.bulk_edit.selecting.done_deselect,CANCEL:ACP_Editing.i18n.cancel,ERROR:Bt(ACP_Editing.i18n.bulk_edit.feedback.error,"<span data-errors>0</span>")};class rn{constructor(e,t,n,s=!1){this.logger=new Gt,this.events=new(r()),this.column=e,this.value=t,this.items=n,this.totalNumber=Array.isArray(n)?n.length:n,this.numberProcessed=0,this.perPage=ACP_Editing.bulk_edit.updated_rows_per_iteration,this.processAll=s,this.isCanceled=!1,this.isFinished=!1,this.timer={seconds:0,minutes:0},this.element=ln(),this.startTimer(),this.prepareJob(),this.attachCancelEvent(),this.updateTotal(),this.updatePercentage(0)}getElement(){return this.element}prepareJob(e=1){if(!this.processAll)return this.runJob();1===e&&(this.items=[]),jQuery.ajax({url:window.location.href,method:"get",data:{ac_action:"get_editable_rows",ac_page:e,_ajax_nonce:AC.ajax_nonce}}).done((t=>{if(t.hasOwnProperty("success")&&t.success&&t.data.hasOwnProperty("editable_rows")){if(this.items=[].concat(this.items,t.data.editable_rows),this.totalNumber=this.items.length,t.data.rows_per_iteration===t.data.editable_rows.length)return this.updateTotal(),void this.prepareJob(e+1);this.updateTotal(),this.runJob()}}))}runJob(){if(this.isCanceled)return;let e=this,t=e.items.splice(0,e.perPage);0!==t.length?this.startUpdateThread(t).then((t=>{if(t.data.success){let n=t.data.data.total;e.numberProcessed+=n,this.updateProcessed(e.numberProcessed),this.logger.add(t.data.data.results),n>0&&!e.isCanceled?e.runJob():e.onComplete()}})):e.onComplete()}startUpdateThread(e){return Ae().post(ajaxurl,zt({action:Vt,method:"bulk-save",list_screen:AC.list_screen,layout:AC.layout,column:this.column.name,ids:e,value:this.value,_ajax_nonce:AC.ajax_nonce}))}attachCancelEvent(){this.element.querySelectorAll("[data-close]").forEach((e=>{e.addEventListener("click",(()=>{this.isFinished?(e.remove(),this.events.emit("close",{})):(this.isCanceled=!0,this.onComplete())}))}))}updateTotal(){this.element.querySelector("[data-total-items]").innerHTML=this.totalNumber.toString()}updateProcessed(e){this.element.querySelector("[data-processed]").innerHTML=e.toString();let t=Math.round(e/this.totalNumber*100);this.updatePercentage(t)}updatePercentage(e){this.element.querySelector("[data-percentage]").innerHTML=`${e}%`,this.element.querySelector("[data-status-percentage]").style.width=`${e}%`}onComplete(){if(this.isCanceled||(this.element.querySelector(".acp-be-progress__process").innerHTML=Bt(sn.FINISHED,this.totalNumber)+' (100%) <span class="dashicons dashicons-yes"></span>'),this.element.querySelector("[data-close]").innerHTML=sn.DONE,this.element.querySelector("[data-close]").classList.add("button-primary"),this.element.querySelector("[data-status-percentage]").classList.add("-finished"),this.isFinished=!0,this.stopTimer(),this.canDismiss=!1,this.addDeselectDoneButton(),this.logger.hasError()){const e=new en(this.logger.getErrors());this.element.querySelector("[data-status-percentage]").classList.add("-error"),this.element.querySelector(".errors").append(e.element)}if(this.logger.hasNotEditable()){const e=new tn(this.logger.getNotEditable());this.element.querySelector("[data-status-percentage]").classList.add("-error"),this.element.querySelector(".errors").append(e.element)}this.events.emit("finished")}addDeselectDoneButton(){let e=an();e.addEventListener("click",(e=>{e.preventDefault(),AC_SERVICES.getService("Table").getElement().querySelectorAll(".check-column input[type=checkbox]:checked").forEach((e=>{e.checked=!1,e.dispatchEvent(new Event("change"))})),this.events.emit("close")})),this.element.append(e)}startTimer(){this.addSecond(),this.timerInterval=window.setInterval((()=>{this.addSecond()}),1e3)}stopTimer(){clearInterval(this.timerInterval)}addSecond(){let e=this.element.querySelector("[data-timer]");this.timer.seconds++,this.timer.seconds>=60&&(this.timer.seconds=0,this.timer.minutes++),e.textContent=(this.timer.minutes?this.timer.minutes>9?this.timer.minutes:"0"+this.timer.minutes:"00")+":"+(this.timer.seconds>9?this.timer.seconds:"0"+this.timer.seconds)}}const an=()=>{let e=document.createElement("button");return e.classList.add("button","done-deselect"),e.innerText=sn.DONE_DESELECT,e.dataset.close="true",e},on=`\n\t\t<div class="acp-be-progress">\n\t\t\t<div class="acp-be-progress__timer" data-timer></div>\n\t\t\t<div class="acp-be-progress__process">${sn.PROCESSED} (<span data-percentage></span>)</div>\n\t\t</div>\n\n\t\t<div class="acp-be-statusbar">\n\t\t\t<div class="acp-be-statusbar__progress" data-status-percentage></div>\n\t\t</div>\n\n\t\t<div class="errors">\n\t\t\t\n\t\t</div>\n\n\t\t<button data-close class="button">Cancel</button>\n`,ln=()=>{let e=document.createElement("div");return e.classList.add("acp-be-processing"),e.innerHTML=on,e},cn="acp-be-editrow",un=ACP_Editing.i18n.bulk_edit.bulk_edit;class dn{constructor(e){this.BulkEdit=e,this.Table=e.Table,this.Middleware=e.Middleware,this.events=new(r())}add(){let e=this.Table.getElement().getElementsByTagName("thead")[0].children[0].children,t=document.createElement("tr");t.classList.add(cn);for(let n=0;n<e.length;n++){let s=e[n],i=this.Table.Columns.get(s.id),r=document.createElement("td");if(r.classList.add(`column-${s.id}`),"cb"!==s.id&&i&&i.hasService(Wt)){if(null===i.getService(Wt)){t.appendChild(r);continue}r.innerHTML=`<button class="button" data-name="${s.id}">${un}</button>`,this.initEvents(r)}t.appendChild(r)}return this.Table.getElement().querySelector("tbody").insertAdjacentElement("afterbegin",t),this.refresh(),t}remove(){this.Table.getElement().querySelectorAll(".acp-be-editrow").forEach((e=>e.remove()))}initEvents(e){e.querySelector("button").addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),this.events.emit("click",{name:e.target.dataset.name})}),!0)}onButtonClick(e){this.events.addListener("click",e)}getRow(){return this.Table.getElement().querySelector(".acp-be-editrow")}refresh(){let e=this.Table.getElement().getElementsByTagName("thead")[0].children[0].children;for(let t=0;t<e.length;t++){let n=e[t],s=this.getRow().querySelector(`.column-${n.id}`);s&&(n.classList.contains("hidden")?s.classList.add("hidden"):s.classList.remove("hidden"))}}}const hn={SELECTED:ACP_Editing.i18n.bulk_edit.selecting.selected,SELECTALL:ACP_Editing.i18n.bulk_edit.selecting.select_all},pn="acp-be-noticerow";class mn{constructor(e){this.Table=e}addNotice(){this.createNotice(),this.createNoticeRow(),this.refreshNoticeRow(),document.querySelectorAll(".hide-column-tog").forEach((e=>{e.addEventListener("click",(()=>{this.refreshNoticeRow()}))}))}removeNotice(){let e=this.Table.getElement().querySelector(".acp-be-noticerow");e&&e.remove()}createNotice(){let e=document.createElement("div");e.classList.add("acp-be-notice");let t=document.createElement("p"),n=Bt(`${hn.SELECTED} `,"<span data-acp-be-count></span>");t.insertAdjacentHTML("beforeend",n),e.append(t),this.notice=e}createSelectAll(e){if(document.querySelector(".ac-be-selectall"))return document.querySelector(".ac-be-selectall");if(!1!==e&&"all"!==e||(e=""),!this.notice)return null;let t=document.createElement("a");return t.innerHTML=Bt(hn.SELECTALL,e),t.classList.add("ac-be-selectall"),this.notice.querySelector("p").append(t),t}createNoticeRow(){let e=document.createElement("tr"),t=document.createElement("td"),n=this.Table.getElement().querySelector("thead tr").children.length;return e.append(t),e.classList.add(pn),t.setAttribute("colspan",n.toString()),t.append(this.notice),this.Table.getElement().querySelector("tbody").insertAdjacentElement("afterbegin",e),e}refreshNoticeRow(){let e=this.Table.getElement().firstElementChild.firstElementChild.querySelectorAll("td,th"),t=0;e.forEach((e=>{e.classList.contains("hidden")||t++})),this.Table.getElement().querySelector(".acp-be-noticerow td").setAttribute("colspan",t.toString())}}class fn extends class{constructor(e){var t;this.el=e,this.dialog=null!==(t=e.querySelector(".ac-modal__dialogs"))&&void 0!==t?t:document.createElement("div"),this.initEvents()}getElement(){return this.el}initEvents(){document.addEventListener("keydown",(e=>{const t=e.key;this.isOpen()&&"Escape"===t&&this.close()}));let e=this.el.querySelectorAll('[data-dismiss="modal"], .ac-modal__dialog__close');e.length>0&&e.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.close()}))})),this.el.addEventListener("click",(e=>{e.target.classList.contains("ac-modal")&&self.close()}))}isOpen(){return this.el.classList.contains("-active")}close(){this.onClose(),this.el.classList.remove("-active")}open(){setTimeout((()=>{this.onOpen(),this.el.removeAttribute("style"),this.el.classList.add("-active")}))}destroy(){this.el.remove()}onClose(){}onOpen(){}}{constructor(e){super(gn()),this.canDismiss=!0,this.Editable=e,this.events=new(r()),this.hideProcess(),this.setEditable(this.Editable.get())}close(){this.canDismiss&&(super.close(),this.events.emit("close"))}setTotal(e){this.el.querySelectorAll("[data-total] ").forEach((t=>{t.innerHTML=e}))}setEditable(e){this.getElement().classList.add("-"+this.Editable.getEditableType()),this.el.querySelector("[data-editable]").append(e)}setTitle(e){this.el.querySelector("[data-title]").innerHTML=e}setProcess(e){let t=this.el.querySelector("[data-process]");this.el.querySelector(".ac-modal__dialog__content.-info").style.display="none",t.innerHTML="",t.append(e),t.style.display="block",this.canDismiss=!1,this.toggleCloseButton(!1)}setCanDismiss(e){this.canDismiss=e}toggleCloseButton(e){this.el.querySelector(".ac-modal__dialog__close").style.display=e?"block":"none"}hideProcess(){this.el.querySelector("[data-process]").style.display="none"}}const gn=()=>{let e=document.createElement("div");return e.classList.add("ac-modal"),e.classList.add("-bulkedit"),e.innerHTML='\n\t\t\t\t<div class="ac-modal__dialog">\n\t\t\t\t\t<div class="ac-modal__dialog__header">\n\t\t\t\t\t\t<span data-title></span>\n\t\t\t\t\t\t<button class="ac-modal__dialog__close">\n\t\t\t\t\t\t\t<span class="dashicons dashicons-no"></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ac-modal__dialog__content -editable" data-editable></div>\n\t\t\t\t\t<div class="ac-modal__dialog__content -info">\n\t\t\t\t\t\t<span class="acp-be-warning__icon dashicons dashicons-info"></span><em>This will affect <strong><span data-total="">12.500</span> entries</strong></em> \n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ac-modal__dialog__content -process" data-process>\n\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ac-modal__dialog__content -log">\n\t\t\t\t\t    <div data-log></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',document.body.appendChild(e),e},bn=Bt(ACP_Editing.i18n.bulk_edit.form.update_values,"<span data-acp-be-count>0</span>"),vn=ACP_Editing.i18n.bulk_edit.form.are_you_sure,En=ACP_Editing.i18n.bulk_edit.form.yes_update,yn=ACP_Editing.i18n.cancel,_n={total_count:ACP_Editing.bulk_edit.total_items};class wn{constructor(e,t,n,s){this.Table=e,this.Editables=t,this.Middleware=n,this.Notice=new mn(this.Table),this.EditRow=new dn(this),this.TableUpdate=s,this.isAllSelected=!1,this.confirmed=!1,this.init()}init(){this.addTableEvents(),this.initButtonClick()}setConfirmed(e){return this.confirmed=e,this}isConfirmed(){return!(!ACP_Editing.bulk_edit.hasOwnProperty("show_confirmation")||ACP_Editing.bulk_edit.show_confirmation)||this.confirmed}onSave(e,t){if(!this.isConfirmed())return void this.confirm(e);let n=new rn(t,e.getValue(),this.getItemsToProcess(),this.isAllSelected);this.EditableModal.setProcess(n.getElement()),this.Editable.disable(),e.getElement().querySelector(".aceditable__form__controls [data-submit]").style.display="none",n.events.addListener("close",(()=>{this.EditableModal.close()})),n.events.addListener("finished",(()=>{this.TableUpdate.updateSelectedCells(t.name,e.getValue()),this.EditableModal&&(this.EditableModal.setCanDismiss(!0),this.EditableModal.toggleCloseButton(!0))}))}initButtonClick(){this.EditRow.onButtonClick((e=>{let t=this.Table.Columns.get(e.name),n=this.Middleware.getBulkEditable(t),s=n.getEditable();if(this.setConfirmed(!1),!s||this.EditableModal)return;let i=n.getArgs();i.showbuttons=!0;let r=new s(i),a=new fn(r);r.getEditableTemplate().setSubmitButton("Update"),a.setTitle(`Bulk Edit ${t.label}`),a.setTotal(this.getSelectedCount()),a.open(),this.EditableModal=a,this.Editable=r,this.updateCount(),r.Events.addListener("save",(e=>{this.onSave(e,t)})),a.events.addListener("close",(()=>{this.destroyEditable(),this.EditableModal=null}))}))}destroyEditable(){this.removeConfirm(),this.Editable.close(),this.EditableModal.destroy()}confirm(e){this.removeConfirm();let t=document.createElement("div");t.classList.add("acp-be-confirm"),t.innerHTML=`\n\t\t\t<span class="acp-be-confirm__caret"></span>\n\t\t\t<em class="acp-be-confirm__info">${bn}</em>\n\t\t\t<div class="acp-be-confirm__controls"><strong>${vn}</strong> <a data-confirm class="acp-be-confirm__controls__link -confirm">${En}</a> <a data-cancel class="acp-be-confirm__controls__link -cancel">${yn}</a></div>\n\t\t`,document.body.append(t),new $t(e.getEditableTemplate().getElement().querySelector("[data-submit]"),t,{modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1},arrow:{element:".acp-be-confirm__caret"}}}),this.confirmElement=t,this.setConfirmed(!1),this.updateCount();let n=this.EditableModal.getElement().querySelector(".ac-modal__dialog"),s=t.querySelector("[data-confirm]"),i=t.querySelector("[data-cancel]");n.addEventListener("keypress",(t=>{"Enter"===t.key&&document.querySelectorAll(".acp-be-confirm").length>0&&(this.setConfirmed(!0),this.removeConfirm(),e.save())})),s.addEventListener("click",(()=>{this.setConfirmed(!0),this.removeConfirm(),e.save()})),i.addEventListener("click",(()=>{this.setConfirmed(!1),this.removeConfirm()}))}addTableEvents(){this.Table.getElement().querySelectorAll(".check-column input[type=checkbox]").forEach((e=>{e.addEventListener("change",(()=>{this.isAllSelected=!1,setTimeout((()=>{if(this.Table.Selection.getCount()>1?this.toggleEditRows(!0):this.toggleEditRows(!1),this.Table.Selection.isAllSelected()&&_n.total_count&&this.Table.Selection.getCount()<_n.total_count){let e=this.Notice.createSelectAll(_n.total_count);_n.total_count=_n.total_count?_n.total_count:"all",e&&(e.style.display="inline",e.addEventListener("click",(()=>{e.style.display="none",this.isAllSelected=!0,this.updateCount()})))}this.updateCount()}))}))})),this.Table.getElement().addEventListener("scroll",(()=>{let e=this.Table.getElement(),t=e.querySelector(".acp-be-noticerow .acp-be-notice p");t&&(t.style.left=document.body.classList.contains("acp-overflow-table")?`${e.scrollLeft}px`:"0")}))}toggleEditRows(e=!0){this.Notice.removeNotice(),this.EditRow.remove(),e&&(this.Notice.addNotice(),this.EditRow.add())}getSelectedCount(){let e=this.Table.Selection.getCount();return this.isAllSelected&&(e="all"),e}updateCount(){document.querySelectorAll("[data-acp-be-count]").forEach((e=>{e.innerHTML=this.getSelectedCount()}))}getItemsToProcess(){return this.isAllSelected?[]:this.Table.Selection.getIDs()}removeConfirm(){this.confirmElement&&this.confirmElement.remove()}}class Sn{constructor(e){this.name=e.column_name,this.id=e.id,this.current_revision=0,this.revisions=[e.value],this.formattedValue=e.formatted_value?e.formatted_value:e.value}getFormattedValue(){return this.formattedValue}setCurrentRevision(e){return this.current_revision=e,this}getCurrentRevision(){return this.current_revision}getValue(){return this.revisions[this.getCurrentRevision()]}storeRevision(e){let t=this.revisions.length-this.getCurrentRevision()-1;for(let e=0;e<t;e++)this.revisions.pop();return this.revisions.push(e),this.setCurrentRevision(this.getCurrentRevision()+1),this}save(){return jQuery.ajax({url:ajaxurl,data:{action:Vt,method:"inline-save",list_screen:AC.list_screen,layout:AC.layout,column:this.name,id:this.id,value:this.getValue(),_ajax_nonce:AC.ajax_nonce},method:"POST",dataType:"json"})}undo(){return this.prev()}redo(){return this.next()}prev(){let e=this.getCurrentRevision();return 0!==e&&(this.setCurrentRevision(e-1),!0)}next(){let e=this.getCurrentRevision();return e!==this.revisions.length-1&&(this.setCurrentRevision(e+1),!0)}getRevisions(){return this.revisions}}function Cn(e){return Ae().post(ajaxurl,zt({action:Vt,method:Ft,ids:e,list_screen:AC.list_screen,layout:AC.layout,_ajax_nonce:AC.ajax_nonce}))}class Tn{constructor(e){this.EditCell=e,this.Cell=this.EditCell.Cell,this.reset()}reset(){this.Cell.getElement().querySelectorAll(".acp-ie-controls__items").forEach((e=>e.remove()))}isRevisioningEnabled(){return!this.Cell.getSettings().getService(Qt).hasOwnProperty("disable_revisioning")}render(){let e=Tn.createContainer(),t=this.Cell.getElement().querySelector(".acp-ie-value");this.Cell.getElement().appendChild(e),t&&I(e,t),Tn.appendButton(this.renderEdit(),e),this.isRevisioningEnabled()&&(Tn.appendButton(this.renderUndo(),e),Tn.appendButton(this.renderRedo(),e)),Tn.appendButton(this.renderClear(),e)}static createContainer(){let e=document.createElement("div");return e.classList.add("acp-ie-controls"),e}static appendButton(e,t){e&&t.appendChild(e)}renderEdit(){let e=Tn.createButtonElement(ACP_Editing.i18n.edit,"-edit");return e.insertAdjacentHTML("beforeend",'<span class="dashicons dashicons-edit"></span>'),e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),this.EditCell.openEditable()})),e}renderUndo(){if(0===this.Cell.getService(Jt).current_revision)return null;let e=Tn.createButtonElement(ACP_Editing.i18n.undo,"-undo");return e.insertAdjacentHTML("beforeend",'<span class="dashicons dashicons-undo"></span>'),e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),this.EditCell.undo()})),e}renderRedo(){let e=this.Cell.getService(Jt);if(e.current_revision>=e.getRevisions().length-1)return;let t=Tn.createButtonElement(ACP_Editing.i18n.redo,"-redo");return t.insertAdjacentHTML("beforeend",'<span class="dashicons dashicons-redo"></span>'),t.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),this.EditCell.redo()})),t}renderClear(){let e=this.Cell.getService(Jt);if(!this.Cell.getSettings().getService(Qt).clear_button)return;if(!e.getValue())return;if("object"==typeof e.getValue()&&0===e.getValue().length)return;let t=Tn.createButtonElement(ACP_Editing.i18n.delete,"-clear");return t.insertAdjacentHTML("beforeend",'<span class="dashicons dashicons-no-alt"></span>'),t.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),this.EditCell.clear()})),t}static createButtonElement(e,t){let n=document.createElement("button");return n.classList.add("acp-ie-controls__item"),n.classList.add(t),n.setAttribute("title",e),n.tabIndex=0,n}}class xn extends Tn{render(){this.wrapImages()}wrapImages(){let e=this.Cell.getElement().querySelectorAll(".ac-image"),t=this.Cell.getElement().querySelector(".acp-ie-controls");e&&(e.forEach((e=>{let t=e.dataset.mediaId,n=document.createElement("div"),s=document.createElement("div");s.classList.add("acp-ie-image-controls"),n.dataset.mediaId=t,n.classList.add("acp-ie-image-item"),e.parentNode.insertBefore(n,e),n.appendChild(e),n.appendChild(s)})),this.Cell.getSettings().getService(Qt).multiple?(this.addSingleImageDelete(),t.classList.add("-multiple")):(this.moveActions(),t.classList.add("-single")))}addSingleImageDelete(){let e=this.Cell.getElement().querySelectorAll(".acp-ie-image-item");e&&e.forEach((e=>{let t=e.querySelector(".acp-ie-image-controls"),n=this.renderDelete();t.append(n)}))}moveActions(){let e=this.Cell.getElement().querySelector(".acp-ie-controls"),t=this.Cell.getElement().querySelector(".acp-ie-image-controls");e&&t&&(e.querySelectorAll(".acp-ie-controls__item").forEach((e=>{t.append(e)})),t.classList.add("-single"))}renderDelete(){let e=this,t=xn.createButtonElement(ACP_Editing.i18n.delete,"-delete");return t.insertAdjacentHTML("beforeend",'<span class="dashicons dashicons-no-alt"></span>'),t.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation();let n=t.target.closest(".acp-ie-image-item"),s=e.Cell.getService(Jt).getValue();s=Array.isArray(s)?s.filter((e=>parseInt(e)!==parseInt(n.dataset.mediaId))):"",this.EditCell.saveValue(s)})),t}}function Ln(e,t){let n=document.createElement("tr");t=t.replace(/\./g,"\\."),n.innerHTML=e;let s=n.querySelector(`td.column-${t}`);if(s){let e=s.querySelectorAll(".row-actions");return e&&e.forEach((e=>{e.remove()})),s.innerHTML}return""}var An=n(403),kn=n.n(An);class On{constructor(){this.filters={}}addFilter(e,t,n=10){this.filters.hasOwnProperty(e)||(this.filters[e]={}),this.filters[e].hasOwnProperty(n)||(this.filters[e][n]=[]),this.filters[e][n].push(t)}applyFilters(e,t,n={}){return this.filters.hasOwnProperty(e)?(Object.keys(this.filters[e]).forEach((s=>{this.filters[e][parseInt(s)].forEach((e=>{t=e(t,n)}))})),t):t}}class qn{constructor(){this.services={},this.events=new(kn()),this.filters=new On,this.$=Xt}registerService(e,t){return this.services[e]=t,this}getService(e){return this.hasService(e)?this.services[e]:null}hasService(e){return this.services.hasOwnProperty(e)}addListener(e,t){this.events.addListener(e,t)}emitEvent(e,t){this.events.emit(e,t)}}const jn=()=>(window.AC_SERVICES||(window.AC_SERVICES=new qn),window.AC_SERVICES),Pn="acp-ie-editable",In="acp-ie-value";class Dn{constructor(e,t,n,s){this.EditableConstructor=s,this.InlineEdit=e,this.Cell=t,this.Middleware=n,this.wrapCellContent(),this.attachEditable(),this.insertControls(),this.attachEvents()}getDataStorage(){return this.Cell.getService(Jt)}getEditableSettings(){return this.Cell.getSettings().getService(Qt)}attachEditable(){if(!this.Cell.hasService(Jt)||this.Editable)return;let e=this.getDataStorage().getFormattedValue();null!==e&&(this.Editable=new this.EditableConstructor(this.Middleware.getArgs()),this.Editable.setValue(e),this.Cell.getObjectID()&&this.Editable.setObjectId(this.Cell.getObjectID()),this.Editable.Events.addListener("save",(e=>{this.saveValue(e.getValue())})),this.Editable.Events.addListener("close",(()=>{this.setFocusOnRelatedCell(),Rn.destroy(),this.destroyPopper()})))}setFocusOnRelatedCell(){let e=this.Cell.getElement().querySelector(".-edit");e&&(this.Cell.getElement().closest("tr").classList.add("forced-focus"),e.focus({preventScroll:!0}),this.Cell.getElement().closest("tr").classList.remove("forced-focus"))}attachEvents(){this.Cell.events.addListener("setValue",(()=>{this.afterSetValue()})),this.getTargetElement().addEventListener("click",(e=>{this.InlineEdit.isEnabled()&&"A"!==e.target.tagName&&"BUTTON"!==e.target.tagName&&(e.preventDefault(),e.stopPropagation(),this.openEditable())})),document.addEventListener("ACP_InlineEditing_Close",(()=>{this.Popper&&this.Editable.close()}))}saveValue(e){this.Editable.toggleLoading(!0),this.getDataStorage().storeRevision(e).save().done((e=>{if(!e.success)return this.Editable.toggleLoading(!1),void this.Editable.setError(e.data.message);this.setValue(e.data),this.Editable.setValue(e.data.value).close(),this.Editable.toggleLoading(!1);let t={column:this.Cell.getName(),item:this.Cell.getObjectID(),value:e.data.value};document.dispatchEvent(new CustomEvent("ACP_InlineEditing_After_Save",{detail:t}))}))}openEditable(){this.InlineEdit.closeOpenEditables();let e=this.getPopperContainer();e.append(this.Editable.get()),this.popper=new $t(this.getTargetElement(),e,{modifiers:{arrow:{element:".ac-edit-popper__caret"}}}),this.InlineEdit.openEditable(this.Editable),Rn.bind(),setTimeout((()=>this.Editable.focus()),200)}wrapCellContent(){let e=this.getEditableSettings(),t=document.createElement("span");for(this.Cell.getElement().classList.add(Pn,`acp-ie-editable--${e.type}`),t.classList.add(In);this.Cell.getElement().firstChild;)t.appendChild(this.Cell.getElement().firstChild);this.Cell.getElement().append(t);let n=t.querySelectorAll(".row-actions");return n&&n.forEach((e=>{this.Cell.getElement().appendChild(e)})),t}undo(){this.getDataStorage().undo()&&this.getDataStorage().save().done((e=>{this.setValue(e.data),this.Editable.setValue(e.data.value)}))}redo(){this.getDataStorage().redo()&&this.getDataStorage().save().done((e=>{this.setValue(e.data),this.Editable.setValue(e.data.value)}))}clear(){this.getDataStorage().storeRevision("").save().done((e=>{this.setValue(e.data),this.Editable.setValue(e.data.value)}))}setCellValue(e){this.Cell.setValue(e)}setValue(e){let t=e.display_value;var n;t?this.Cell.setValue(t):(this.getTargetElement().style.backgroundColor="#f2f093",(n=[e.id],Ae().post(window.location.href,zt({ac_action:"get_table_rows",ac_ids:n,_ajax_nonce:AC.ajax_nonce}))).then((t=>{t.data.data.table_rows&&this.setCellValue(Ln(t.data.data.table_rows[e.id],this.Cell.getSettings().name))})))}valueUpdateVisual(){const e=this.getTargetElement();e&&(e.style.animation="acp-value-highlight .9s")}getTargetElement(){return this.Cell.getElement().querySelector(".acp-ie-value")}insertControls(){new Tn(this).render(),this.Middleware.hasMediaActions()&&new xn(this).render(),this.moveActions()}moveActions(){const e=this.getEditableSettings();if(!e.hasOwnProperty("js")||!e.js.hasOwnProperty("selector"))return;let t=this.Cell.getElement().querySelector(e.js.selector),n=this.Cell.getElement().querySelector(".acp-ie-controls");t&&n&&I(n,t)}afterSetValue(){this.wrapCellContent(),this.valueUpdateVisual(),this.insertControls(),this.Cell.getElement().dispatchEvent(new CustomEvent("ACP_InlineEditing_After_SetValue")),jn().emitEvent("Edit.Inline.setValue",{cell:this})}destroyPopper(){document.querySelectorAll(".ac-edit-popper").forEach((e=>{e.remove()})),this.popper&&this.popper.destroy()}getPopperContainer(){return Nn()}}class Rn{static bind(){document.addEventListener("keyup",Rn.escapeEvent),document.addEventListener("click",Rn.clickEvent),document.querySelectorAll(".select2-container--acs2").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation()}))}))}static destroy(){document.removeEventListener("keyup",Rn.escapeEvent),document.removeEventListener("click",Rn.clickEvent)}static escapeEvent(e){"Escape"===e.key&&document.dispatchEvent(new CustomEvent("ACP_InlineEditing_Close"))}static clickEvent(e){e.target!==document.body&&(Rn.checkInvalidParentClasses(e.target)||document.dispatchEvent(new CustomEvent("ACP_InlineEditing_Close")))}static checkInvalidParentClasses(e){let t=!1;return["mce-container","wp-editor-wrap","media-modal","select2-container","ui-datepicker","ui-datepicker-header","ui-datepicker-buttonpane"].map((n=>{e.classList.contains(n)&&(t=!0)})),!!t||!!e.parentElement&&Rn.checkInvalidParentClasses(e.parentElement)}}const Nn=()=>{let e=document.createElement("div");return e.classList.add("ac-edit-popper"),e.insertAdjacentHTML("afterbegin",'<span class="ac-edit-popper__caret">'),document.body.append(e),e},Mn=e=>{let t=e.split(/[_,\-]+/);return parseInt(t[t.length-1])};class Hn{constructor(e,t,n,s,i){this.Editables=t,this.Table=e,this.Middleware=n,this.enabled=s,this.version=i,this.initialized=!1,this.openEditables=[],this.setTableClass(),this.addEvents(),this.initCells(),this.setInputState()}isEnabled(){return this.enabled}getVersion(){return this.version}enable(){this.enabled=!0,this.storePreference(),this.setTableClass(),this.initCells(),this.setInputState()}setInputState(){document.querySelectorAll("#acp-enable-editing").forEach((e=>e.checked=this.isEnabled()))}disable(){this.enabled=!1,this.storePreference(),this.setTableClass()}setInitialised(e=!0){return this.initialized=e,this}isInitialised(){return this.initialized}setTableClass(){let e=this.Table.getElement();e.classList.add("acp-ie-table","acp-ie-table--"+this.getVersion()),this.isEnabled()?(e.classList.add("acp-ie-enabled"),e.classList.remove("acp-ie-disabled")):(e.classList.add("acp-ie-disabled"),e.classList.remove("acp-ie-enabled"))}initCell(e){const t=e.getSettings(),n=t.getService(Qt);if(!t||!n||!n.type||e.hasService("IEdit"))return;const s=this.Middleware.getInlineEditable(t),i=s.getEditable();i&&e.getService(Jt)&&e.setService("IEdit",new Dn(this,e,s,i))}initRow(e){Cn([e]).then((e=>{e.data.data.editable_values.forEach((e=>{let t=this.Table.Cells.get(e.id,e.column_name);t.hasService("dataStorage")||t.setService("dataStorage",new Sn({column_name:t.getName(),id:t.getObjectID()})),this.initCell(t),t.hasService("IEdit")&&t.getService("IEdit").hasOwnProperty("Editable")&&t.getService("IEdit").Editable.setValue(e.value)}))}))}updateRowCells(e){Object.keys(this.Table.Columns.getColumns()).forEach((t=>{let n=this.Table.Cells.get((e=>{var t,n;if(e.classList.contains("no-items"))return 0;let s=Mn(e.id);if(!s){let t=e.querySelector(".check-column input[type=checkbox]");t&&(s=Mn(t.id))}if(!s){let r=null===(t=e.parentElement)||void 0===t?void 0:t.querySelector(".edit a");if(r){let e=r.getAttribute("href");e&&(s=parseInt(null!==(n=(i=e).includes("?")?new URLSearchParams(i.split("?")[1]).get("id"):null)&&void 0!==n?n:""))}}var i;return e.dataset.id=s.toString(),s})(e),t);n&&(n.setElement(((e,t)=>e.querySelector(`td.column-${t}`))(e,t)),n.hasService("IEdit")&&n.getService("IEdit").afterSetValue())}))}openEditable(e){this.openEditables.push(e)}closeOpenEditables(){this.openEditables.forEach((e=>{e.close()})),this.openEditables=[]}initCells(){!this.isInitialised()&&this.isEnabled()&&(this.Table.Cells.getAll().forEach((e=>this.initCell(e))),this.setInitialised())}storePreference(){var e;e=this.isEnabled(),Ae().post(ajaxurl,zt({action:Vt,method:"edit-state",value:e?1:0,list_screen:AC.list_screen,layout:AC.layout,_ajax_nonce:AC.ajax_nonce}))}addEvents(){document.querySelectorAll("#acp-enable-editing").forEach((e=>{e.addEventListener("change",(()=>e.checked?this.enable():this.disable()))})),document.addEventListener("ACP_InlineEditing_Close",(()=>this.closeOpenEditables())),jQuery(this.Table.getElement()).on("updated","tr",(e=>this.updateRowCells(e.target))),document.addEventListener("keydown",(e=>{"Escape"!==e.key&&"Esc"!==e.key||this.closeOpenEditables()}),!0)}}class $n{constructor(e){this.Table=e}updateSelectedCells(e,t=""){let n=this.Table.Selection.getIDs();0!==n.length&&this.getRows(n).done((n=>{if(!n.hasOwnProperty("data")||!n.data.hasOwnProperty("table_rows"))return;let s=n.data.table_rows;Object.keys(s).forEach((t=>{this.Table.Cells.get(parseInt(t),e).setValue(Ln(s[t],e))})),this.updateSelectedEditingCells(e,s,t)}))}updateSelectedEditingCells(e,t,n){let s=this.Table.Selection.getIDs();0!==s.length&&jQuery.ajax({url:ajaxurl,method:"post",data:{action:Vt,method:Ft,ids:s,column:e,list_screen:AC.list_screen,layout:AC.layout,_ajax_nonce:AC.ajax_nonce}}).done((s=>{s.data.editable_values.forEach((s=>{if(s.column_name!==e)return;let i=this.Table.Cells.get(s.id,e),r=i.getService("IEdit");i.setValue(Ln(t[s.id],s.column_name)),r&&(i.getService(Jt).storeRevision(n),r.Editable.setValue(s.value))}))}))}getRows(e){return jQuery.ajax({url:window.location.href,method:"post",data:{ac_action:"get_table_rows",ac_ids:e,_ajax_nonce:AC.ajax_nonce}})}}class Bn{constructor(e,t,n,s){this.Editables=e,this.settings=t,this.column=n,this.mode=s,this.args={mode:s},this.map()}getEditable(){return null}getArgs(){return this.args}hasMediaActions(){return!1}map(){}}class Vn extends Bn{getEditable(){return this.Editables.get("text")}map(){return this.mapHTMLAttributes(this.settings),this.args}mapHTMLAttributes(e){let t={};e.hasOwnProperty("required")&&(t.required=e.required),e.hasOwnProperty("placeholder")&&null!==e.placeholder&&(t.placeholder=e.placeholder),e.hasOwnProperty("range_max")&&(t.max=e.range_max),e.hasOwnProperty("range_min")&&(t.min=e.range_min),e.hasOwnProperty("range_step")&&(t.step=e.range_step),e.hasOwnProperty("maxlength")&&(t.maxlength=e.maxlength),e.hasOwnProperty("rows")&&(t.rows=e.rows),this.args.html_attributes=t}}class Fn extends Vn{map(){return super.map(),this.args.html_attributes.type="email",this.args}}class Un extends Vn{map(){return super.map(),this.args.html_attributes.type="number",this.args}}class Wn extends Vn{map(){return super.map(),this.args.html_attributes.type="url",this.args}}class Qn extends Vn{getEditable(){return this.Editables.get("textarea")}}class Jn extends Vn{map(){return super.map(),this.args.html_attributes.type="number",this.args.html_attributes.step="any",this.args}}class zn extends Vn{map(){return super.map(),this.args.html_attributes.type="password",this.args}}class Yn extends Bn{getEditable(){return this.Editables.get("color")}}class Gn extends Bn{getEditable(){return this.Editables.get("wysiwyg")}map(){return this.args}}class Xn extends Bn{getEditable(){return this.Editables.get("date")}map(){return this.args.showbuttons=!1,this.args}}class Kn extends Bn{map(){return this.args.timeformat=this.settings.timeformat,this.args}getEditable(){return this.Editables.get("date_time")}}class Zn extends Bn{map(){return this.args.options=(e=>{let t=[];if(void 0===e)return t;for(let n=0;n<e.length;n++){let s;if(void 0!==e[n].options){s={text:e[n].label,children:[]};for(let t in e[n].options)e[n].options.hasOwnProperty(t)&&s.children.push({value:e[n].options[t].value,id:e[n].options[t].value,text:e[n].options[t].label})}else s={value:e[n].value,id:e[n].value,text:e[n].label};t.push(s)}return t})(this.settings.options),this.args}getEditable(){return this.Editables.get("checklist")}}class es extends Bn{getEditable(){return this.Editables.get("select")}map(){return this.args.options=this.settings.options,this.args}}class ts extends Bn{getEditable(){return this.Editables.get("toggle")}map(){return this.args.options=this.settings.options,this.args.showbuttons=!1,this.args}flattenOptionArray(e){let t=[];return e.forEach((e=>{t.push(e.label)})),t}}class ns extends Bn{getEditable(){var e,t;return 1==(!0===this.args.ajax)?this.settings.multiple?(null===(e=this.settings)||void 0===e?void 0:e.has_methods)?this.Editables.get("select2_ajax_strategy"):this.Editables.get("select2_ajax_multiple"):this.Editables.get("select2_ajax"):this.settings.multiple?(null===(t=this.settings)||void 0===t?void 0:t.has_methods)?this.Editables.get("select2_multiple_strategy"):this.Editables.get("select2_multiple"):this.Editables.get("select2")}map(){this.args.select2={width:320,theme:"acs2",escapeMarkup:e=>jQuery("<div>"+e+"</div>").text()},this.settings.ajax_populate?(this.args.select2.ajax=this.mapAjax(),this.args.ajax=!0):this.args.options=this.settings.options,this.settings.multiple&&(this.args.select2.multiple=!0,this.args.select2.closeOnSelect=!1),this.settings.tags&&(this.args.select2.tags=!0)}mapAjax(){const e=this.column.name,t=this.mode===Ut?"bulk-select-values":"inline-select-values";return{url:ajaxurl,dataType:"json",delay:500,data:function(n){let s={action:Vt,method:t,layout:AC.layout,searchterm:n.term,page:n.page,column:e,list_screen:AC.list_screen,_ajax_nonce:AC.ajax_nonce};return this[0].dataset.hasOwnProperty("objectId")&&(s.item_id=this[0].dataset.objectId),s},processResults:function(e){return e.success?e.data:{results:[]}}}}}class ss extends Bn{getEditable(){return this.Editables.get("select2_remote")}map(){this.args.column=this.column.name,this.args.select2={width:320,theme:"acs2",escapeMarkup:e=>jQuery("<div>"+e+"</div>").text()}}}class is extends ns{getEditable(){return this.Editables.get("taxonomy")}}class rs extends Bn{getEditable(){return this.Editables.get("wp_library")}map(){return this.args.showbuttons=!1,this.args.multiple=!(!this.settings.hasOwnProperty("multiple")||!this.settings.multiple),this.settings.hasOwnProperty("attachment")&&this.settings.attachment.hasOwnProperty("library")&&(this.args.library=this.settings.attachment.library),this.args}hasMediaActions(){return!0}}class as extends Bn{getEditable(){return this.Editables.get("multi_input")}map(){return this.args.subtype=this.settings.subtype,this.args}}class os extends Bn{getEditable(){return this.Editables.get("fullname")}map(){return this.args.placeholder_first_name=this.settings.placeholder_first_name,this.args.placeholder_last_name=this.settings.placeholder_last_name,this.args}}class ls extends Bn{getEditable(){return this.Editables.get("number_extended")}map(){return this.mapHTMLAttributes(this.settings),this.args}mapHTMLAttributes(e){let t={type:"number"};e.hasOwnProperty("range_max")&&(t.max=e.range_max),e.hasOwnProperty("range_min")&&(t.min=e.range_min),e.hasOwnProperty("range_step")&&(t.step=e.range_step),this.args.html_attributes=t}}class cs extends Bn{getEditable(){return this.Editables.get("internal_link")}map(){super.map(),this.args.placeholder=this.settings.placeholder||""}}class us{constructor(e,t){this.services=t,this.Editables=e,this.middleWareClasses={_abstract:Bn,default:Vn,text:Vn,internal_link:cs,url:Wn,number:Un,number_extended:ls,password:zn,email:Fn,checklist:Zn,color:Yn,select:es,select2_dropdown:ns,select2_remote:ss,date:Xn,date_time:Kn,textarea:Qn,togglable:ts,attachment:rs,media:rs,float:Jn,multi_input:as,types_multi_input:as,taxonomy:is,wysiwyg:Gn,fullname:os},this.services.emitEvent("Editing.Middleware.Ready",this)}register(e,t){return this.middleWareClasses[e]=t,this}getClass(e){return this.middleWareClasses.hasOwnProperty(e)?this.middleWareClasses[e]:this.middleWareClasses.default}getInlineEditable(e){const t=e.getService(Qt),n=t.type;return new(this.middleWareClasses.hasOwnProperty(n)?this.middleWareClasses[n]:this.middleWareClasses.default)(this.Editables,t,e,"inline")}getBulkEditable(e){let t=e.getService(Wt),n=t.type;return new(this.middleWareClasses.hasOwnProperty(n)?this.middleWareClasses[n]:this.middleWareClasses.default)(this.Editables,t,e,Ut)}}class ds{constructor(){this.services={}}registerService(e,t){return this.services[e]=t,this}getService(e){return this.hasService(e)?this.services[e]:null}hasService(e){return this.services.hasOwnProperty(e)}}AC_SERVICES.addListener("Table.Ready",(e=>{const t=e.table;if(!AC.hasOwnProperty("layout")||null===AC.layout)return;var n,s;n=e.table.Columns,s=ACP_Editing_Columns,Object.keys(s).forEach((e=>{n.get(e).setService("inlineEditable",s[e].inline_edit),n.get(e).setService("bulkEditable",s[e].bulk_edit)}));const i=new ds,r=new De(AC_SERVICES),a=new us(r,AC_SERVICES),o=new $n(t);AC_SERVICES.registerService("Editing",i),i.registerService("Editables",r).registerService("Helper",new Re).registerService("TableUpdate",o),hs("bulk_edit")&&i.registerService("BulkEdit",new wn(t,r,a,o)),hs("inline_edit")?Cn(t.getIdsFromTable()).then((e=>{e.data.success&&(((e,t)=>{t.forEach((t=>{let n=e.get(t.id,t.column_name),s=n.getSettings().getService(Qt);null!==s&&(s.hasOwnProperty("store_values")&&!1===s.store_values&&(t.formatted_value=t.value,t.value="object"==typeof t?Object.keys(t.value):""),(e=>!(!e.hasOwnProperty("store_single_value")||!e.store_single_value)||"select2_dropdown"===e.type&&(!e.hasOwnProperty("multiple")||!1===e.multiple))(s)&&(t.formatted_value=t.value,t.value=Object.keys(t.value)[0]),n.setService("dataStorage",new Sn(t)))}))})(t.Cells,e.data.data.editable_values),i.registerService("InlineEdit",new Hn(t,r,a,ACP_Editing.inline_edit.active||ACP_Editing.inline_edit.persistent,ACP_Editing.inline_edit.version)))})):document.querySelectorAll(".ac-table-button.-toggle.-iedit").forEach((e=>e.remove())),jn().addListener("Edit.Inline.setValue",(()=>{AC_SERVICES.hasService("tooltips")&&AC_SERVICES.getService("tooltips")()}))}));const hs=e=>{let t=ACP_Editing_Columns;for(const n of Object.keys(t)){let s=t[n];if(s.hasOwnProperty(e)&&null!==s[e])return!0}return!1}})()})();