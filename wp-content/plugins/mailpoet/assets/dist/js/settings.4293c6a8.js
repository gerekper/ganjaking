"use strict";(self.webpackChunkMailPoet3=self.webpackChunkMailPoet3||[]).push([[571],{27575:function(e,t,s){var i={};s.r(i),s.d(i,{loadSettings:function(){return _},openWoocommerceCustomizer:function(){return T},recalculateSubscribersScore:function(){return N},reinstall:function(){return k},saveSettings:function(){return g},sendCongratulatoryMssEmail:function(){return S},sendTestEmail:function(){return A},setErrorFlag:function(){return p},setReEngagement:function(){return h},setSetting:function(){return d},setSettings:function(){return u},updateKeyActivationState:function(){return m},verifyMssKey:function(){return y},verifyPremiumKey:function(){return I}});var n={};s.r(n),s.d(n,{getAmazonSesOptions:function(){return H},getDefaultSegments:function(){return B},getKeyActivationState:function(){return W},getPages:function(){return Y},getPaths:function(){return $},getReEngagementAction:function(){return Q},getSavingError:function(){return V},getSegments:function(){return K},getSendGridOptions:function(){return X},getSetting:function(){return M},getSettings:function(){return L},getTestEmailState:function(){return J},getWebHosts:function(){return q},hasErrorFlag:function(){return D},hasMembersPlugin:function(){return R},hasReEngagementNotice:function(){return Z},hasSavingError:function(){return P},hasWooCommerce:function(){return z},isBuiltInCaptchaSupported:function(){return O},isMssActive:function(){return G},isNewUser:function(){return U},isSaving:function(){return F}});var a={};s.r(a),s.d(a,{CALL_API:function(){return ee.t},TRACK_REINSTALLED:function(){return se},TRACK_SETTINGS_SAVED:function(){return te},TRACK_TEST_EMAIL_SENT:function(){return ie},TRACK_UNAUTHORIZED_EMAIL:function(){return ne}}),s(13979);var r=s(64151),o=s(76087),l=s(38104);const c="mailpoet-settings";function m(e){return{type:"UPDATE_KEY_ACTIVATION_STATE",fields:e}}function d(e,t){return{type:"SET_SETTING",path:e,value:t}}function u(e){return{type:"SET_SETTINGS",value:e}}function p(e){return{type:"SET_ERROR_FLAG",value:e}}function h(e){return{type:"SET_RE_ENGAGEMENT_NOTICE",value:e}}function*g(){yield{type:"SAVE_STARTED"};const e=(0,l.select)(c).getSettings(),t=JSON.stringify(e),s=JSON.parse(t,((e,t)=>"string"==typeof t?t.trim():t)),{success:i,error:n,res:a}=yield{type:"CALL_API",endpoint:"settings",action:"set",data:s};return i?(yield{type:"TRACK_SETTINGS_SAVED"},yield m({congratulatoryMssEmailSentTo:null,fromAddressModalCanBeShown:!1}),yield u(a.data),yield h(a.meta),yield{type:"TRACK_UNAUTHORIZED_EMAIL",meta:a.meta},{type:"SAVE_DONE"}):{type:"SAVE_FAILED",error:n}}function*_(){const{success:e,error:t,res:s}=yield{type:"CALL_API",endpoint:"settings",action:"get"};return e?u(s.data):{type:"SAVE_FAILED",error:t}}var x=s(62668);let j,b,v,f;function*y(e){const{success:t,error:s,res:i}=yield{type:"CALL_API",endpoint:"services",action:"checkMSSKey",data:{key:e}};if(!t)return m({mssStatus:b.INVALID,mssMessage:s.join(" ")||null});const n={mssMessage:i.data.message||null},a=(0,l.select)(c).getSettings();a.mta_group="mailpoet",a.mta={...a.mta,method:"MailPoet",mailpoet_api_key:e},a.signup_confirmation.enabled="1";const r=yield{type:"CALL_API",endpoint:"settings",action:"set",data:a};return r.success?(yield u(r.res.data),n.mssStatus=b.VALID_MSS_ACTIVE):n.mssStatus=b.VALID_MSS_NOT_ACTIVE,m(n)}function*I(e){var t,s,i;const{res:n,success:a,error:r}=yield{type:"CALL_API",endpoint:"services",action:"checkPremiumKey",data:{key:e}};var o;if(!a)return x.x.trackEvent("User has failed to validate a Premium key",{"Premium plugin is active":!!x.x.premiumVersion}),m({premiumStatus:j.INVALID,premiumMessage:r.join(" ")||null,code:null==n||null===(o=n.meta)||void 0===o?void 0:o.code});yield d(["premium","premium_key"],e);const l=n.meta.premium_plugin_active;let c=n.meta.premium_plugin_installed?j.VALID_PREMIUM_PLUGIN_NOT_ACTIVE:j.VALID_PREMIUM_PLUGIN_NOT_INSTALLED;return l&&(c=j.VALID_PREMIUM_PLUGIN_ACTIVE),yield m({premiumMessage:null,premiumStatus:c,code:null==n||null===(t=n.meta)||void 0===t?void 0:t.code,downloadUrl:null==n||null===(s=n.meta)||void 0===s||null===(i=s.premium_plugin_info)||void 0===i?void 0:i.download_link}),x.x.trackEvent("User has validated a Premium key"),null}function*S(){const e=yield{type:"CALL_API",endpoint:"services",action:"sendCongratulatoryMssEmail"};return e&&e.success?m({congratulatoryMssEmailSentTo:e.res.data.email_address}):null}function*k(){x.x.Modal.loading(!0);const{success:e,error:t}=yield{type:"CALL_API",endpoint:"setup",action:"reset"};return x.x.Modal.loading(!1),e?(yield{type:"TRACK_REINSTALLED"},{type:"SAVE_DONE"}):{type:"SAVE_FAILED",error:t}}function*N(){return x.x.Modal.loading(!0),yield{type:"CALL_API",endpoint:"settings",action:"recalculateSubscribersScore"},x.x.Modal.loading(!1),{type:"SAVE_DONE"}}!function(e){e[e.INVALID=0]="INVALID",e[e.VALID_PREMIUM_PLUGIN_NOT_INSTALLED=1]="VALID_PREMIUM_PLUGIN_NOT_INSTALLED",e[e.VALID_PREMIUM_PLUGIN_NOT_ACTIVE=2]="VALID_PREMIUM_PLUGIN_NOT_ACTIVE",e[e.VALID_PREMIUM_PLUGIN_ACTIVE=3]="VALID_PREMIUM_PLUGIN_ACTIVE",e[e.VALID_PREMIUM_PLUGIN_BEING_INSTALLED=4]="VALID_PREMIUM_PLUGIN_BEING_INSTALLED",e[e.VALID_PREMIUM_PLUGIN_BEING_ACTIVATED=5]="VALID_PREMIUM_PLUGIN_BEING_ACTIVATED"}(j||(j={})),function(e){e[e.INVALID=0]="INVALID",e[e.VALID_MSS_NOT_ACTIVE=1]="VALID_MSS_NOT_ACTIVE",e[e.VALID_MSS_ACTIVE=2]="VALID_MSS_ACTIVE"}(b||(b={})),function(e){e[e.INSTALL_INSTALLING=0]="INSTALL_INSTALLING",e[e.INSTALL_ACTIVATING=1]="INSTALL_ACTIVATING",e[e.INSTALL_DONE=2]="INSTALL_DONE",e[e.INSTALL_INSTALLING_ERROR=3]="INSTALL_INSTALLING_ERROR",e[e.INSTALL_ACTIVATING_ERROR=4]="INSTALL_ACTIVATING_ERROR",e[e.ACTIVATE_ACTIVATING=5]="ACTIVATE_ACTIVATING",e[e.ACTIVATE_DONE=6]="ACTIVATE_DONE",e[e.ACTIVATE_ERROR=7]="ACTIVATE_ERROR"}(v||(v={})),function(e){e[e.SENDING=0]="SENDING",e[e.NONE=1]="NONE",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(f||(f={}));var E=s(1057);function*A(e,t){if(!e)return{type:"TEST_EMAIL_FAILED",error:[(0,E.t)("cantSendEmail")]};yield{type:"START_TEST_EMAIL_SENDING"};const s=yield{type:"CALL_API",endpoint:"mailer",action:"send",data:{mailer:t,newsletter:{subject:(0,E.t)("testEmailSubject"),body:{html:`<p>${(0,E.t)("testEmailBody")}</p>`,text:(0,E.t)("testEmailBody")}},subscriber:e}};return yield{type:"TRACK_TEST_EMAIL_SENT",success:s.success,method:t.method},s.success?{type:"TEST_EMAIL_SUCCESS"}:{type:"TEST_EMAIL_FAILED",error:s.error}}function*T(e){let t=e;if(!t){const{res:e,success:s,error:i}=yield{type:"CALL_API",endpoint:"settings",action:"set",data:{"woocommerce.use_mailpoet_editor":1}};if(!s)return{type:"SAVE_FAILED",error:i};t=e.data.woocommerce.transactional_email_id}return window.location.href=`?page=mailpoet-newsletter-editor&id=${t}`,null}var C=s(61888),w=s.n(C);function M(e,t){return w().get(e.data,t)}function L(e){return e.data}function F(e){return e.save.inProgress}function D(e){return e.flags.error}function P(e){return null!==e.save.error}function V(e){return e.save.error}function z(e){return e.flags.woocommerce}function R(e){return e.flags.membersPlugin}function O(e){return e.flags.builtInCaptcha}function U(e){return e.flags.newUser}function G(e){return"MailPoet"===w().get(e,"data.mta.method")}function K(e){return e.segments}function B(e){return e.segments.filter((e=>"default"===e.type))}function Y(e){return e.pages}function W(e){return e.keyActivation}function $(e){return e.paths}function q(e){return{...e.hosts.web,manual:{name:(0,E.t)("notListed"),emails:25,interval:5}}}function H(e){return e.hosts.smtp.AmazonSES}function X(e){return e.hosts.smtp.SendGrid}function J(e){return e.testEmail}function Z(e){return e.reEngagement.showNotice}function Q(e){return e.reEngagement.action}var ee=s(44794);function te(){const e=(0,l.select)(c).getSettings(),t={"Sending method type":e.mta_group||null,"Sending frequency (emails)":"mailpoet"!==e.mta_group&&e.mta&&e.mta.frequency&&e.mta.frequency.emails,"Sending frequency (interval)":"mailpoet"!==e.mta_group&&e.mta&&e.mta.frequency&&e.mta.frequency.interval,"Sending provider":"smtp"===e.mta_group&&e.smtp_provider,"Sign-up confirmation enabled":e.signup_confirmation&&e.signup_confirmation.enabled,"Bounce email is present":e.bounce&&""!==e.bounce.address,"Newsletter task scheduler method":e.cron_trigger&&e.cron_trigger.method};x.x.isWoocommerceActive&&(t["WooCommerce email customizer enabled"]=e.woocommerce&&e.woocommerce.use_mailpoet_editor),x.x.trackEvent("User has saved Settings",t)}function se(){x.x.trackEvent("User has reinstalled MailPoet via Settings")}function ie(e){x.x.trackEvent("User has sent a test email from Settings",{"Sending was successful":!!e.success,"Sending method type":e.method})}function ne(e){void 0!==e.meta&&e.meta.invalid_sender_address&&x.x.trackEvent("Unauthorized email used",{"Unauthorized email source":"settings"})}function ae(e){return t=>void 0===t?e:t?`${t}`:""}function re(e,t,s){return i=>void 0===i?s:i===e||i===t?i:i?e:t}function oe(e,t){return s=>e.includes(s)?s:t}function le(e){return t=>Object.keys(e).reduce(((s,i)=>({[i]:e[i](t?t[i]:void 0),...s})),{})}function ce(e){return e}function me(e){const t=ae(""),s=re("1","0","0"),i=re("1","0","1"),n=re("1","",""),a=re("1","","1"),r=(o=[],e=>w().isArray(e)?e.map(ae("")):o);var o;const l=oe(["server","manual","AmazonSES","SendGrid"],"server");return le({sender:le({name:t,address:t}),reply_to:le({name:t,address:t}),bounce:le({address:t}),subscribe:le({on_comment:le({enabled:s,label:ae((0,E.t)("yesAddMe")),segments:r}),on_register:le({enabled:s,label:ae((0,E.t)("yesAddMe")),segments:r})}),subscription:le({pages:le({manage:t,unsubscribe:t,confirmation:t,captcha:t,confirm_unsubscribe:t}),segments:r}),stats_notifications:le({enabled:i,automated:i,address:t}),subscriber_email_notification:le({enabled:a,address:t}),reEngagement:le({page:t}),cron_trigger:le({method:oe(["WordPress","Action Scheduler","Linux Cron"],"Action Scheduler")}),tracking:le({level:oe(["full","partial","basic"],"full")}),send_transactional_emails:n,deactivate_subscriber_after_inactive_days:oe(["","90","180","365","540"],"365"),analytics:le({enabled:n}),"3rd_party_libs":le({enabled:n}),captcha:le({type:oe(["","built-in","recaptcha","recaptcha-invisible"],"built-in"),recaptcha_site_token:t,recaptcha_secret_token:t,recaptcha_invisible_site_token:t,recaptcha_invisible_secret_token:t}),logging:oe(["everything","errors","nothing"],"errors"),mta_group:oe(["mailpoet","website","smtp"],"website"),mta:le({method:oe(["MailPoet","AmazonSES","SendGrid","PHPMail","SMTP"],"PHPMail"),frequency:le({emails:ae("25"),interval:ae("5")}),mailpoet_api_key:t,host:t,port:t,region:ae("us-east-1"),access_key:t,secret_key:t,api_key:t,login:t,password:t,encryption:t,authentication:oe(["1","-1"],"1"),mailpoet_api_key_state:le({state:oe(["valid","invalid","expiring","already_used","check_error"],"check_error"),data:ce})}),mailpoet_smtp_provider:l,smtp_provider:l,web_host:ae("manual"),mailpoet_sending_frequency:oe(["auto","manual"],"manual"),signup_confirmation:le({enabled:a,subject:t,body:t}),woocommerce:le({use_mailpoet_editor:n,transactional_email_id:t,optin_on_checkout:le({enabled:a,segments:r,message:t}),accept_cookie_revenue_tracking:le({set:a})}),mailpoet_subscribe_old_woocommerce_customers:le({enabled:a}),premium:le({premium_key:t,premium_key_state:le({state:oe(["valid","invalid","expiring","already_used","check_error"],"check_error"),data:ce})}),authorized_emails_addresses_check:ce})(e)}function de(e){let t;return function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case"SET_SETTING":return(0,C.setWith)((0,C.clone)(s),["data",...i.path],i.value,C.clone);case"SET_SETTINGS":return{...s,data:me(i.value)};case"SET_ERROR_FLAG":return{...s,flags:{...s.flags,error:!!i.value}};case"SAVE_STARTED":return{...s,save:{inProgress:!0,error:null}};case"SAVE_DONE":return{...s,save:{inProgress:!1,error:null}};case"SAVE_FAILED":return{...s,save:{inProgress:!1,error:i.error}};case"SET_RE_ENGAGEMENT_NOTICE":return{...s,reEngagement:{showNotice:i.value.showNotice,action:i.value.action}};case"UPDATE_KEY_ACTIVATION_STATE":return t={...s.keyActivation,...i.fields},t.isKeyValid=null,null!==t.mssStatus&&null!==t.premiumStatus&&(t.isKeyValid=t.mssStatus!==b.INVALID||t.premiumStatus!==j.INVALID),{...s,keyActivation:t};case"START_TEST_EMAIL_SENDING":return{...s,testEmail:{state:f.SENDING,error:null}};case"TEST_EMAIL_SUCCESS":return{...s,testEmail:{state:f.SUCCESS,error:null}};case"TEST_EMAIL_FAILED":return{...s,testEmail:{state:f.FAILURE,error:i.error}};default:return s}}}function ue(e){const t=e.mailpoet_pages,s=e.mailpoet_paths,i=e.mailpoet_segments,n=e.mailpoet_hosts,a=me(e.mailpoet_settings),r={error:!1,newUser:!!e.mailpoet_is_new_user,woocommerce:!!e.mailpoet_woocommerce_active,membersPlugin:!!e.mailpoet_members_plugin_active,builtInCaptcha:e.mailpoet_built_in_captcha_supported};let o=null,l=null,c=null;return(a.premium.premium_key||a.mta.mailpoet_api_key)&&(l=function(e,t){return e?"MailPoet"===t.mta.method?b.VALID_MSS_ACTIVE:b.VALID_MSS_NOT_ACTIVE:b.INVALID}(e.mailpoet_mss_key_valid,a),c=function(e,t){const s=!!x.x.premiumVersion;return e?s?j.VALID_PREMIUM_PLUGIN_ACTIVE:t?j.VALID_PREMIUM_PLUGIN_NOT_ACTIVE:j.VALID_PREMIUM_PLUGIN_NOT_INSTALLED:j.INVALID}(e.mailpoet_premium_key_valid,e.mailpoet_premium_plugin_installed),o=l!==b.INVALID||c!==j.INVALID),{data:a,flags:r,save:{inProgress:!1,error:null},keyActivation:{isKeyValid:o,mssStatus:l,premiumStatus:c,mssMessage:null,premiumMessage:null,fromAddressModalCanBeShown:!1,premiumInstallationStatus:null,key:a.premium.premium_key||a.mta.mailpoet_api_key,inProgress:!1,congratulatoryMssEmailSentTo:null,downloadUrl:e.mailpoet_premium_plugin_download_url,activationUrl:e.mailpoet_premium_plugin_activation_url},segments:i,pages:t,paths:s,hosts:n,testEmail:{state:f.NONE,error:null},reEngagement:{showNotice:!1,action:null}}}var pe=s(1349),he=s(15317),ge=s(17768),_e=s(84663),xe=s(33684),je=s(20264);function be(e){let{title:t,description:s,htmlFor:i}=e;return(0,je.jsxs)("div",{className:"mailpoet-settings-label",children:[(0,je.jsx)("label",{className:"mailpoet-settings-label-title",htmlFor:i,children:t}),s&&(0,je.jsx)("p",{className:"description",children:s})]})}function ve(e){let{children:t}=e;return(0,je.jsx)("div",{className:"mailpoet-settings-inputs",children:t})}var fe=s(49231),ye=s(13763),Ie=s(85479);function Se(e){return(0,Ie.Z)(c)[e]}var ke=s(87834);function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,ke.Z)((t=>{const s=t(c);return s[e].bind(s)}),t)}function Ee(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const i=Ne("getSetting"),n=Se("setSetting");return[i(t),(0,fe.useCallback)((e=>n(t,e)),t)]}var Ae=s(34352),Te=s.n(Ae);function Ce(){const[e,t]=(0,fe.useState)(!1),s=Ne("isSaving")(),i=Ne("hasErrorFlag")(),n=Ne("getSavingError")(),a=Ne("hasReEngagementNotice")(),r=Ne("getReEngagementAction")(),l=Se("saveSettings"),{notices:c}=(0,fe.useContext)(o.k),m=c.error,d=c.success;return(0,fe.useEffect)((()=>{e&&!s&&(n?m(n.map((e=>(0,je.jsx)("p",{children:e}))),{scroll:!0}):(d((0,je.jsx)("p",{children:x.x.I18n.t("settingsSaved")}),{scroll:!0}),a&&((e,t,s)=>{if("deactivate"!==e){if("reactivate"===e){const e=Te()(x.x.I18n.t("re-engagementReactivatedNotice"),/\[link\](.*?)\[\/link\]/g,(e=>(0,je.jsx)("a",{href:"?page=mailpoet-newsletters#/re_engagement",rel:"noopener noreferrer",children:e},"reEngagementEmailsTabLink")));s((0,je.jsx)("p",{children:e}),{scroll:!0})}}else t((0,je.jsx)("p",{children:x.x.I18n.t("re-engagementDisabledNotice")}),{scroll:!0})})(r,m,d)))}),[e,n,s,m,d,a,r]),(0,je.jsx)("div",{className:"mailpoet-settings-save",children:(0,je.jsx)(ye.z,{type:"button",automationId:"settings-submit-button",isDisabled:s||i,onClick:()=>{t(!0),l()},children:x.x.I18n.t("saveSettings")})})}var we=s(5635);function Me(e){const t=Ne(e.segmentsSelector?e.segmentsSelector:"getDefaultSegments")().map((e=>({value:e.id,label:e.name,count:e.subscribers}))),s=t.filter((t=>e.value.includes(t.value)));return(0,je.jsx)(we.ReactSelect,{isMulti:!0,defaultValue:s,id:e.id,placeholder:e.placeholder,options:t,onChange:t=>{e.setValue((t||[]).map((e=>e.value)))}})}var Le=s(64530);function Fe(e){const t=Ne("getPages")();let s=t.find((t=>t.id===parseInt(e.value,10)));return s||(s=t[0]),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row mailpoet-settings-inputs-row-centered",children:[(0,je.jsx)(Le.Select,{id:e.id,automationId:e.automationId,value:s.id,onChange:(0,E.z2)(e.setValue),isMinWidth:!0,dimension:"small",children:t.map((e=>(0,je.jsx)("option",{value:e.id,children:`${e.title}`},e.id)))}),(0,je.jsx)("span",{className:"mailpoet-gap"}),(0,je.jsx)("a",{className:"mailpoet-link",target:"_blank",title:(0,E.t)("previewPage"),rel:"noopener noreferrer",href:s.url[e.preview],"data-automation-id":e.linkAutomationId,children:(0,E.t)("preview")})]})}var De=s(32033),Pe=s(78046),Ve=s(61445);function ze(){const e=Ne("isMssActive")(),[t,s]=Ee("sender","name"),[i,n]=Ee("sender","address"),[a,r]=(0,fe.useState)(!0),[o,l]=(0,fe.useState)(!1),[c,m]=Ee("reply_to","name"),[d,u]=Ee("reply_to","address"),p=Se("setErrorFlag"),h=i&&!(0,E.Jh)(i),g=d&&!(0,E.Jh)(d);return(0,fe.useEffect)((()=>{p(h||g||!a&&e)}),[g,h,p,a,e]),(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("defaultSenderTitle"),description:(0,E.t)("defaultSenderDescription"),htmlFor:"sender-name"}),(0,je.jsxs)(ve,{children:[(0,je.jsx)("label",{htmlFor:"sender-name",children:(0,E.t)("from")}),(0,je.jsx)("br",{}),(0,je.jsx)(De.I,{dimension:"small",type:"text",id:"sender-name",placeholder:(0,E.t)("yourName"),"data-automation-id":"from-name-field",value:t,onChange:(0,E.z2)(s)}),(0,je.jsx)("br",{}),(0,je.jsx)(De.I,{dimension:"small",type:"text",placeholder:"from@mydomain.com","data-automation-id":"from-email-field",value:i,onChange:(0,E.z2)((0,E.pz)((e=>{r(!0),l(!1),n(e)}))),onBlur:(0,E.z2)((t=>{var s;s=t,e&&r(window.mailpoet_authorized_emails.includes(s)),x.x.freeMailDomains.indexOf((0,E.DA)(t))>-1||(0,Ve.g)(t,e).then((e=>{l(e)})).catch((()=>{}))}))}),(0,je.jsx)("br",{}),h&&(0,je.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,E.t)("invalidEmail")}),(0,je.jsx)("div",{className:"regular-text",children:(0,je.jsx)(Pe.L,{emailAddress:i,mssActive:e,isEmailAuthorized:a,showSenderDomainWarning:o,onSuccessfulEmailOrDomainAuthorization:e=>{"email"===e.type&&(r(!0),x.x.trackEvent("MSS in plugin authorize email",{"authorized email source":"settings",wasSuccessful:"yes"})),"domain"===e.type&&(l(!1),x.x.trackEvent("MSS in plugin verify sender domain",{"verify sender domain source":"settings",wasSuccessful:"yes"}))}})}),(0,je.jsx)("label",{className:"mailpoet-settings-inputs-row",htmlFor:"reply_to-name",children:"Reply-to"}),(0,je.jsx)(De.I,{dimension:"small",type:"text",id:"reply_to-name",placeholder:(0,E.t)("yourName"),"data-automation-id":"reply_to-name-field",value:c,onChange:(0,E.z2)(m)}),(0,je.jsx)("br",{}),(0,je.jsx)(De.I,{dimension:"small",type:"text",placeholder:"reply_to@mydomain.com","data-automation-id":"reply_to-email-field",value:d,onChange:(0,E.z2)((0,E.pz)(u))}),(0,je.jsx)("br",{}),g&&(0,je.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,E.t)("invalidEmail")})]})]})}var Re=s(25367);function Oe(e){let{title:t,description:s,event:i}=e;const[n,a]=Ee("subscribe",i,"enabled"),[r,o]=Ee("subscribe",i,"label"),[l,c]=Ee("subscribe",i,"segments");return(0,fe.useEffect)((()=>{""===r&&o((0,E.t)("yesAddMe"))}),[r,o]),(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:t,description:s,htmlFor:`subscribe-${i}-enabled`}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(Re.X,{id:`subscribe-${i}-enabled`,automationId:`subscribe-${i}-checkbox`,checked:"1"===n,onCheck:e=>a(e?"1":"0")}),"1"===n&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)("br",{}),(0,je.jsx)(De.I,{dimension:"small",type:"text",value:r,onChange:(0,E.z2)(o)}),(0,je.jsx)("label",{className:"mailpoet-settings-inputs-row",htmlFor:`subscribe-${i}-segments`,children:(0,E.t)("usersWillBeSubscribedTo")}),(0,je.jsx)("div",{"data-automation-id":`subscribe-${i}-segments-selection`,children:(0,je.jsx)(Me,{id:`subscribe-${i}-segments`,placeholder:(0,E.t)("chooseList"),value:l,setValue:c})})]})]})]})}function Ue(){const[e,t]=Ee("subscription","pages","manage"),[s,i]=Ee("subscription","segments");return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("manageSubTitle"),description:(0,je.jsxs)(je.Fragment,{children:[(0,E.t)("manageSubDescription1")," ",Te()((0,E.t)("manageSubDescription2"),/\[link\](.*?)\[\/link\]/,(e=>(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/222-customize-your-manage-subscription-page",rel:"noopener noreferrer","data-beacon-article":"59ddd0bb2c7d3a40f0ed5b57",target:"_blank",children:e},e)))]}),htmlFor:"subscription-manage-page"}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(Fe,{value:e,preview:"manage",setValue:t,id:"subscription-manage-page",automationId:"subscription-manage-page-selection",linkAutomationId:"preview_manage_subscription_page_link"}),(0,je.jsx)("label",{className:"mailpoet-settings-inputs-row",htmlFor:"subscription-segments",children:(0,E.t)("subscribersCanChooseFrom")}),(0,je.jsx)(Me,{id:"subscription-segments",value:s,setValue:i,placeholder:(0,E.t)("leaveEmptyToDisplayAll")})]})]})}function Ge(){const[e,t]=Ee("subscription","pages","unsubscribe"),[s,i]=Ee("subscription","pages","confirm_unsubscribe");return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("unsubscribeTitle"),description:(0,je.jsxs)(je.Fragment,{children:[Te()((0,E.t)("unsubscribeDescription1"),"[mailpoet_page]",(()=>(0,je.jsx)("code",{children:"[mailpoet_page]"},"mp")))," ",Te()((0,E.t)("unsubscribeDescription2"),/\[link\](.*?)\[\/link\]/,(e=>(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/221-customize-your-unsubscribe-page",rel:"noopener noreferrer","data-beacon-article":"59dcea10042863379ddc8b4d",target:"_blank",children:e},e)))]}),htmlFor:"subscription-pages-unsubscribe"}),(0,je.jsxs)(ve,{children:[(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,E.t)("confirmationPageTitle"),":"]}),(0,je.jsx)(Fe,{value:s,preview:"confirm_unsubscribe",setValue:i,id:"subscription-pages-unsubscribe-confirmation",automationId:"unsubscribe-confirmation-page-selection",linkAutomationId:"unsubscribe_page_preview_link_confirmation"}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,E.t)("successPageTitle"),":"]}),(0,je.jsx)(Fe,{value:e,preview:"unsubscribe",setValue:t,id:"subscription-pages-unsubscribe",automationId:"unsubscribe-success-page-selection",linkAutomationId:"unsubscribe_page_preview_link"})]})]})}function Ke(){const[e,t]=Ee("stats_notifications","enabled"),[s,i]=Ee("stats_notifications","automated"),[n,a]=Ee("stats_notifications","address"),r=Se("setErrorFlag"),o=("1"===e||"1"===s)&&""===n.trim(),l=n&&!(0,E.Jh)(n);return(0,fe.useEffect)((()=>{r(o||l)}),[o,l,r]),(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("statsNotifsTitle"),description:(0,E.t)("statsNotifsDescription"),htmlFor:"stats-enabled"}),(0,je.jsxs)(ve,{children:[(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Re.X,{id:"stats-enabled",checked:"1"===e,onCheck:e=>t(e?"1":"0")}),(0,je.jsx)("label",{htmlFor:"stats-enabled",children:(0,E.t)("newslettersAndPostNotifs")})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Re.X,{id:"stats-automated",checked:"1"===s,onCheck:e=>i(e?"1":"0")}),(0,je.jsx)("label",{htmlFor:"stats-automated",children:(0,E.t)("welcomeAndWcEmails")})]}),(0,je.jsx)(De.I,{dimension:"small",type:"email",value:n,onChange:(0,E.z2)((0,E.pz)(a)),placeholder:"me@mydomain.com"}),o&&(0,je.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,E.t)("pleaseFillEmail")}),l&&(0,je.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,E.t)("invalidEmail")})]})]})}var Be=s(34993);function Ye(){const[e,t]=Ee("subscriber_email_notification","enabled"),[s,i]=Ee("subscriber_email_notification","address"),n=Se("setErrorFlag"),a="1"===e&&""===s.trim(),r=s&&!(0,E.Jh)(s);return(0,fe.useEffect)((()=>{n(a||r)}),[a,r,n]),(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("newSubscriberNotifsTitle"),description:(0,E.t)("newSubscriberNotifsDescription"),htmlFor:"subscriber_email_notification-enabled"}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(Be.Y,{checked:"1"===e,value:"1",onCheck:t}),(0,E.t)("yes")," ",(0,je.jsx)(Be.Y,{checked:""===e,value:"",onCheck:t}),(0,E.t)("no"),(0,je.jsx)("br",{}),(0,je.jsx)(De.I,{dimension:"small",type:"email",value:s,onChange:(0,E.z2)((0,E.pz)(i)),placeholder:"me@mydomain.com"}),a&&(0,je.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,E.t)("pleaseFillEmail")}),r&&(0,je.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,E.t)("invalidEmail")})]})]})}function We(e){let{name:t,title:s,description:i}=e;const[n,a]=(0,fe.useState)([]),r=`[${t}${n.length?` segments="${n.join(",")}"`:""}]`;return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:s,description:i,htmlFor:`${t}-shortcode`}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(De.I,{dimension:"small",readOnly:!0,type:"text",value:r,onClick:e=>{e.target.focus(),e.target.select()},id:`${t}-shortcode`}),(0,je.jsx)("br",{}),(0,je.jsx)(Me,{value:n,setValue:a,id:`${t}-shortcode-segments`,placeholder:(0,E.t)("leaveEmptyToDisplayAll"),segmentsSelector:"getSegments"})]})]})}function $e(){return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("gdprTitle"),description:(0,E.t)("gdprDescription"),htmlFor:"gdpr-compliant"}),(0,je.jsx)(ve,{children:(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/246-guide-to-conform-to-gdpr","data-beacon-article":"5a9e8cdd04286374f7089a8c",title:(0,E.t)("readGuide"),target:"_blank",rel:"noopener noreferrer",children:(0,E.t)("readGuide")})})]})}function qe(){const[e,t]=Ee("reEngagement","page");return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("reEngagementTitle"),description:(0,E.t)("reEngagementDescription"),htmlFor:"re-engagement-page"}),(0,je.jsx)(ve,{children:(0,je.jsx)(Fe,{value:e,preview:"re_engagement",setValue:t,id:"re-engagement-page"})})]})}function He(){return(0,je.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,je.jsx)(ze,{}),(0,je.jsx)(Oe,{event:"on_comment",title:(0,E.t)("subscribeInCommentsTitle"),description:(0,E.t)("subscribeInCommentsDescription")}),(0,je.jsx)(Oe,{event:"on_register",title:(0,E.t)("subscribeInRegistrationTitle"),description:(0,E.t)("subscribeInRegistrationDescription")}),(0,je.jsx)(Ue,{}),(0,je.jsx)(Ge,{}),(0,je.jsx)(qe,{}),(0,je.jsx)(Ke,{}),(0,je.jsx)(Ye,{}),(0,je.jsx)(We,{name:"mailpoet_archive",title:(0,E.t)("archiveShortcodeTitle"),description:(0,E.t)("archiveShortcodeDescription")}),(0,je.jsx)(We,{name:"mailpoet_subscribers_count",title:(0,E.t)("subscribersCountShortcodeTitle"),description:(0,E.t)("subscribersCountShortcodeDescription")}),(0,je.jsx)($e,{}),(0,je.jsx)(Ce,{})]})}function Xe(){const[e,t]=Ee("cron_trigger","method"),s=Ne("getPaths")();return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("taskCron"),description:(0,je.jsxs)(je.Fragment,{children:[(0,E.t)("taskCronDescription")," ",(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/129-what-is-the-newsletter-task-scheduler","data-beacon-article":"57ce0a7a903360649f6e5703",rel:"noopener noreferrer",target:"_blank",children:(0,E.t)("readMore")})]}),htmlFor:"cron_trigger-method"}),(0,je.jsxs)(ve,{children:[(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"cron_trigger-method-action-scheduler",value:"Action Scheduler",checked:"Action Scheduler"===e,onCheck:t,automationId:"action_scheduler_cron_radio"}),(0,je.jsx)("label",{htmlFor:"cron_trigger-method-action-scheduler",children:(0,E.t)("actionSchedulerCron")})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"cron_trigger-method-wordpress",value:"WordPress",checked:"WordPress"===e,onCheck:t,automationId:"wordress_cron_radio"}),(0,je.jsx)("label",{htmlFor:"cron_trigger-method-wordpress",children:(0,E.t)("websiteVisitors")})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"cron_trigger-method-cron",value:"Linux Cron",checked:"Linux Cron"===e,onCheck:t,automationId:"linux_cron_radio"}),(0,je.jsx)("label",{htmlFor:"cron_trigger-method-cron",children:(0,E.t)("serverCron")})]}),"Linux Cron"===e&&(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,E.t)("addCommandToCrontab")}),(0,je.jsx)(De.I,{dimension:"small",type:"text",readOnly:!0,value:`php ${s.plugin}/mailpoet-cron.php ${s.root}`}),(0,je.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,E.t)("withFrequency")}),(0,je.jsx)(De.I,{dimension:"small",type:"text",readOnly:!0,value:"*/1 * * * *"})]})]})]})}function Je(){const e=Ne("hasMembersPlugin")();return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("rolesTitle"),description:(0,E.t)("rolesDescription"),htmlFor:""}),(0,je.jsx)(ve,{children:(0,je.jsx)("p",{children:e?(0,je.jsx)("a",{className:"mailpoet-link",href:"?page=roles",children:(0,E.t)("manageUsingMembers")}):Te()((0,E.t)("installMembers"),/\[link\](.*?)\[\/link\]/,(e=>(0,je.jsx)("a",{className:"mailpoet-link",href:"https://wordpress.org/plugins/members/",rel:"noopener noreferrer",target:"_blank",children:e},e)))})})]})}function Ze(){const[e,t]=Ee("tracking","level");return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("engagementTrackingTitle"),description:(0,E.t)("engagementTrackingDescription"),htmlFor:"engagement_tracking"}),(0,je.jsxs)(ve,{children:[(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"tracking-basic",value:"basic",checked:"basic"===e,onCheck:t,automationId:"tracking-basic-radio"}),(0,je.jsx)("label",{htmlFor:"tracking-basic",children:(0,E.t)("engagementTrackingBasic")})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"tracking-partial",value:"partial",checked:"partial"===e,onCheck:t,automationId:"tracking-partial-radio"}),(0,je.jsx)("label",{htmlFor:"tracking-partial",children:(0,E.t)("engagementTrackingPartial")})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"tracking-full",value:"full",checked:"full"===e,onCheck:t,automationId:"tracking-full-radio"}),(0,je.jsx)("label",{htmlFor:"tracking-full",children:(0,E.t)("engagementTrackingFull")})]})]})]})}function Qe(){const[e]=Ee("smtp_provider"),t=Ne("isMssActive")(),[s,i]=Ee("send_transactional_emails");let n="";return t?n="MailPoet Sending Service":"manual"===e?n="SMTP":"SendGrid"===e?n="SendGrid":"AmazonSES"===e?n="Amazon SES":"server"===e&&(n=(0,E.t)("hostOption")),(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("transactionalTitle"),description:(0,je.jsxs)(je.Fragment,{children:[(0,E.t)("transactionalDescription")," ",(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/292-choose-how-to-send-your-wordpress-websites-emails","data-beacon-article":"5ddbf92504286364bc9228c5",rel:"noopener noreferrer",target:"_blank",children:(0,E.t)("transactionalLink")})]}),htmlFor:""}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(Be.Y,{id:"transactional-enabled",value:"1",checked:"1"===s,onCheck:i}),(0,je.jsxs)("label",{htmlFor:"transactional-enabled",children:[(0,E.t)("transactionalCurrentMethod").replace("%1$s",n),(0,je.jsx)("br",{}),(0,je.jsx)("span",{className:"mailpoet-note",children:Te()((0,E.t)("transactionalMssNote"),/\[link\](.*?)\[\/link\]/,(e=>(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/292-choose-how-to-send-your-wordpress-websites-emails#attachments",rel:"noopener noreferrer","data-beacon-article":"5ddbf92504286364bc9228c5",target:"_blank",children:e},e)))})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"transactional-disabled",value:"",checked:""===s,onCheck:i}),(0,je.jsx)("label",{htmlFor:"transactional-disabled",children:(0,E.t)("transactionalWP")})]})]})]})}function et(){const[e,t]=Ee("deactivate_subscriber_after_inactive_days"),[s]=Ee("tracking","level"),i="basic"!==s;return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("inactiveSubsTitle"),description:(0,je.jsxs)(je.Fragment,{children:[(0,E.t)("inactiveSubsDescription")," ",(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/264-inactive-subscribers","data-beacon-article":"5cbf19622c7d3a026fd3efe1",rel:"noopener noreferrer",target:"_blank",children:(0,E.t)("readMore")})]}),htmlFor:""}),(0,je.jsxs)(ve,{children:[!i&&(0,je.jsx)("p",{"data-automation-id":"inactive-subscribers-disabled",children:(0,E.t)("disabledBecauseTrackingIs")}),i&&(0,je.jsxs)("div",{"data-automation-id":"inactive-subscribers-enabled",children:[(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"inactive-subscribers-disabled",automationId:"inactive-subscribers-option-never",value:"",checked:""===e,onCheck:t}),(0,je.jsx)("label",{htmlFor:"inactive-subscribers-disabled",children:(0,E.t)("never")})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"inactive-subscribers-3-months",value:"90",checked:"90"===e,onCheck:t}),(0,je.jsx)("label",{htmlFor:"inactive-subscribers-3-months",children:(0,E.t)("after3months")})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"inactive-subscribers-6-months",value:"180",checked:"180"===e,onCheck:t}),(0,je.jsx)("label",{htmlFor:"inactive-subscribers-6-months",children:(0,E.t)("after6months")})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"inactive-subscribers-12-months",value:"365",checked:"365"===e,onCheck:t,automationId:"inactive-subscribers-default"}),(0,je.jsx)("label",{htmlFor:"inactive-subscribers-12-months",children:(0,E.t)("after12months")})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"inactive-subscribers-18-months",value:"540",checked:"540"===e,onCheck:t}),(0,je.jsx)("label",{htmlFor:"inactive-subscribers-18-months",children:(0,E.t)("after18months")})]})]})]})]})}function tt(){const[e,t]=Ee("analytics","enabled"),[,s]=Ee("3rd_party_libs","enabled");return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("shareDataTitle"),description:(0,je.jsxs)(je.Fragment,{children:[(0,E.t)("shareDataDescription")," ",(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/130-sharing-your-data-with-us","data-beacon-article":"57ce0aaac6979108399a0454",rel:"noopener noreferrer",target:"_blank",children:(0,E.t)("readMore")})]}),htmlFor:""}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(Be.Y,{id:"share-data-enabled",value:"1",checked:"1"===e,onCheck:()=>{t("1"),s("1")},automationId:"analytics-yes"}),(0,je.jsx)("label",{htmlFor:"share-data-enabled",children:(0,E.t)("yes")}),(0,je.jsx)("span",{className:"mailpoet-gap"}),(0,je.jsx)(Be.Y,{id:"share-data-disabled",value:"",checked:""===e,onCheck:t,automationId:"analytics-no"}),(0,je.jsx)("label",{htmlFor:"share-data-disabled",children:(0,E.t)("no")})]})]})}function st(){const[e,t]=Ee("3rd_party_libs","enabled"),[,s]=Ee("analytics","enabled");return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("libs3rdPartyTitle"),description:(0,je.jsxs)(je.Fragment,{children:[(0,E.t)("libs3rdPartyDescription")," ",(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/338-what-3rd-party-libraries-we-use","data-beacon-article":"5f7c7dd94cedfd0017dcece8",rel:"noopener noreferrer",target:"_blank",children:(0,E.t)("readMore")})]}),htmlFor:""}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(Be.Y,{id:"libs-3rd-party-enabled",value:"1",checked:"1"===e,onCheck:t}),(0,je.jsx)("label",{htmlFor:"libs-3rd-party-enabled",children:(0,E.t)("yes")}),(0,je.jsx)("span",{className:"mailpoet-gap"}),(0,je.jsx)(Be.Y,{id:"libs-3rd-party-disabled",value:"",checked:""===e,onCheck:()=>{t(""),s("")}}),(0,je.jsx)("label",{htmlFor:"libs-3rd-party-disabled",children:(0,E.t)("no")})]})]})}function it(){const[e,t]=Ee("captcha","type"),[s,i]=Ee("captcha","recaptcha_site_token"),[n,a]=Ee("captcha","recaptcha_secret_token"),[r,o]=Ee("captcha","recaptcha_invisible_site_token"),[l,c]=Ee("captcha","recaptcha_invisible_secret_token"),m=Ne("isBuiltInCaptchaSupported")(),d=Se("setErrorFlag"),u="recaptcha"===e&&""===s.trim(),p="recaptcha"===e&&""===n.trim(),h="recaptcha-invisible"===e&&""===r.trim(),g="recaptcha-invisible"===e&&""===l.trim();return(0,fe.useEffect)((()=>{d(u||p||g||h)}),[p,u,g,h,d]),(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("captchaTitle"),description:(0,je.jsxs)(je.Fragment,{children:[(0,E.t)("captchaDescription")," ",(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/182-add-a-captcha-to-subscription-forms",rel:"noopener noreferrer",target:"_blank",children:(0,E.t)("readMore")}),("recaptcha"===e||"recaptcha-invisible"===e)&&(0,je.jsxs)("p",{children:[(0,je.jsxs)("span",{children:[(0,E.t)("reCaptchaDescription")," "]}),(0,je.jsx)("a",{className:"mailpoet-link",href:"https://www.google.com/recaptcha/admin",rel:"noopener noreferrer",target:"_blank",children:(0,E.t)("signupForCaptchaKey")})]})]}),htmlFor:""}),(0,je.jsxs)(ve,{children:[(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"built-in-captcha",disabled:!m,value:"built-in",checked:"built-in"===e,onCheck:t}),(0,je.jsxs)("label",{htmlFor:"built-in-captcha",children:[(0,E.t)("builtInCaptcha")," ",!m&&(0,E.t)("disbaledBecauseExtensionMissing")]})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"google-captcha",value:"recaptcha",checked:"recaptcha"===e,onCheck:t}),(0,je.jsx)("label",{htmlFor:"google-captcha",children:(0,E.t)("googleReCaptchaCheckbox")})]}),"recaptcha"===e&&(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(De.I,{dimension:"small",type:"text",value:s,onChange:(0,E.z2)(i),placeholder:(0,E.t)("yourReCaptchaKey")}),u&&(0,je.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,E.t)("fillReCaptchaKeys")}),(0,je.jsx)("br",{}),(0,je.jsx)(De.I,{dimension:"small",type:"text",value:n,onChange:(0,E.z2)(a),placeholder:(0,E.t)("yourReCaptchaSecret")}),p&&(0,je.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,E.t)("fillReCaptchaKeys")})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"google-captcha-invisible",value:"recaptcha-invisible",checked:"recaptcha-invisible"===e,onCheck:t}),(0,je.jsx)("label",{htmlFor:"google-captcha-invisible",children:(0,E.t)("googleReCaptchaInvisible")})]}),"recaptcha-invisible"===e&&(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(De.I,{dimension:"small",type:"text",value:r,onChange:(0,E.z2)(o),placeholder:(0,E.t)("yourReCaptchaKey")}),h&&(0,je.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,E.t)("fillReCaptchaKeys")}),(0,je.jsx)("br",{}),(0,je.jsx)(De.I,{dimension:"small",type:"text",value:l,onChange:(0,E.z2)(c),placeholder:(0,E.t)("yourReCaptchaSecret")}),g&&(0,je.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,E.t)("fillReCaptchaKeys")})]}),(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,je.jsx)(Be.Y,{id:"no-captcha",value:"",checked:""===e,onCheck:t}),(0,je.jsx)("label",{htmlFor:"no-captcha",children:(0,E.t)("disable")})]})]})]})}function nt(){const e=Se("reinstall"),{notices:t}=(0,fe.useContext)(o.k);return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("reinstallTitle"),description:(0,E.t)("reinstallDescription"),htmlFor:""}),(0,je.jsx)(ve,{children:(0,je.jsx)(ye.z,{type:"button",onClick:async()=>{if(window.confirm((0,E.t)("reinstallConfirmation"))){const s=await e();"SAVE_FAILED"===s.type?t.error(s.error.map((e=>(0,je.jsx)("p",{children:e}))),{scroll:!0}):window.location.href="admin.php?page=mailpoet-newsletters"}},automationId:"reinstall-button",variant:"destructive",children:(0,E.t)("reinstallNow")})})]})}function at(){const e=Se("recalculateSubscribersScore"),{notices:t}=(0,fe.useContext)(o.k);return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("recalculateSubscribersScoreTitle"),description:(0,E.t)("recalculateSubscribersScoreDescription"),htmlFor:""}),(0,je.jsx)(ve,{children:(0,je.jsx)(ye.z,{type:"button",onClick:async()=>{await e(),t.info((0,je.jsx)("p",{children:(0,E.t)("recalculateSubscribersScoreNotice")}),{scroll:!0})},variant:"secondary",dimension:"small",children:(0,E.t)("recalculateSubscribersScoreNow")})})]})}function rt(){const[e,t]=Ee("logging");return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("loggingTitle"),description:(0,je.jsxs)(je.Fragment,{children:[(0,E.t)("loggingDescription")," ",(0,je.jsx)("a",{href:"?page=mailpoet-logs",className:"mailpoet-link",children:(0,E.t)("loggingDescriptionLink")})]}),htmlFor:"logging-level"}),(0,je.jsx)(ve,{children:(0,je.jsxs)(Le.Select,{id:"logging-level",value:e,onChange:(0,E.z2)(t),automationId:"logging-select-box",isMinWidth:!0,dimension:"small",children:[(0,je.jsx)("option",{value:"everything","data-automation-id":"log-everything",children:(0,E.t)("everythingLogOption")}),(0,je.jsx)("option",{value:"errors","data-automation-id":"log-errors",children:(0,E.t)("errorsLogOption")}),(0,je.jsx)("option",{value:"nothing","data-automation-id":"log-nothing",children:(0,E.t)("nothingLogOption")})]})})]})}function ot(){const[e,t]=Ee("bounce","address");return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("bounceEmail"),description:(0,je.jsxs)(je.Fragment,{children:[(0,E.t)("yourBouncedEmails")," ",(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/180-how-bounce-management-works-in-mailpoet-3","data-beacon-article":"58a5a7502c7d3a576d353c78",rel:"noopener noreferrer",target:"_blank",children:(0,E.t)("readMore")})]}),htmlFor:"bounce-address"}),(0,je.jsx)(ve,{children:(0,je.jsx)(De.I,{dimension:"small",type:"text",id:"bounce-address",placeholder:"bounce@mydomain.com","data-automation-id":"bounce-address-field",value:e,onChange:(0,E.z2)((0,E.pz)(t))})})]})}function lt(){return(0,je.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,je.jsx)(ot,{}),(0,je.jsx)(Xe,{}),(0,je.jsx)(Je,{}),(0,je.jsx)(Ze,{}),(0,je.jsx)(Qe,{}),(0,je.jsx)(at,{}),(0,je.jsx)(et,{}),(0,je.jsx)(tt,{}),(0,je.jsx)(st,{}),(0,je.jsx)(it,{}),(0,je.jsx)(nt,{}),(0,je.jsx)(rt,{}),(0,je.jsx)(Ce,{})]})}var ct=s(16468);function mt(){return(0,je.jsx)("div",{className:"mailpoet_success_item mailpoet_success_item mailpoet_success",children:x.x.I18n.t("premiumTabKeyValidMessage")})}function dt(){return(0,je.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:x.x.I18n.t("premiumTabKeyNotValidMessage")})}function ut(){const{isKeyValid:e}=Ne("getKeyActivationState")();return e?(0,je.jsx)(mt,{}):(0,je.jsx)(dt,{})}function pt(){return(0,je.jsx)("div",{className:"mailpoet_success_item mailpoet_success mailpoet_mss_key_valid",children:x.x.I18n.t("premiumTabMssActiveMessage")})}function ht(e){let{message:t}=e;return(0,je.jsx)("div",{className:"mailpoet_error",children:t||x.x.I18n.t("premiumTabMssKeyNotValidMessage")})}function gt(e){let{activationCallback:t}=e;return(0,je.jsxs)("div",{className:"mailpoet_error",children:[x.x.I18n.t("premiumTabMssNotActiveMessage")," ",(0,je.jsx)("button",{type:"button",className:"mailpoet-button button button-primary button-small",onClick:t,children:x.x.I18n.t("premiumTabMssActivateMessage")})]})}function _t(e){const{mssStatus:t}=Ne("getKeyActivationState")();switch(t){case b.VALID_MSS_ACTIVE:return(0,je.jsx)(pt,{});case b.VALID_MSS_NOT_ACTIVE:return(0,je.jsx)(gt,{activationCallback:e.activationCallback});case b.INVALID:return(0,je.jsx)(ht,{message:e.keyMessage});default:return null}}function xt(){return(0,je.jsx)("div",{className:"mailpoet_success_item mailpoet_success",children:x.x.I18n.t("premiumTabPremiumActiveMessage")})}function jt(e){return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)("div",{className:"mailpoet_error mailpoet_install_premium_message",children:x.x.I18n.t("premiumTabPremiumNotActivatedMessage")}),e.url&&(0,je.jsx)(ye.z,{href:e.url,children:x.x.I18n.t("premiumTabPremiumActivateMessage")})]})}function bt(e){return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)("div",{className:"mailpoet_error mailpoet_install_premium_message",children:x.x.I18n.t("premiumTabPremiumNotInstalledMessage")}),e.url&&(0,je.jsx)(ye.z,{href:e.url,children:x.x.I18n.t("premiumTabPremiumDownloadMessage")})]})}function vt(e){let{message:t}=e;return(0,je.jsx)("div",{className:"mailpoet_error",children:t||x.x.I18n.t("premiumTabPremiumKeyNotValidMessage")})}function ft(e){const{premiumStatus:t,downloadUrl:s,activationUrl:i}=Ne("getKeyActivationState")();switch(t){case j.VALID_PREMIUM_PLUGIN_ACTIVE:return(0,je.jsx)(xt,{});case j.VALID_PREMIUM_PLUGIN_NOT_INSTALLED:return(0,je.jsx)(bt,{url:s});case j.VALID_PREMIUM_PLUGIN_NOT_ACTIVE:return(0,je.jsx)(jt,{url:i});case j.INVALID:return(0,je.jsx)(vt,{message:e.keyMessage});default:return null}}function yt(){return(0,je.jsxs)("div",{className:"mailpoet_error_item mailpoet_error",children:[x.x.I18n.t("premiumTabKeyCannotValidate"),(0,je.jsxs)("ul",{className:"disc-inside-list",children:[(0,je.jsx)("li",{children:x.x.I18n.t("premiumTabKeyCannotValidateLocalhost")}),(0,je.jsx)("li",{children:x.x.I18n.t("premiumTabKeyCannotValidateBlockingHost")}),(0,je.jsx)("li",{children:x.x.I18n.t("premiumTabKeyCannotValidateIntranet")})]}),(0,je.jsx)("p",{children:(0,je.jsx)("a",{href:"https://kb.mailpoet.com/article/319-known-errors-when-validating-a-mailpoet-key",target:"_blank",rel:"noopener noreferrer","data-beacon-article":"5ef1da9d2c7d3a10cba966c5",className:"mailpoet_error",children:x.x.I18n.t("learnMore")})})]})}function It(e,t,s){return 503===e.code?(0,je.jsx)("div",{className:"key-activation-messages",children:(0,je.jsx)(yt,{})}):(0,je.jsxs)("div",{className:"key-activation-messages",children:[(0,je.jsx)(ut,{}),null!==e.mssStatus&&(0,je.jsx)(_t,{keyMessage:e.mssMessage,activationCallback:s}),e.congratulatoryMssEmailSentTo&&(0,je.jsx)("div",{className:"mailpoet_success_item mailpoet_success",children:(0,E.t)("premiumTabCongratulatoryMssEmailSent").replace("[email_address]",e.congratulatoryMssEmailSentTo)}),null!==e.premiumStatus&&(0,je.jsx)(ft,{keyMessage:e.premiumMessage}),t&&(0,je.jsxs)("div",{className:"mailpoet_success",children:[(0,je.jsx)("div",{className:"pending_approval_heading",children:(0,E.t)("premiumTabPendingApprovalHeading")}),(0,je.jsx)("div",{children:(0,E.t)("premiumTabPendingApprovalMessage")})]}),!e.isKeyValid&&(0,je.jsx)("p",{children:(0,je.jsx)("a",{href:"https://kb.mailpoet.com/article/319-known-errors-when-validating-a-mailpoet-key",target:"_blank",rel:"noopener noreferrer","data-beacon-article":"5ef1da9d2c7d3a10cba966c5",className:"mailpoet_error",children:x.x.I18n.t("learnMore")})})]})}function St(){const{notices:e}=(0,fe.useContext)(o.k),t=Ne("getKeyActivationState")(),s=Se("updateKeyActivationState"),i=Se("verifyMssKey"),n=Se("verifyPremiumKey"),a=Se("sendCongratulatoryMssEmail"),[r,l]=Ee("sender","address"),[c,m]=Ee("authorized_emails_addresses_check"),[d]=Ee("mta","mailpoet_api_key_state","data"),u=t.fromAddressModalCanBeShown&&t.mssStatus===b.VALID_MSS_ACTIVE&&(!r||c),p=!1===t.inProgress&&t.mssStatus===b.VALID_MSS_ACTIVE&&d&&!1===d.is_approved;return(0,je.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,je.jsx)(be,{htmlFor:"mailpoet_premium_key",title:(0,E.t)("premiumTabActivationKeyLabel"),description:(0,E.t)("premiumTabDescription")}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(De.I,{type:"text",id:"mailpoet_premium_key",name:"premium[premium_key]",value:t.key||"",onChange:e=>s({mssStatus:null,premiumStatus:null,premiumInstallationStatus:null,key:e.target.value.trim()||null})}),(0,je.jsx)(ye.z,{type:"button",onClick:async()=>{t.key?(await s({mssStatus:null,premiumStatus:null,premiumInstallationStatus:null}),x.x.Modal.loading(!0),s({inProgress:!0}),await i(t.key),await a(),await n(t.key),s({inProgress:!1}),x.x.Modal.loading(!1),s({fromAddressModalCanBeShown:!0})):e.error((0,je.jsx)("p",{children:(0,E.t)("premiumTabNoKeyNotice")}),{scroll:!0})},children:(0,E.t)("premiumTabVerifyButton")}),null!==t.isKeyValid&&It(t,p,(async function(){await i(t.key),a(),s({fromAddressModalCanBeShown:!0})}))]}),u&&(0,je.jsx)(ct.d,{onRequestClose:()=>{s({fromAddressModalCanBeShown:!1}),a()},setAuthorizedAddress:async e=>{await l(e),await m(null)}})]})}ht.defaultProps={message:""},_t.defaultProps={keyMessage:""},vt.defaultProps={message:""},ft.defaultProps={keyMessage:""};var kt=s(42676),Nt=s(75774);function Et(){const e=(0,kt.k6)(),t=Ne("isMssActive")(),[s]=Ee("mta","mailpoet_api_key"),{mssStatus:i,premiumStatus:n}=Ne("getKeyActivationState")(),a=null!==i&&i!==b.INVALID,r=null!==n&&n!==j.INVALID,o=window.mailpoet_free_plan_url,l=Se("setSetting"),c=Se("saveSettings");return(0,je.jsxs)("ul",{className:"mailpoet-sending-methods",children:[(0,je.jsx)("li",{children:(0,je.jsxs)("label",{className:"mailpoet-sending-method mailpoet-form-checkbox",children:[(0,je.jsx)("input",{type:"radio",checked:t,onChange:async i=>{i.preventDefault(),t||a||e.push("/premium"),!t&&a&&await(async()=>(await l(["mta_group"],"mailpoet"),await l(["mta","method"],"MailPoet"),await l(["mta","mailpoet_api_key"],s),await l(["signup_confirmation","enabled"],"1"),c()))()}}),(0,je.jsx)("span",{className:"mailpoet-form-radio-control"}),(0,je.jsx)("h4",{className:"mailpoet-h4",children:(0,E.t)("mssTitle")}),(0,je.jsx)("p",{children:t?(0,E.t)("youreSendingWithMss"):(0,E.t)("solveSendingProblems")}),(0,je.jsxs)("ul",{className:"mailpoet-sending-method-benefits mailpoet_success",children:[(0,je.jsx)("li",{className:"mailpoet_success_item",children:(0,E.t)("mssBenefit1")}),(0,je.jsx)("li",{className:"mailpoet_success_item",children:(0,E.t)("mssBenefit2")}),(0,je.jsx)("li",{className:"mailpoet_success_item",children:(0,E.t)("mssBenefit3")}),(0,je.jsx)("li",{className:"mailpoet_success_item",children:(0,E.t)("mssBenefit4")}),(0,je.jsx)("li",{className:"mailpoet_success_item",children:(0,E.t)("mssBenefit5")})]}),!a&&!r&&(0,je.jsxs)("div",{className:"mailpoet-sending-method-actions",children:[(0,je.jsx)("a",{className:"mailpoet-button button-primary",href:o,rel:"noopener noreferrer",target:"_blank",children:(0,E.t)("freeUpto")}),(0,je.jsxs)("span",{children:["",(0,E.t)("or"),""]}),Te()((0,E.t)("enterYourKey"),/\[link\](.*?)\[\/link\]/g,((e,t)=>(0,je.jsx)(Nt.Link,{to:"/premium",className:"mailpoet-link",children:e},t)))]}),!a&&r&&(0,je.jsxs)("div",{className:"mailpoet-sending-method-actions",children:[(0,je.jsx)("i",{children:(0,E.t)("invalidKeyForMss")})," ",(0,je.jsx)("a",{className:"mailpoet-button button-primary",href:"https://account.mailpoet.com/",rel:"noopener noreferrer",target:"_blank",children:(0,E.t)("getPlan")})]})]})}),(0,je.jsx)("li",{children:(0,je.jsxs)("label",{className:"mailpoet-sending-method mailpoet-form-checkbox",children:[(0,je.jsx)("input",{type:"radio",checked:!t,onChange:t=>{t.preventDefault(),e.push("/mta/other")}}),(0,je.jsx)("span",{className:"mailpoet-form-radio-control"}),(0,je.jsx)("h4",{className:"mailpoet-h4",children:(0,E.t)("otherTitle")}),(0,je.jsxs)("p",{children:[(0,E.t)("sendViaHost")," ",(0,je.jsx)("strong",{children:(0,E.t)("notRecommended")})," ",(0,E.t)("orViaThirdParty")]}),(0,je.jsx)("div",{className:"mailpoet-sending-method-actions",children:(0,je.jsx)(Nt.Link,{to:"/mta/other",className:"mailpoet-link",children:(0,E.t)("configure")})})]})})]})}function At(){const[e,t]=Ee("smtp_provider"),[,s]=Ee("mta_group"),[,i]=Ee("mta","method");return(0,fe.useEffect)((()=>{switch(e){case"server":s("website"),i("PHPMail");break;case"manual":s("smtp"),i("SMTP");break;case"AmazonSES":s("smtp"),i("AmazonSES");break;case"SendGrid":s("smtp"),i("SendGrid");break;default:i("PHPMail")}}),[e,s,i]),(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("method"),htmlFor:"mailpoet_smtp_method"}),(0,je.jsx)(ve,{children:(0,je.jsxs)(Le.Select,{id:"mailpoet_smtp_method",value:e,onChange:(0,E.z2)(t),isMinWidth:!0,dimension:"small",children:[(0,je.jsx)("option",{value:"server",children:(0,E.t)("hostOption")}),(0,je.jsx)("option",{value:"manual",children:(0,E.t)("smtpOption")}),(0,je.jsxs)("optgroup",{label:(0,E.t)("selectProvider"),children:[(0,je.jsx)("option",{value:"AmazonSES",children:"Amazon SES"}),(0,je.jsx)("option",{value:"SendGrid",children:"SendGrid"})]})]})})]})}function Tt(){return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("spfTitle"),description:(0,E.t)("spfDescription"),htmlFor:""}),(0,je.jsx)(ve,{children:(0,E.t)("spfSetup")})]})}var Ct=s(58996),wt=s(20360);function Mt(){const[e,t]=(0,fe.useState)(window.mailpoet_current_user_email),[s]=Ee("mta"),{state:i,error:n}=Ne("getTestEmailState")(),a=Se("sendTestEmail");return(0,je.jsxs)(je.Fragment,{children:[i===f.SENDING&&(0,je.jsx)(he.g,{}),i===f.SUCCESS&&(0,je.jsx)(wt.q,{type:"success",scroll:!0,children:(0,je.jsx)("p",{children:(0,E.t)("emailSent")})}),i===f.FAILURE&&(0,je.jsx)(wt.q,{type:"error",scroll:!0,children:(0,je.jsx)("p",{children:n.map((e=>(0,je.jsx)("p",{children:e},e)))})}),(0,je.jsx)(be,{title:(0,E.t)("testSending"),htmlFor:"mailpoet_mta_test_email"}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(De.I,{dimension:"small",type:"text",id:"mailpoet_mta_test_email",value:e,onChange:(0,E.z2)(t)}),(0,je.jsx)(ye.z,{type:"button",dimension:"small",variant:"secondary",onClick:()=>a(e,s),children:(0,E.t)("sendTestEmail")}),(0,je.jsx)(Ct.Tooltip,{tooltipId:"tooltip-settings-test",className:"mailpoet_tooltip_icon",tooltip:(0,je.jsx)("span",{style:{pointerEvents:"all"},children:Te()((0,E.t)("testEmailTooltip"),/\[link\](.*?)\[\/link\]/g,((e,t)=>(0,je.jsx)("a",{className:"mailpoet-link",target:"_blank",rel:"noopener noreferrer","data-beacon-article":"580846f09033604df5166ed1",href:"https://kb.mailpoet.com/article/146-my-newsletters-are-not-being-received",children:e},t)))})})]})]})}function Lt(){const e=Se("saveSettings"),t=Se("loadSettings"),s=(0,kt.k6)();return(0,je.jsxs)("div",{className:"mailpoet-settings-save",children:[(0,je.jsx)(ye.z,{type:"button",onClick:async()=>{await e(),s.push("/mta")},children:(0,E.t)("activate")}),(0,je.jsx)(ye.z,{onClick:async()=>{x.x.Modal.loading(!0),await t(),s.push("/mta"),x.x.Modal.loading(!1)},variant:"tertiary",children:(0,E.t)("orCancel")})]})}function Ft(e){const t=Math.floor(parseInt(e,10));return t>60?(0,E.t)("everyHours").replace("%1$d",""+t/60):60===t?(0,E.t)("everyHour"):t>1?(0,E.t)("everyMinutes").replace("%1$d",`${t}`):(0,E.t)("everyMinute")}function Dt(e){let{recommendedEmails:t,recommendedInterval:s}=e;const[i,n]=Ee("mailpoet_sending_frequency"),[a,r]=Ee("mta","frequency","emails"),[o,l]=Ee("mta","frequency","interval");(0,fe.useEffect)((()=>{"auto"===i&&(r(`${t}`),l(`${s}`))}),[i,t,s,r,l]);const c=Math.floor(1440*parseInt(a,10)/parseInt(o,10)),m=Math.floor(c/86400*10)/10;return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("sendingFrequency"),htmlFor:"mailpoet_sending_frequency"}),(0,je.jsxs)(ve,{children:[(0,je.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,je.jsxs)(Le.Select,{id:"mailpoet_sending_frequency",value:i,onChange:(0,E.z2)(n),dimension:"small",children:[(0,je.jsx)("option",{value:"auto",children:(0,E.t)("recommendedTitle")}),(0,je.jsx)("option",{value:"manual",children:(0,E.t)("ownFrequency")})]})}),"manual"===i&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row mailpoet-settings-inputs-row-centered",children:[(0,je.jsx)(De.I,{dimension:"small",id:"other_frequency_emails",type:"number",min:"1",max:"1000",value:a,onChange:(0,E.z2)(r)}),(0,je.jsx)("span",{className:"mailpoet-gap"}),(0,je.jsx)("span",{children:(0,E.t)("emails")})]}),(0,je.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,je.jsxs)(Le.Select,{id:"other_frequency_interval",value:o,onChange:(0,E.z2)(l),dimension:"small",children:[(0,je.jsx)("option",{value:"1",children:"every minute"}),(0,je.jsx)("option",{value:"2",children:"every 2 minutes"}),(0,je.jsx)("option",{value:"5",children:"every 5 minutes (recommended)"}),(0,je.jsx)("option",{value:"10",children:"every 10 minutes"}),(0,je.jsx)("option",{value:"15",children:"every 15 minutes"}),(0,je.jsx)("option",{value:"30",children:"every 30 minutes"})]})})]}),"auto"===i&&(0,je.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,E.t)("xEmails").replace("%1$s",a)," ",Ft(o),". "]}),(0,je.jsx)("div",{className:"mailpoet-settings-inputs-row",children:Te()((0,E.t)("thatsXEmailsPerDay").replace("%1$s",c.toLocaleString()),/<strong>(.*?)<\/strong>/g,((e,t)=>(0,je.jsx)("strong",{children:e},t)))}),m>1&&(0,je.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,je.jsx)("span",{className:"mailpoet_emails_per_second_warning",children:Te()((0,E.t)("thatsXEmailsPerSecond").replace("%1$s",m.toLocaleString()),/<strong>(.*?)<\/strong>/g,((e,t)=>(0,je.jsx)("strong",{children:e},t)))})}),"manual"===i&&(0,je.jsx)("div",{className:"mailpoet-settings-inputs-row",children:Te()((0,E.t)("frequencyWarning").replace("%1$s",m.toLocaleString()),/<strong>(.*?)<\/strong>/g,((e,t)=>(0,je.jsx)("strong",{children:e},t)))})]})]})}function Pt(){const[e,t]=Ee("web_host"),s=Ne("getWebHosts")(),i=s[e];return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("yourHost"),htmlFor:"mailpoet_web_host"}),(0,je.jsx)(ve,{children:(0,je.jsx)(Le.Select,{id:"mailpoet_web_host",value:e,onChange:(0,E.z2)(t),isMinWidth:!0,dimension:"small",children:Object.entries(s).map((e=>{let[t,s]=e;return(0,je.jsx)("option",{value:t,children:s.name},t)}))})}),(0,je.jsx)(Dt,{recommendedEmails:i.emails,recommendedInterval:i.interval})]})}function Vt(){const[e,t]=Ee("mta","host"),[s,i]=Ee("mta","port"),[n,a]=Ee("mta","login"),[r,o]=Ee("mta","password"),[l,c]=Ee("mta","encryption"),[m,d]=Ee("mta","authentication");return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(Dt,{recommendedEmails:100,recommendedInterval:5}),(0,je.jsx)(be,{title:(0,E.t)("smtpHost"),description:(0,E.t)("smtpHostExample"),htmlFor:"mailpoet_smtp_host"}),(0,je.jsx)(ve,{children:(0,je.jsx)(De.I,{dimension:"small",type:"text",id:"mailpoet_smtp_host",value:e,onChange:(0,E.z2)(t)})}),(0,je.jsx)(be,{title:(0,E.t)("smtpPort"),htmlFor:"mailpoet_smtp_port"}),(0,je.jsx)(ve,{children:(0,je.jsx)(De.I,{dimension:"small",type:"text",id:"mailpoet_smtp_port",value:s,onChange:(0,E.z2)(i)})}),(0,je.jsx)(be,{title:(0,E.t)("login"),htmlFor:"mailpoet_smtp_login"}),(0,je.jsx)(ve,{children:(0,je.jsx)(De.I,{dimension:"small",type:"text",id:"mailpoet_smtp_login",value:n,onChange:(0,E.z2)(a)})}),(0,je.jsx)(be,{title:(0,E.t)("password"),htmlFor:"mailpoet_smtp_password"}),(0,je.jsx)(ve,{children:(0,je.jsx)(De.I,{dimension:"small",type:"password",id:"mailpoet_smtp_password",value:r,onChange:(0,E.z2)(o)})}),(0,je.jsx)(be,{title:(0,E.t)("secureConnectioon"),htmlFor:"mailpoet_smtp_encryption"}),(0,je.jsx)(ve,{children:(0,je.jsxs)(Le.Select,{id:"mailpoet_smtp_encryption",value:l,onChange:(0,E.z2)(c),isMinWidth:!0,dimension:"small",children:[(0,je.jsx)("option",{value:"",children:(0,E.t)("no")}),(0,je.jsx)("option",{value:"ssl",children:"SSL"}),(0,je.jsx)("option",{value:"tls",children:"TLS"})]})}),(0,je.jsx)(be,{title:(0,E.t)("authentication"),description:(0,E.t)("authenticationDescription"),htmlFor:"mailpoet_smtp_authentication"}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(Be.Y,{value:"1",checked:"1"===m,onCheck:d}),(0,E.t)("yes")," ",(0,je.jsx)(Be.Y,{value:"-1",checked:"-1"===m,onCheck:d}),(0,E.t)("no")]})]})}function zt(){const[e,t]=Ee("mta","region"),[s,i]=Ee("mta","access_key"),[n,a]=Ee("mta","secret_key"),r=Ne("getAmazonSesOptions")();return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(Dt,{recommendedEmails:r.emails,recommendedInterval:r.interval}),(0,je.jsx)(be,{title:(0,E.t)("region"),htmlFor:"mailpoet_amazon_ses_region"}),(0,je.jsx)(ve,{children:(0,je.jsx)(Le.Select,{id:"mailpoet_amazon_ses_region",value:e,onChange:(0,E.z2)(t),isMinWidth:!0,dimension:"small",children:Object.entries(r.regions).map((e=>{let[t,s]=e;return(0,je.jsx)("option",{value:s,children:t},s)}))})}),(0,je.jsx)(be,{title:(0,E.t)("accessKey"),htmlFor:"mailpoet_amazon_ses_access_key"}),(0,je.jsx)(ve,{children:(0,je.jsx)(De.I,{dimension:"small",type:"text",value:s,className:"regular-text",onChange:(0,E.z2)(i),id:"mailpoet_amazon_ses_access_key"})}),(0,je.jsx)(be,{title:(0,E.t)("secretKey"),htmlFor:"mailpoet_amazon_ses_secret_key"}),(0,je.jsx)(ve,{children:(0,je.jsx)(De.I,{dimension:"small",type:"text",value:n,className:"regular-text",onChange:(0,E.z2)(a),id:"mailpoet_amazon_ses_secret_key"})})]})}function Rt(){const[e,t]=Ee("mta","api_key"),s=Ne("getSendGridOptions")();return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(Dt,{recommendedEmails:s.emails,recommendedInterval:s.interval}),(0,je.jsx)(be,{title:(0,E.t)("apiKey"),htmlFor:"mailpoet_sendgrid_api_key"}),(0,je.jsx)(ve,{children:(0,je.jsx)(De.I,{dimension:"small",type:"text",value:e,onChange:(0,E.z2)(t),id:"mailpoet_sendgrid_api_key"})})]})}function Ot(){const[e]=Ee("mta","method");return(0,je.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,je.jsx)(At,{}),"PHPMail"===e&&(0,je.jsx)(Pt,{}),"SMTP"===e&&(0,je.jsx)(Vt,{}),"AmazonSES"===e&&(0,je.jsx)(zt,{}),"SendGrid"===e&&(0,je.jsx)(Rt,{}),(0,je.jsx)(Tt,{}),(0,je.jsx)(Mt,{}),(0,je.jsx)(Lt,{})]})}function Ut(){const{subPage:e}=(0,kt.UO)();return"other"===e?(0,je.jsx)(Ot,{}):(0,je.jsx)(Et,{})}function Gt(){const e=Ne("isMssActive")(),[t,s]=Ee("signup_confirmation","enabled"),i=e=>{"1"===e&&window.confirm((0,E.t)("subscribersNeedToActivateSub"))&&s("1"),""===e&&window.confirm((0,E.t)("newSubscribersAutoConfirmed"))&&s("")};return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("enableSignupConfTitle"),description:(0,je.jsxs)(je.Fragment,{children:[(0,E.t)("enableSignupConfDescription")," ",(0,je.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/128-why-you-should-use-signup-confirmation-double-opt-in","data-beacon-article":"57ce097f903360649f6e5700",rel:"noopener noreferrer",target:"_blank",children:(0,E.t)("readAboutDoubleOptIn")})]}),htmlFor:"signup_confirmation-enabled"}),(0,je.jsx)(ve,{children:e?(0,je.jsx)("p",{children:(0,E.t)("signupConfirmationIsMandatory")}):(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(Be.Y,{id:"signup_confirmation-enabled",checked:"1"===t,value:"1",onCheck:i,automationId:"enable_signup_confirmation"}),(0,E.t)("yes")," ",(0,je.jsx)(Be.Y,{checked:""===t,value:"",onCheck:i,automationId:"disable_signup_confirmation"}),(0,E.t)("no")]})})]})}function Kt(){const[e]=Ee("signup_confirmation","enabled"),[t,s]=Ee("signup_confirmation","subject");return e?(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("emailSubject"),htmlFor:"signup_confirmation-subject"}),(0,je.jsx)(ve,{children:(0,je.jsx)(De.I,{dimension:"small",type:"text",size:50,id:"signup_confirmation-subject","data-automation-id":"signup_confirmation_email_subject",value:t,onChange:(0,E.z2)(s)})})]}):null}var Bt=s(8279);function Yt(){const[e]=Ee("signup_confirmation","enabled"),[t,s]=Ee("signup_confirmation","body");if(!e)return null;const i=(0,E.t)("emailContentDescription").split("<br />").filter((e=>e));return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("emailContent"),description:i.map((e=>(0,je.jsxs)("span",{children:[e,(0,je.jsx)("br",{}),(0,je.jsx)("br",{})]},e))),htmlFor:"signup_confirmation-body"}),(0,je.jsx)(ve,{children:(0,je.jsx)(Bt.g,{id:"signup_confirmation-body",cols:50,rows:15,"data-automation-id":"signup_confirmation_email_body",value:t,onChange:(0,E.z2)(s)})})]})}function Wt(){const[e]=Ee("signup_confirmation","enabled"),[t,s]=Ee("subscription","pages","confirmation");return e?(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("confirmationPage"),description:(0,E.t)("confirmationPageDescription"),htmlFor:"subscription-pages-confirmation"}),(0,je.jsx)(ve,{children:(0,je.jsx)(Fe,{value:t,preview:"confirm",setValue:s,id:"subscription-pages-confirmation",automationId:"page_selection",linkAutomationId:"preview_page_link"})})]}):null}function $t(){return(0,je.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,je.jsx)(Gt,{}),(0,je.jsx)(Kt,{}),(0,je.jsx)(Yt,{}),(0,je.jsx)(Wt,{}),(0,je.jsx)(Ce,{})]})}function qt(){const[e,t]=Ee("woocommerce","use_mailpoet_editor"),[s]=Ee("woocommerce","transactional_email_id"),i=Se("openWoocommerceCustomizer");return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("wcCustomizerTitle"),description:(0,E.t)("wcCustomizerDescription"),htmlFor:"mailpoet_wc_customizer"}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(Re.X,{id:"mailpoet_wc_customizer",automationId:"mailpoet_wc_customizer",checked:"1"===e,onCheck:e=>t(e?"1":"")}),(0,je.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,je.jsx)(ye.z,{type:"button",onClick:()=>i(s),variant:"secondary",dimension:"small",children:(0,E.t)("openTemplateEditor")})})]})]})}function Ht(){const[e,t]=Ee("woocommerce","optin_on_checkout","enabled"),[s,i]=Ee("woocommerce","optin_on_checkout","segments"),[n,a]=Ee("woocommerce","optin_on_checkout","message"),r=Se("setErrorFlag"),o=""===n.trim();return(0,fe.useEffect)((()=>{r(o)}),[o,r]),(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("wcOptinTitle"),description:(0,E.t)("wcOptinDescription"),htmlFor:"mailpoet_wc_checkout_optin"}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(Re.X,{id:"mailpoet_wc_checkout_optin",automationId:"mailpoet_wc_checkout_optin",checked:"1"===e,onCheck:e=>t(e?"1":"")}),"1"===e&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)("br",{}),(0,je.jsxs)("label",{htmlFor:"mailpoet_wc_checkout_optin_segments",children:[(0,E.t)("wcOptinSegmentsTitle"),(0,je.jsx)("br",{}),(0,je.jsx)("span",{children:(0,E.t)("leaveEmptyToSubscribeToWCCustomers")})]}),(0,je.jsx)("br",{}),(0,je.jsx)(Me,{id:"mailpoet_wc_checkout_optin_segments",value:s,setValue:i,placeholder:(0,E.t)("wcOptinSegmentsPlaceholder")})]})]}),"1"===e&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("wcOptinMsgTitle"),description:(0,E.t)("wcOptinMsgDescription"),htmlFor:"mailpoet_wc_checkout_optin_message"}),(0,je.jsxs)(ve,{children:[(0,je.jsx)(De.I,{dimension:"small",type:"text",id:"mailpoet_wc_checkout_optin_message","data-automation-id":"mailpoet_wc_checkout_optin_message",value:n,onChange:(0,E.z2)(a),placeholder:(0,E.t)("wcOptinMsgPlaceholder")}),(0,je.jsx)("br",{}),o&&(0,je.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,E.t)("wcOptinMsgCannotBeEmpty")})]})]})]})}function Xt(){const[e,t]=Ee("mailpoet_subscribe_old_woocommerce_customers","enabled");return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(be,{title:(0,E.t)("subscribeOldWCTitle"),description:(0,E.t)("subscribeOldWCDescription"),htmlFor:"mailpoet_subscribe_old_wc_customers"}),(0,je.jsx)(ve,{children:(0,je.jsx)(Re.X,{id:"mailpoet_subscribe_old_wc_customers",automationId:"mailpoet_subscribe_old_wc_customers",checked:"1"===e,onCheck:e=>t(e?"1":"")})})]})}function Jt(){return(0,je.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,je.jsx)(qt,{}),(0,je.jsx)(Ht,{}),(0,je.jsx)(Xt,{}),(0,je.jsx)(Ce,{})]})}function Zt(){const e=Ne("isSaving")(),t=Ne("hasWooCommerce")();return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(xe.D,{}),e&&(0,je.jsx)(he.g,{}),(0,je.jsx)(pe.w,{}),(0,je.jsxs)(ge.t,{activeKey:"basics",onSwitch:e=>(e=>{x.x.trackEvent("User has clicked a tab in Settings",{"Tab ID":e})})(e),children:[(0,je.jsx)(_e.O,{title:(0,E.t)("basicsTab"),automationId:"basic_settings_tab",children:(0,je.jsx)(He,{})},"basics"),(0,je.jsx)(_e.O,{title:(0,E.t)("signupConfirmationTab"),automationId:"signup_settings_tab",children:(0,je.jsx)($t,{})},"signup"),(0,je.jsx)(_e.O,{route:"mta/:subPage?",title:(0,E.t)("sendWithTab"),automationId:"send_with_settings_tab",children:(0,je.jsx)(Ut,{})},"mta"),t&&(0,je.jsx)(_e.O,{title:(0,E.t)("wooCommerceTab"),automationId:"woocommerce_settings_tab",children:(0,je.jsx)(Jt,{})},"woocommerce"),(0,je.jsx)(_e.O,{title:(0,E.t)("advancedTab"),automationId:"settings-advanced-tab",children:(0,je.jsx)(lt,{})},"advanced"),(0,je.jsx)(_e.O,{title:(0,E.t)("keyActivationTab"),automationId:"activation_settings_tab",children:(0,je.jsx)(St,{})},"premium")]})]})}function Qt(){return(0,je.jsx)(o.k.Provider,{value:(0,o.S)(window),children:(0,je.jsx)(Zt,{})})}const es=document.getElementById("settings_container");es&&((e=>{(0,l.registerStore)(c,{reducer:de(ue(e)),actions:i,selectors:n,controls:a,resolvers:{}})})(window),r.render((0,je.jsx)(Qt,{}),es))},65311:function(e){e.exports=jQuery}},function(e){e.O(0,[351],(function(){return 27575,e(e.s=27575)})),e.O()}]);