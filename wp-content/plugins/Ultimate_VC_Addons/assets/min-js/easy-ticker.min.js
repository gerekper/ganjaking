!function(p,d){var e="easyTicker",u={direction:"up",easing:"swing",speed:"slow",interval:2e3,height:"auto",visible:0,mousePause:!0,controls:{up:"",down:"",toggle:"",playText:"Play",stopText:"Stop"},callbacks:{before:!1,after:!1}};function i(t,e){var i,o,s=this;function n(){0==s.timer&&(s.timer=setInterval(function(){a(s.opts.direction)},s.opts.interval),p(s.opts.controls.toggle).addClass("et-run").html(s.opts.controls.stopText))}function l(){clearInterval(s.timer),s.timer=0,p(s.opts.controls.toggle).removeClass("et-run").html(s.opts.controls.playText)}function a(t){var e,i,o,n;s.elem.is(":visible")&&(o="up"==t?(e=":first-child",i="-=","appendTo"):(e=":last-child",i="+=","prependTo"),t=(n=s.targ.children(e)).outerHeight(),"function"==typeof s.opts.callbacks.before&&s.opts.callbacks.before.call(s,s.targ,n),s.targ.stop(!0,!0).animate({top:i+t+"px"},s.opts.speed,s.opts.easing,function(){n.hide()[o](s.targ).fadeIn(),s.targ.css("top",0),c(!0),"function"==typeof s.opts.callbacks.after&&s.opts.callbacks.after.call(s,s.targ,n)}))}function r(t){l(),a("up"==t?"up":"down")}function c(t){var e,i,o,n;"auto"==s.opts.height&&(0<s.opts.visible?(i=t,o=0,n="et-item-visible",s.targ.children().removeClass(n),s.targ.children(":lt("+s.opts.visible+")").each(function(){o+=p(this).outerHeight(),p(this).addClass(n)}),i?s.elem.stop(!0,!0).animate({height:o},s.opts.speed):s.elem.css("height",o)):(e=0,i=s.elem.css("display"),s.elem.css("display","block"),s.targ.children().each(function(){e+=p(this).outerHeight()}),s.elem.css({display:i,height:e}))),t||clearInterval(s.heightTimer)}return s.opts=p.extend({},u,e),s.elem=p(t),s.targ=p(t).children(":first-child"),s.timer=0,s.elem.children().css("margin",0).children().css("margin",0),s.elem.css({position:"relative",height:s.opts.height,overflow:"hidden"}),s.targ.css({position:"absolute",margin:0}),s.heightTimer=setInterval(function(){c(!1)},100),n(),void 0!==d.hidden?(i="hidden",o="visibilitychange"):void 0!==d.msHidden?(i="msHidden",o="msvisibilitychange"):void 0!==d.webkitHidden&&(i="webkitHidden",o="webkitvisibilitychange"),d.addEventListener(o,function(){(d[i]?l:n)()},!1),s.opts.mousePause&&s.elem.on("mouseenter",function(){s.timerTemp=s.timer,l()}).on("mouseleave",function(){0!==s.timerTemp&&n()}),p(s.opts.controls.up).on("click",function(t){t.preventDefault(),r("up")}),p(s.opts.controls.down).on("click",function(t){t.preventDefault(),r("down")}),p(s.opts.controls.toggle).on("click",function(t){t.preventDefault(),(0==s.timer?n:l)()}),{up:function(){r("up")},down:function(){r("down")},start:n,stop:l,options:s.opts}}p.fn[e]=function(t){return this.each(function(){p.data(this,e)||p.data(this,e,new i(this,t))})}}(jQuery,(window,document));