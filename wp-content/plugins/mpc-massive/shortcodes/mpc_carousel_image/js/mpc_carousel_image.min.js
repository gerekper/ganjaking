!function(a){"use strict";function b(b){if(_mpc_vars.breakpoints.custom("(min-width: 1200px)"))return void(b.is(".mpc-layout--classic")?b.css("height",""):b.css("height",b.attr("data-height")));var c=b.find("img"),d=b.height(),e=b.mpcslick("slickCurrentSlide");a.each(c,function(){var c=a(this),e=c.attr("height")/c.attr("width")*.9;b.width()<c.width()&&(d=Math.min(parseInt(b.width()*e),d))}),b.css("height",d),b.mpcslick("slickGoTo",e,!0)}function c(b){a.fn.mpcslick&&!b.is(".slick-initialized")?d(b):setTimeout(function(){c(b)},50)}function d(c){var d=c.find(".mpc-carousel__item-wrapper"),e=9999;if(c.is(".mpc-layout--fluid")&&!c.is(".mpc-force-height")&&(d.each(function(){var b=parseInt(a(this).attr("data-height"));b<e&&(e=b)}),c.css({height:e}).attr("data-height",e)),c.is(".mpc-layout--fluid")){var f=c.data("mpcslick");f.slidesToShow=d.length-1,c.attr("data-mpcslick",JSON.stringify(f))}c.on("init",function(){setTimeout(function(){mpc_init_lightbox(c,!0)},250)}),c.mpcslick({prevArrow:'[data-mpcslider="'+c.attr("id")+'"] .mpcslick-prev',nextArrow:'[data-mpcslider="'+c.attr("id")+'"] .mpcslick-next',responsive:_mpc_vars.carousel_breakpoints(c,2),rtl:_mpc_vars.rtl.global()}),c.on("mouseleave",function(){setTimeout(function(){c.mpcslick("getSlick").options.autoplay&&c.mpcslick("play")},250)}),b(c),_mpc_vars.$window.on("mpc.resize",function(){c.is(".slick-slider")||c.mpcslick({prevArrow:'[data-mpcslider="'+c.attr("id")+'"] .mpcslick-prev',nextArrow:'[data-mpcslider="'+c.attr("id")+'"] .mpcslick-next',responsive:_mpc_vars.carousel_breakpoints(c),rtl:_mpc_vars.rtl.global()}),setTimeout(function(){b(c)},250)}),c.trigger("mpc.inited")}void 0!==window.InlineShortcodeView&&(window.InlineShortcodeView_mpc_carousel_image=window.InlineShortcodeView.extend({events:{"click > .vc_controls .vc_control-btn-delete":"destroy","click > .vc_controls .vc_control-btn-edit":"edit","click > .vc_controls .vc_control-btn-clone":"clone",mousemove:"checkControlsPosition","click > .mpc-carousel__wrapper .mpcslick-prev .mpc-nav__icon":"prevSlide","click > .mpc-carousel__wrapper .mpcslick-next .mpc-nav__icon":"nextSlide"},rendered:function(){var a=this.$el.find(".mpc-carousel-image"),b=a.siblings(".mpc-navigation");a.addClass("mpc-waypoint--init"),_mpc_vars.$body.trigger("mpc.icon-loaded",[a,b]),_mpc_vars.$body.trigger("mpc.font-loaded",[a,b]),_mpc_vars.$body.trigger("mpc.navigation-loaded",[b]),_mpc_vars.$body.trigger("mpc.inited",[a,b]),setTimeout(function(){c(a)},250),window.InlineShortcodeView_mpc_carousel_image.__super__.rendered.call(this)},beforeUpdate:function(){this.$el.find(".mpc-carousel-image").mpcslick("unslick"),window.InlineShortcodeView_mpc_carousel_image.__super__.beforeUpdate.call(this)},prevSlide:function(){this.$el.find(".mpc-carousel-image").mpcslick("slickPrev")},nextSlide:function(){this.$el.find(".mpc-carousel-image").mpcslick("slickNext")}})),a(".mpc-carousel-image").each(function(){var b=a(this);b.one("mpc.init",function(){c(b)})})}(jQuery);