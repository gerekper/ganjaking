!function(a){"use strict";function b(a,b,c){return a<=c&&c<=b}function c(a,c,d){var e=0;return c.forEach(function(c){return b(c.top,c.bottom,a.top)?e=c.bottom-a.top+5:b(c.top,c.bottom,a.bottom)?e=c.top-a.bottom+5:void 0}),e}function d(a,b,d){var f={top:b.offset().top,bottom:b.offset().top+b.outerHeight()},g={top:a.offset().top,bottom:a.offset().top+a.height()},h=a.attr("data-side"),i=0;return"left"==h?(i=c(f,j.right,g),f=e(b,d,f,i),j.left.push(f),!0):(i=c(f,j.left,g),f=e(b,d,f,i),j.right.push(f),!0)}function e(a,b,c,d){return 0==d?c:(c.top+=d,c.bottom+=d,a.css({"margin-top":parseInt(a.css("margin-top"))+parseInt(d)}),b.css({"margin-top":parseInt(b.css("margin-top"))+parseInt(d)}),c)}function f(b){b.find(".mpc-timeline-item__wrap").each(function(){var c=a(this),e=c.find(".mpc-timeline-item"),f=c.find(".mpc-tl-icon"),g=e.find(".mpc-tl-before"),h=0;b.is(".mpc-layout--left")?c.attr("data-side","right"):b.is(".mpc-layout--right")?c.attr("data-side","left"):"0px"==c.css("left")?c.attr("data-side","left"):c.attr("data-side","right"),g.removeAttr("style"),"left"==c.attr("data-side")&&!b.is(".mpc-layout--right")&&_mpc_vars.breakpoints.custom("(min-width: 767px)")?g.css({"margin-left":parseInt(e.css("border-right-width"))}):g.css({"margin-right":parseInt(e.css("border-left-width"))}),b.is(".mpc-pointer--middle")&&g.css({"margin-top":parseInt(g.css("margin-top"))-parseInt(.5*g.outerHeight())}),h=g.offset().top-c.offset().top-.5*f.height(),b.is(".mpc-pointer--right-triangle")||(h+=.5*g.outerHeight()),f.css({"margin-top":parseInt(h)}),b.is(".mpc-layout--both")&&c.length&&f.length&&g.length&&d(c,f,g)})}function g(a){var b=a.find(".mpc-track__icon"),c=a.find(".mpc-timeline__track");b.css({"margin-left":-parseInt(.5*(b.outerWidth()+c.outerWidth()))})}function h(b){a.fn.isotope&&a.fn.imagesLoaded?i(b):setTimeout(function(){h(b)},50)}function i(b){var c=b.parents(".mpc-row");g(b),b.trigger("mpc.inited");var d={itemSelector:".mpc-timeline-item__wrap",layoutMode:"masonry"};b.is(".mpc-layout--right")&&(d.isOriginLeft=!1),b.imagesLoaded().done(function(){b.on("layoutComplete",function(){j={left:[],right:[]},f(a(this)),MPCwaypoint.refreshAll()}),b.isotope(d),c.on("mpc.rowResize",function(){b.data("isotope")&&b.isotope("layout")}),_mpc_vars.$document.ready(function(){setTimeout(function(){b.data("isotope")&&b.isotope("layout")},50)})})}var j;a(".mpc-timeline-basic").each(function(){var b=a(this);b.one("mpc.init",function(){h(b)})})}(jQuery);