!function(a){"use strict";function b(a,c,d){var e,f=c.eq(d.word_index),g=f.data("parent_block");d.word_index=d.word_index+1,e=setTimeout(function(){(d.word_index<d.words||d.word_index>=d.words&&d.loop)&&(d.word_index>=d.words&&d.loop&&(d.word_index=0),d.dynamic&&d.words_wrap.stop(!0).animate({width:c.eq(d.word_index).data("width")},d.duration),g.stop(!0).animate({"margin-top":-d.height},{duration:d.duration,complete:function(){g.appendTo(d.words_wrap).css("margin-top",""),b(a,c,d)}}))},d.delay),a.on("mpc.clear",function(){clearTimeout(e)})}function c(a,b,d){var e,f,g,h=b.eq(d.word_index),i=0,j=h.data("clear_text"),k=j.length;d.word_index=d.word_index+1,e=setInterval(function(){h.text(h.text()+j[i++]),i>=k&&(clearInterval(e),g=setTimeout(function(){(d.word_index<d.words||d.word_index>=d.words&&d.loop)&&(d.word_index>=d.words&&d.loop&&(d.word_index=0),f=setInterval(function(){h.text(h.text().slice(0,-1)),--i<0&&(clearInterval(f),c(a,b,d))},d.duration/2))},d.delay))},d.duration),a.on("mpc.clear",function(){clearInterval(e),clearInterval(f),clearTimeout(g)})}function d(d){var e=d.find(".mpc-animated-text"),f=d.find(".mpc-animated-text__word"),g=d.data("options"),h="",i="",j={style:"rotator",duration:1e3,delay:1e3,loop:!0,dynamic:!1,words:f.length,word_index:0,words_wrap:e};void 0===g?g=j:(g=a.extend(j,g),g.duration=parseInt(g.duration),g.delay=parseInt(g.delay)),1==f.length&&"rotator"==g.style||("rotator"==g.style?(g.height=g.default_height=e.height(),e.height(g.height),d.addClass("mpc-loaded"),f.each(function(){var b=a(this);b.data("parent_block",b.parent()),g.dynamic&&b.data("width",b.width())}),g.dynamic&&(e.stop(!0).animate({width:f.eq(0).data("width")},g.duration),_mpc_vars.$window.on("load",function(){f.each(function(){var b=a(this);b.data("width",b.width())})})),b(d,f,g),_mpc_vars.$window.on("mpc.resize",function(){var b=0;f.each(function(){var c=a(this);c[0].scrollHeight>b&&(b=c[0].scrollHeight)}),g.height=b,f.height(g.height),e.height(g.height)})):"typewrite"==g.style&&(f.each(function(){var b=a(this);h=b.text().replace(/ /g,"Â "),b.data("clear_text",b.text()),b.data("default_text",h),i.length<h.length&&(i=h.length)}),f.text(""),g.duration=g.duration/i,c(d,f,g)),d.trigger("mpc.inited"))}void 0!==window.InlineShortcodeView&&(window.InlineShortcodeView_mpc_animated_text=window.InlineShortcodeView.extend({rendered:function(){var a=this.$el.find(".mpc-animated-text-wrap");a.addClass("mpc-waypoint--init"),_mpc_vars.$body.trigger("mpc.font-loaded",[a]),_mpc_vars.$body.trigger("mpc.inited",[a]),d(a),window.InlineShortcodeView_mpc_animated_text.__super__.rendered.call(this)},beforeUpdate:function(){this.$el.find(".mpc-animated-text-wrap").trigger("mpc.clear")}})),a(".mpc-animated-text-wrap").each(function(){var b=a(this);b.one("mpc.init",function(){d(b)})})}(jQuery);