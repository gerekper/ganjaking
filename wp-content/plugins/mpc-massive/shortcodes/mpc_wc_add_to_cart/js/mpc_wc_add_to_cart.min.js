!function(a){"use strict";function b(b){var c=b.parent(".mpc-wc-add_to_cart-wrap"),d=b.find(".mpc-atc__title-hover"),e={left:0,top:0},f={};e.width=b.width(),f.width=d.outerWidth(!0),e.height=b.height(),f.height=d.outerHeight(!0),e.width+10>f.width&&f.width<e.width-10&&(f.width=e.width),e.height+10>f.height&&f.height<e.height-10&&(f.height=e.height),void 0===f.width&&void 0===f.height||(b.css(e),c.css(e),b.attr("data-css",JSON.stringify(e)).attr("data-css-hover",JSON.stringify(f)),c.on("mouseenter",function(){var b=a(this).children(".mpc-wc-add_to_cart"),c=b.data("css"),d=b.data("css-hover");d.left=.5*(c.width-d.width),d.top=.5*(c.height-d.height),b.css(d)}).on("mouseleave",function(){var b=a(this).children(".mpc-wc-add_to_cart");b.css(b.data("css"))}))}function c(b,c){var d=c.data("cart"),e=c.find(".mpc-atc__notices");d&&!c.is(".mpc-disabled")?(b.preventDefault(),c.addClass("mpc-disabled"),c.attr("data-notice","show:loader"),a.post(_mpc_vars.ajax_url,{action:"mpc_wc_add_to_cart",product_id:d.product_id,variation_id:d.variation_id,dataType:"json"},function(b){b?(c.attr("data-notice","show:success"),a(document.body).trigger("added_to_cart",[b.fragments,b.cart_hash,null])):(c.attr("data-notice","show:error"),setTimeout(function(){c.removeClass("mpc-disabled").removeAttr("data-notice")},2e3))})):c.is(".mpc-disabled")&&""!=e.attr("data-notice")&&c.removeClass("mpc-disabled").removeAttr("data-notice")}function d(a){a.is(".mpc-auto-size")&&!a.is(".mpc-display--block")&&b(a),a.trigger("mpc.inited")}if(void 0!==window.InlineShortcodeView){var e=a("body");window.InlineShortcodeView_mpc_wc_add_to_cart=window.InlineShortcodeView.extend({rendered:function(){var a=this.$el.find(".mpc-button");a.addClass("mpc-waypoint--init"),e.trigger("mpc.icon-loaded",[a]),e.trigger("mpc.font-loaded",[a]),e.trigger("mpc.inited",[a]),d(a),window.InlineShortcodeView_mpc_wc_add_to_cart.__super__.rendered.call(this)}})}a(".mpc-wc-add_to_cart").each(function(){var b=a(this);b.one("mpc.init",function(){d(b)})}),a(document).on("click",".mpc-wc-add_to_cart",function(b){c(b,a(this))})}(jQuery);