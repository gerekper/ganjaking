"use strict";jQuery((function(t){t.add_new_range=function(t){const e=t.parents(".widget-content").find(".range-filter"),n=e.find("input:last-child"),i=e.data("field_name"),a=parseInt(n.data("position"))+1,c='<input type="text" placeholder="min" name="'+i+"["+a+'][min]" value="" class="yith-wcan-price-filter-input widefat" data-position="'+a+'"/><input type="text" placeholder="max" name="'+i+"["+a+'][max]" value="" class="yith-wcan-price-filter-input widefat" data-position="'+a+'"/>';e.append(c)},t.select_dropdown=function(t){const e=t,n=e.parents("p").next("p");e.is(":checked")?n.fadeIn("slow"):n.fadeOut("slow")},t(document).on("change",".yith_wcan_type, .yith_wcan_attributes",(function(e){const n=this,i=t(this).parents(".widget-content").find(".yith_wcan_placeholder").html(""),a=i.next(".spinner").show(),c=t(this).parents(".widget-content").find("#yit-wcan-display"),o=t(this).parents(".widget-content").find("#yit-wcan-style"),s=t(this).parents(".widget-content").find("#yit-wcan-show-count"),l=t(this).parents(".widget-content").find(".yith-wcan-attribute-list"),d=t(this).parents(".widget-content").find(".yit-wcan-widget-tag-list"),h=t(this).parents(".widget-content").find(".yit-wcan-see-all-taxonomies-text"),r={action:"yith_wcan_select_type",id:t("input[name=widget_id]",t(n).parents(".widget-content")).val(),name:t("input[name=widget_name]",t(n).parents(".widget-content")).val(),attribute:t(".yith_wcan_attributes",t(n).parents(".widget-content")).val(),value:t(".yith_wcan_type",t(n).parents(".widget-content")).val()};"list"===r.value||"select"===r.value||"brands"===r.value||"tags"===r.value?(c.show(),o.hide()):"label"!==r.value&&"color"!==r.value&&"multicolor"!==r.value||c.hide(),"color"===r.value||"multicolor"===r.value?o.show():o.hide(),"list"===r.value||"tags"===r.value||"brands"===r.value||"categories"===r.value||"select"===r.value?s.show():s.hide(),"tags"===r.value||"brands"===r.value||"categories"===r.value?l.hide():l.show(),"tags"===r.value?d.show():d.hide(),"tags"===r.value||"categories"===r.value?h.show():h.hide(),t.post(ajaxurl,r,(function(e){a.hide(),i.html(e.content),t(document).trigger("yith_colorpicker")}),"json")})),t(document).on("yith_colorpicker",(function(){t(".yith-colorpicker").each((function(){t(this).wpColorPicker()}))})).trigger("yith_colorpicker"),t(document).on("change",".yith-wcan-enable-custom-style",(function(){const e=t(this),n=e.parents(".widget-content").find(".yith-wcan-reset-custom-style");e.find(".yith-wcan-enable-custom-style-check").is(":checked")?n.fadeIn("slow"):n.fadeOut("slow")})),t(document).on("change",".yith-wcan-dropdown-check",(function(){t.select_dropdown(t(this))})),t(document).on("change","#preset-status",(function(){const e=t(this),n=e.data("preset"),i=e.is(":checked");window.onbeforeunload="",t.post(ajaxurl,{preset:n,status:i?1:0,action:"yith_wcan_change_preset_status",_wpnonce:yith_wcan_admin.nonce.change_preset_status})})),t(document).on("click",".copy-on-click",(function(){t(this).find("input").select(),document.execCommand("copy"),window.alert(yith_wcan_admin.messages.confirm_copy)})),t(document).on("yith_wcan_filters_init",(function(){new YITH_WCAN_Filters(jQuery)})).trigger("yith_wcan_filters_init"),t(document).on("yith_wcan_upgrade_note_init",(function(){t("#yith_wcan_update_to_presets").off("click").on("click",(function(e){const n=t(this);e.preventDefault(),n.WCBackboneModal({template:"yith-wcan-upgrade-note"})}))})).trigger("yith_wcan_upgrade_note_init"),t(document).on("yith_wcan_admin_fields",(function(){t("#yith_wcan_show_active_labels").on("change",(function(){const e=t(this),n=t("#yith_wcan_reset_button_position-after_active_labels"),i=n.parent();e.is(":checked")?i.show():(i.hide(),n.is(":checked")&&i.prev().find("input").prop("checked",!0))})).change()})).trigger("yith_wcan_admin_fields");const e=t(".yith-wcan-select-option .select-all"),n=t(".yith-wcan-select-option .unselect-all");t(".yith_wcan_select_tag"),t("#yith-wcan-tag-widget-select");e.on("click",(function(e){e.preventDefault(),t(this).parents(".yith-wcan-select-option").next(".yith_wcan_select_tag_wrapper").find(".yith_wcan_tag_list_checkbox").attr("checked",!0)})),n.on("click",(function(e){e.preventDefault(),t(this).parents(".yith-wcan-select-option").next(".yith_wcan_select_tag_wrapper").find(".yith_wcan_tag_list_checkbox").attr("checked",!1)})),t(document).find(".yith-add-button").appendTo(".yith-plugin-fw__panel__content__page__title"),t(document).on("click",".yith-require-confirmation-modal.action__trash",(function(e){e.preventDefault(),e.stopPropagation();const n=t(this).data("title"),i=t(this).data("message"),a=t(this).find(".yith-plugin-fw__action-button__link").attr("href");yith.ui.confirm({closeAfterConfirm:!1,title:n,message:i,onConfirm(){window.location.href=a}})}))}));