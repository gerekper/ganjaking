!function(t){"use strict";var e=Array.prototype.slice;t.extend(t.event.special,{resizestop:{add:function(e){var i=e.handler;t(this).resize(function(r){var s;clearTimeout(i._timer),r.type="resizestop",s=t.proxy(i,this,r),i._timer=setTimeout(s,e.data||200)})}},resizestart:{add:function(e){var i=e.handler;t(this).on("resize",function(r){clearTimeout(i._timer),i._started||(r.type="resizestart",i.apply(this,arguments),i._started=!0),i._timer=setTimeout(t.proxy(function(){i._started=!1},this),e.data||300)})}}}),t.extend(t.fn,{resizestop:function(){t(this).on.apply(this,["resizestop"].concat(e.call(arguments)))},resizestart:function(){t(this).on.apply(this,["resizestart"].concat(e.call(arguments)))}})}(window.jQuery);void 0===Number.isFinite&&(Number.isFinite=function(e){"use strict";return"number"==typeof e&&isFinite(e)}),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},void 0===Number.isNaN&&(Number.isNaN=function(e){"use strict";return e!==e}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){"use strict";return this.substr(!t||t<0?0:+t,e.length)===e}}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){"use strict";return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}}),String.prototype.isNumeric||Object.defineProperty(String.prototype,"isNumeric",{value:function(){"use strict";return!isNaN(parseFloat(this))&&isFinite(this)}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";var n,r,o,i;if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(n=Object(e),r=1;r<arguments.length;r+=1)if(void 0!==(o=arguments[r])&&null!==o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i]);return n},writable:!0,configurable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return i;o++}},configurable:!0,writable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return o;o++}return-1},configurable:!0,writable:!0}),Function.prototype.bind||function(){"use strict";var e=Array.prototype.slice;Function.prototype.bind=function(){var t=this,n=arguments[0],r=e.call(arguments,1);if("function"!=typeof t)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){return r.push.apply(r,arguments),t.apply(n,r)}}}(),window.jQuery.jMaskGlobals={maskElements:".tc-extra-product-options input"},function(e){"use strict";e.epoAPI={},e.epoAPI.error=!1,e.epoAPI.math={},e.epoAPI.dom={},e.epoAPI.util={},e.epoAPI.locale={},e.epoAPI.template={},e.epoAPI.math.toFloat=function(e){var t;return"string"!=typeof e&&"number"!=typeof e||isNaN(e)?0:(t=parseFloat(e),isNaN(t)?e:t)},e.epoAPI.math.toInt=function(e){var t;return"string"!=typeof e&&"number"!=typeof e||isNaN(e)?0:(t=parseInt(e),isNaN(t)?e:t)},e.epoAPI.math.round=function(e,t,n){var r,o,i,a;if(t=parseInt(t,10),Number.isFinite(t)||(t=0),r=Math.pow(10,t),e*=r,a="number"==typeof e&&e?e<0?-1:1:0,i=e%1==.5*a,o=Math.floor(e),i)switch(n){case"PHP_ROUND_HALF_DOWN":e=o+(a<0?1:0);break;case"PHP_ROUND_HALF_EVEN":e=o+o%2*a;break;case"PHP_ROUND_HALF_ODD":e=o+(o%2?0:1);break;default:e=o+(a>0?1:0)}return i||(e=Math.round(e)),e/r},e.epoAPI.dom.id=function(e){return void 0===e?e:"string"!=typeof e&&"number"!=typeof e||"number"==typeof e&&isNaN(e)?e.toString():e.toString().replace(/(%|:|\.|\[|\]|,|=)/g,"\\$1")},e.epoAPI.dom.scroll=function(){var e,t;return window.pageYOffset?(t=window.pageYOffset,e=window.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft):document.body&&(t=document.body.scrollTop,e=document.body.scrollLeft),{left:e,top:t}},e.epoAPI.dom.size=function(){var e,t,n,r,o,i;return window.innerHeight&&window.scrollMaxY?(t=window.innerWidth+window.scrollMaxX,e=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(t=document.body.scrollWidth,e=document.body.scrollHeight):(t=document.body.offsetWidth,e=document.body.offsetHeight),window.innerHeight?(o=document.documentElement.clientWidth?document.documentElement.clientWidth:window.innerWidth,i=window.innerHeight):document.documentElement&&document.documentElement.clientHeight?(o=document.documentElement.clientWidth,i=document.documentElement.clientHeight):document.body&&(o=document.body.clientWidth,i=document.body.clientHeight),n=e<i?i:e,r=t<o?o:t,{fullWidth:r,fullHeight:n,visibleWidth:o,visibleHeight:i,totalWidth:t,totalHeight:e}},e.epoAPI.util.parseJSON=function(t){var n,r=window.JSON;try{if((n=r.parse(t+""))&&"object"==typeof n&&null!==n)return n}catch(t){return e.epoAPI.error=t,!1}return!1},e.epoAPI.util.decodeHTML=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},e.epoAPI.util.getStorage=function(e){var t;try{var n="__storage_test__";return(t=window[e]).setItem(n,n),t.removeItem(n),t}catch(e){return!1}},e.epoAPI.locale.getSystemDecimalSeparator=function(){var e=1.1;return e=/^1(.+)1$/.exec(e.toLocaleString())[1]},e.epoAPI.template.html=function(e,t){var n=e(t);return n=n.replace("/*<![CDATA[*/",""),n=n.replace("/*]]>*/","")},e.epoAPI.filters={},e.epoAPI.addFilter=function(t,n,r,o){var i;return r=parseInt(r,10),isNaN(r)&&(r=10),o=parseInt(o,10),isNaN(o)&&(o=1),i=n+"_"+r,e.epoAPI.filters[t]||(e.epoAPI.filters[t]={}),e.epoAPI.filters[t][r]||(e.epoAPI.filters[t][r]={}),e.epoAPI.filters[t][r][i]={func:n,accepted_args:o},!0},e.epoAPI.removeFilter=function(t,n,r){var o;return r=parseInt(r,10),isNaN(r)&&(r=10),o=n+"_"+r,!!(e.epoAPI.filters[t]&&e.epoAPI.filters[t][r]&&e.epoAPI.filters[t][r][o])&&(delete e.epoAPI.filters[t][r][o],!0)},e.epoAPI.applyFilter=function(t,n){var r,o=e.makeArray(arguments);return o.splice(0,1),e.epoAPI.filters[t]?(r=e.epoAPI.filters[t],e.each(r,function(t,r){e.each(r,function(e,t){var r=t.func;r instanceof Function?n=r.apply(null,o):window[r]&&window[r]instanceof Function&&(n=window[r].apply(null,o))})}),n):n},e.tc_add_filter=e.epoAPI.addFilter,e.tc_remove_filter=e.epoAPI.removeFilter,e.tc_apply_filters=e.epoAPI.applyFilter}(window.jQuery),function(e){"use strict";function t(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function n(e,t){var r,o;return Array.isArray(e)?e.map(e,function(e){return n(e,t)}):"number"==typeof(e=e||0)?e:(t=t||".",r=new RegExp("[^0-9-"+t+"]",["g"]),o=parseFloat((""+e).replace(/\((?=\d+)(.*)\)/,"-$1").replace(r,"").replace(t,".")),isNaN(o)?0:o)}function r(e,r){var o,i;return r=t(r,2),o=Number(n(e)+"e"+r),i=Math.round(o),Number(i+"e-"+r).toFixed(r)}function o(e,i){var a,c,s,l;return Array.isArray(e)?e.map(e,function(e){return o(e,i)}):(e=n(e),i?(i.precision=t(i.precision),i.format&&i.symbol?(a={pos:i.format,neg:i.format.replace("-","").replace("%v","-%v"),zero:i.format},c=e>0?a.pos:e<0?a.neg:a.zero,i.opts={precision:i.precision,thousand:i.thousand,decimal:i.decimal},e=c.replace("%s",i.symbol).replace("%v",o(Math.abs(e),i.opts))):e=(e<0?"-":"")+((l=(s=parseInt(r(Math.abs(e||0),i.precision),10)+"").length>3?s.length%3:0)?s.substr(0,l)+i.thousand:"")+s.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+i.thousand)+(i.precision?i.decimal+r(Math.abs(e),i.precision).split(".")[1]:""),e):e)}e.epoAPI.math.unformat=n,e.epoAPI.math.format=o,e.epoAPI.math.toFixed=r}(window.jQuery),function(e){"use strict";var t,n=/\r?\n/g,r=/^(?:checkbox|radio)$/i,o=/^(?:submit|button|image|reset|file)$/i,i=/^(?:input|select|textarea|keygen)/i;e.easing.easeInExpo||(t=function(e){return Math.pow(e,6)},e.easing.easeInExpo=t,e.easing.easeOutExpo=function(e){return 1-t(1-e)},e.easing.easeInOutExpo=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}),e.fn.extend({tmcheckboxes:function(){var e=this.find(":checkbox:not('.tm-default-checkbox')").not(".wp-tab-panel :checkbox, .tm-weekdays-picker-wrap :checkbox, .tm-months-picker-wrap :checkbox");return e.wrap('<label class="tm-epo-switch-wrapper-label"></label>'),e.wrap('<span class="tm-epo-switch-wrapper tc"></span>'),e.after('<span class="tc-label tm-epo-switch tc"></span>'),this},tcSerializeArray:function(){return this.find(":input").filter(function(){var t=this.type;return this.name&&!e(this).is(":disabled")&&i.test(this.nodeName)&&!o.test(t)&&(this.checked||!r.test(t))}).map(function(t,r){var o=e(this).val();return null===o?null:Array.isArray(o)?e.map(o,function(e){return{name:r.name,value:e.replace(n,"\r\n")}}):{name:r.name,value:o.replace(n,"\r\n")}}).get()},tcSerializeObject:function(){var t={},n=this.tcSerializeArray();return e.each(n,function(){void 0!==t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},tcScrollTo:function(t,n,r){var o=this;return 0===(t=e(t)).length?this:(n||(n=0),r||(r=0),o[0].self===window?o=e("html, body"):(o.find(".woodmart-scroll-content").length&&(o=o.find(".woodmart-scroll-content")),o.offset()?r+=o.scrollTop()-o.offset().top:o=e("html, body")),o.animate({scrollTop:e(t).offset().top+r},n))},tcClone:function(){var t,n,r,o,i=e.fn.clone.apply(this,arguments),a=this.find("textarea").add(this.filter("textarea")),c=i.find("textarea").add(i.filter("textarea")),s=this.find("select").add(this.filter("select")),l=i.find("select").add(i.filter("select"));for(t=0,n=a.length;t<n;t+=1)e(c[t]).val(e(a[t]).val());for(t=0,n=s.length;t<n;t+=1)for(r=0,o=s[t].options.length;r<o;r+=1)!0===s[t].options[r].selected&&(l[t].options[r].selected=!0);return i}})}(window.jQuery);!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).tcmexp=t()}}(function(){return function t(e,n,a){function o(u,p){if(!n[u]){if(!e[u]){var s="function"==typeof require&&require;if(!p&&s)return s(u,!0);if(h)return h(u,!0);var r=new Error("Cannot find module '"+u+"'");throw r.code="MODULE_NOT_FOUND",r}var i=n[u]={exports:{}};e[u][0].call(i.exports,function(t){var n=e[u][1][t];return o(n||t)},i,i.exports,t,e,n,a)}return n[u].exports}for(var h="function"==typeof require&&require,u=0;u<a.length;u++)o(a[u]);return o}({1:[function(t,e,n){var a=t("./postfix_evaluator.js");a.prototype.formulaEval=function(){"use strict";for(var t,e,n,a=[],o=this.value,h=0;h<o.length;h++)1===o[h].type||3===o[h].type?a.push({value:3===o[h].type?o[h].show:o[h].value,type:1}):13===o[h].type?a.push({value:o[h].show,type:1}):0===o[h].type?a[a.length-1]={value:o[h].show+("-"!=o[h].show?"(":"")+a[a.length-1].value+("-"!=o[h].show?")":""),type:0}:7===o[h].type?a[a.length-1]={value:(1!=a[a.length-1].type?"(":"")+a[a.length-1].value+(1!=a[a.length-1].type?")":"")+o[h].show,type:7}:10===o[h].type?(t=a.pop(),e=a.pop(),"P"===o[h].show||"C"===o[h].show?a.push({value:"<sup>"+e.value+"</sup>"+o[h].show+"<sub>"+t.value+"</sub>",type:10}):a.push({value:(1!=e.type?"(":"")+e.value+(1!=e.type?")":"")+"<sup>"+t.value+"</sup>",type:1})):2===o[h].type||9===o[h].type?(t=a.pop(),e=a.pop(),a.push({value:(1!=e.type?"(":"")+e.value+(1!=e.type?")":"")+o[h].show+(1!=t.type?"(":"")+t.value+(1!=t.type?")":""),type:o[h].type})):12===o[h].type&&(t=a.pop(),e=a.pop(),n=a.pop(),a.push({value:o[h].show+"("+n.value+","+e.value+","+t.value+")",type:12}));return a[0].value},e.exports=a},{"./postfix_evaluator.js":5}],2:[function(t,e,n){function a(t,e){for(var n=0;n<t.length;n++)t[n]+=e;return t}function o(t,e,n,a){for(var o=0;o<a;o++)if(t[n+o]!==e[o])return!1;return!0}var h=t("./math_function.js"),u=["ceil","floor","abs","exp","sqrt","sin","cos","tan","pi","(",")","P","C","asin","acos","atan","7","8","9","int","cosh","acosh","ln","^","root","4","5","6","/","!","tanh","atanh","Mod","1","2","3","*","sinh","asinh","e","log","0",".","+","-",",","Sigma","n","Pi","pow"],p=["ceil","floor","abs","exp","sqrt","sin","cos","tan","&pi;","(",")","P","C","asin","acos","atan","7","8","9","Int","cosh","acosh"," ln","^","root","4","5","6","&divide;","!","tanh","atanh"," Mod ","1","2","3","&times;","sinh","asinh","e"," log","0",".","+","-",",","&Sigma;","n","&Pi;","pow"],s=[Math.ceil,Math.floor,Math.abs,Math.exp,Math.sqrt,h.math.sin,h.math.cos,h.math.tan,"PI","(",")",h.math.P,h.math.C,h.math.asin,h.math.acos,h.math.atan,"7","8","9",Math.floor,h.math.cosh,h.math.acosh,Math.log,Math.pow,Math.sqrt,"4","5","6",h.math.div,h.math.fact,h.math.tanh,h.math.atanh,h.math.mod,"1","2","3",h.math.mul,h.math.sinh,h.math.asinh,"E",h.math.log,"0",".",h.math.add,h.math.sub,",",h.math.sigma,"n",h.math.Pi,Math.pow],r=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"],["pi","ln","Pi"],["ceil","floor","abs","exp","sqrt"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]],i=[0,0,0,0,0,0,0,0,3,4,5,10,10,0,0,0,1,1,1,0,0,0,0,10,0,1,1,1,2,7,0,0,2,1,1,1,2,0,0,3,0,1,6,9,9,11,12,13,12,8],l={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0},f={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0},v={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},c={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},y={},g={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},m={1:!0};h.addToken=function(t){for(var e=0;e<t.length;e++){var n=t[e].token.length,a=-1;if(n<r.length)for(var o=0;o<r[n].length;o++)if(t[e].token===r[n][o]){a=u.indexOf(r[n][o]);break}-1===a?(u.push(t[e].token),i.push(t[e].type),r.length<=t[e].token.length&&(r[t[e].token.length]=[]),r[t[e].token.length].push(t[e].token),s.push(t[e].value),p.push(t[e].show)):(u[a]=t[e].token,i[a]=t[e].type,s[a]=t[e].value,p[a]=t[e].show)}},h.lex=function(t,e){"use strict";var n,d,w,x,M={value:h.math.changeSign,type:0,pre:21,show:"-"},E={value:")",show:")",type:5,pre:0},P={value:"(",type:4,pre:0,show:"("},b=[P],D=[],k=t,q=0,j=f,C=0,I=y,N="";void 0!==e&&h.addToken(e);var O={};for(d=0;d<k.length;d++)if(" "!==k[d]){for(n="",w=k.length-d>r.length-2?r.length-1:k.length-d;w>0;w--)for(x=0;x<r[w].length;x++)o(k,r[w][x],d,w)&&(n=r[w][x],x=r[w].length,w=0);if(d+=n.length-1,""===n)throw new h.Exception("Can't understand after "+k.slice(d));var S,_=u.indexOf(n),R=n,T=i[_],F=s[_],U=l[T],L=p[_],W=b[b.length-1];for(S=D.length;S--&&0===D[S];)if(-1!==[0,2,3,5,9,11,12,13].indexOf(T)){if(!0!==j[T])throw new h.Exception(n+" is not allowed after "+N);b.push(E),j=v,I=g,a(D,-1).pop()}if(!0!==j[T])throw new h.Exception(n+" is not allowed after "+N);if(!0===I[T]&&(T=2,F=h.math.mul,L="&times;",U=3,d-=n.length),O={value:F,type:T,pre:U,show:L},0===T)j=f,I=y,a(D,2).push(2),b.push(O),b.push(P);else if(1===T)1===W.type?(W.value+=F,a(D,1)):b.push(O),j=v,I=c;else if(2===T)j=f,I=y,a(D,2),b.push(O);else if(3===T)b.push(O),j=v,I=g;else if(4===T)q+=D.length,D=[],C++,j=f,I=y,b.push(O);else if(5===T){if(!C)throw new h.Exception("Closing parenthesis are more than opening one, wait What!!!");for(;q--;)b.push(E);q=0,C--,j=v,I=g,b.push(O)}else if(6===T){if(W.hasDec)throw new h.Exception("Two decimals are not allowed in one number");1!==W.type&&(W={value:0,type:1,pre:0},b.push(W),a(D,-1)),j=m,a(D,1),I=y,W.value+=F,W.hasDec=!0}else 7===T&&(j=v,I=g,a(D,1),b.push(O));8===T?(j=f,I=y,a(D,4).push(4),b.push(O),b.push(P)):9===T?(9===W.type?W.value===h.math.add?(W.value=F,W.show=L,a(D,1)):W.value===h.math.sub&&"-"===L&&(W.value=h.math.add,W.show="+",a(D,1)):5!==W.type&&7!==W.type&&1!==W.type&&3!==W.type&&13!==W.type?"-"===R&&(j=f,I=y,a(D,2).push(2),b.push(M),b.push(P)):(b.push(O),a(D,2)),j=f,I=y):10===T?(j=f,I=y,a(D,2),b.push(O)):11===T?(j=f,I=y,b.push(O)):12===T?(j=f,I=y,a(D,6).push(6),b.push(O),b.push(P)):13===T&&(j=v,I=g,b.push(O)),a(D,-1),N=n}for(S=D.length;S--&&0===D[S];)b.push(E),a(D,-1).pop();if(!0!==j[5])throw new h.Exception("complete the expression");for(;C--;)b.push(E);return b.push(E),new h(b)},e.exports=h},{"./math_function.js":3}],3:[function(t,e,n){var a=function(t){this.value=t};a.math={isDegree:!0,acos:function(t){return a.math.isDegree?180/Math.PI*Math.acos(t):Math.acos(t)},add:function(t,e){return t+e},asin:function(t){return a.math.isDegree?180/Math.PI*Math.asin(t):Math.asin(t)},atan:function(t){return a.math.isDegree?180/Math.PI*Math.atan(t):Math.atan(t)},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:function(t){return Math.log(t+Math.sqrt(t*t+1))},atanh:function(t){return Math.log((1+t)/(1-t))},C:function(t,e){var n=1,o=t-e,h=e;h<o&&(h=o,o=e);for(var u=h+1;u<=t;u++)n*=u;return n/a.math.fact(o)},changeSign:function(t){return-t},cos:function(t){return a.math.isDegree&&(t=a.math.toRadian(t)),Math.cos(t)},cosh:function(t){return(Math.pow(Math.E,t)+Math.pow(Math.E,-1*t))/2},div:function(t,e){return t/e},fact:function(t){if(t%1!=0)return"NaN";for(var e=1,n=2;n<=t;n++)e*=n;return e},inverse:function(t){return 1/t},log:function(t){return Math.log(t)/Math.log(10)},mod:function(t,e){return t%e},mul:function(t,e){return t*e},P:function(t,e){for(var n=1,a=Math.floor(t)-Math.floor(e)+1;a<=Math.floor(t);a++)n*=a;return n},Pi:function(t,e,n){for(var a=1,o=t;o<=e;o++)a*=Number(n.postfixEval({n:o}));return a},pow10x:function(t){for(var e=1;t--;)e*=10;return e},sigma:function(t,e,n){for(var a=0,o=t;o<=e;o++)a+=Number(n.postfixEval({n:o}));return a},sin:function(t){return a.math.isDegree&&(t=a.math.toRadian(t)),Math.sin(t)},sinh:function(t){return(Math.pow(Math.E,t)-Math.pow(Math.E,-1*t))/2},sub:function(t,e){return t-e},tan:function(t){return a.math.isDegree&&(t=a.math.toRadian(t)),Math.tan(t)},tanh:function(t){return a.sinha(t)/a.cosha(t)},toRadian:function(t){return t*Math.PI/180}},a.Exception=function(t){this.message=t},e.exports=a},{}],4:[function(t,e,n){var a=t("./lexer.js");a.prototype.toPostfix=function(){"use strict";for(var t,e,n,o,h,u=[],p=[{value:"(",type:4,pre:0}],s=this.value,r=1;r<s.length;r++)if(1===s[r].type||3===s[r].type||13===s[r].type)1===s[r].type&&(s[r].value=Number(s[r].value)),u.push(s[r]);else if(4===s[r].type)p.push(s[r]);else if(5===s[r].type)for(;4!==(e=p.pop()).type;)u.push(e);else if(11===s[r].type){for(;4!==(e=p.pop()).type;)u.push(e);p.push(e)}else{o=(t=s[r]).pre,n=(h=p[p.length-1]).pre;var i="Math.pow"==h.value&&"Math.pow"==t.value;if(o>n)p.push(t);else{for(;n>=o&&!i||i&&o<n;)e=p.pop(),h=p[p.length-1],u.push(e),n=h.pre,i="Math.pow"==t.value&&"Math.pow"==h.value;p.push(t)}}return new a(u)},e.exports=a},{"./lexer.js":2}],5:[function(t,e,n){var a=t("./postfix.js");a.prototype.postfixEval=function(t){"use strict";(t=t||{}).PI=Math.PI,t.E=Math.E;for(var e,n,o,h=[],u=this.value,p=void 0!==t.n,s=0;s<u.length;s++)1===u[s].type?h.push({value:u[s].value,type:1}):3===u[s].type?h.push({value:t[u[s].value],type:1}):0===u[s].type?void 0===h[h.length-1].type?h[h.length-1].value.push(u[s]):h[h.length-1].value=u[s].value(h[h.length-1].value):7===u[s].type?void 0===h[h.length-1].type?h[h.length-1].value.push(u[s]):h[h.length-1].value=u[s].value(h[h.length-1].value):8===u[s].type?(e=h.pop(),n=h.pop(),h.push({type:1,value:u[s].value(n.value,e.value)})):10===u[s].type?(e=h.pop(),void 0===(n=h.pop()).type?(n.value=n.concat(e),n.value.push(u[s]),h.push(n)):void 0===e.type?(e.unshift(n),e.push(u[s]),h.push(e)):h.push({type:1,value:u[s].value(n.value,e.value)})):2===u[s].type||9===u[s].type?(e=h.pop(),void 0===(n=h.pop()).type?(console.log(n),(n=n.concat(e)).push(u[s]),h.push(n)):void 0===e.type?(e.unshift(n),e.push(u[s]),h.push(e)):h.push({type:1,value:u[s].value(n.value,e.value)})):12===u[s].type?(void 0!==(e=h.pop()).type&&(e=[e]),n=h.pop(),o=h.pop(),h.push({type:1,value:u[s].value(o.value,n.value,new a(e))})):13===u[s].type&&(p?h.push({value:t[u[s].value],type:3}):h.push([u[s]]));if(h.length>1)throw new a.exception("Uncaught Syntax error");return h[0].value>1e15?"Infinity":parseFloat(h[0].value.toFixed(15))},a.eval=function(t,e,n){return void 0===e?this.lex(t).toPostfix().postfixEval():void 0===n?void 0!==e.length?this.lex(t,e).toPostfix().postfixEval():this.lex(t).toPostfix().postfixEval(e):this.lex(t,e).toPostfix().postfixEval(n)},e.exports=a},{"./postfix.js":4}]},{},[1])(1)});!function(t,a,i,r){"use_strict";var e=function(t,a,i,r,e){var o=this;o.field=a,o.currentCart=i,o.variableProductContainers=r,o.epoObject=e,o.$form=t,o.$wrap=t.closest(".tc-epo-element-product-container-wrap"),o.$attributeFields=t.find(".tc-epo-variable-product-selector"),o.$singleVariation=t.find(".tc-epo-element-single-variation"),o.$resetVariations=t.find(".tc-epo-element-variable-reset-variations"),o.variationData=t.data("product_variations"),o.useAjax=!1===o.variationData,o.xhr=!1,o.loading=!0,o.variationId=t.closest(".cpf_hide_element").find(".tc-epo-element-product-container-variation-id input.product-variation-id"),o.getChosenAttributes=o.getChosenAttributes.bind(o),o.findMatchingVariations=o.findMatchingVariations.bind(o),o.isMatch=o.isMatch.bind(o),o.toggleResetLink=o.toggleResetLink.bind(o),t.on("click.tc-variation-form",".tc-epo-element-variable-reset-variations",{variationForm:o},o.onReset),t.on("tc_hide_variation",{variationForm:o},o.onHide),t.on("tc_show_variation",{variationForm:o},o.onShow),t.on("tc_reset_data",{variationForm:o},o.onResetDisplayedVariation),t.on("tc_reset_image",{variationForm:o},o.onResetImage),t.on("change.tc-variation-form",".tc-epo-variable-product-selector",{variationForm:o},o.onChange),t.on("tc_found_variation.tc-variation-form",{variationForm:o},o.onFoundVariation),t.on("tc_check_variations.tc-variation-form",{variationForm:o},o.onFindVariation),t.on("tc_update_variation_values.tc-variation-form",{variationForm:o},o.onUpdateAttributes),t.on("refresh.tc-variation-form",{variationForm:o},o.onRefreshContainer),t.on("update_field.tc-variation-form",{variationForm:o},o.onUpdateField),o.variationId.val(""),setTimeout(function(){t.trigger("refresh"),t.trigger("tc_variation_form"),o.loading=!1},100)};e.prototype.onRefreshContainer=function(t,a){var i=t.data.variationForm;i.variableProductContainers.find(".tc-epo-element-product-container").removeClass("variations_form"),i.$form.addClass("variations_form"),i.$form.trigger("tc_check_variations.tc-variation-form")},e.prototype.onUpdateField=function(t,a){var i,r,e,o,n,c,s=t.data.variationForm;t.preventDefault(),a||(r=i=s.field,i.is("select")&&(r=i.find("option:selected")),e=0,o=0,n=0,c=0,i.data("price_set",1),r.data("associated_price_set",1),r.data("price_set",1),r.data("raw_price",o),r.data("raw_original_price",c),r.data("price",e),r.data("original_price",n),i.data("price-changed",1),s.$form.trigger({type:"tm-epo-update",norules:2}),s.currentCart.trigger({type:"tm-epo-update",norules:2}))},e.prototype.onReset=function(t){t.preventDefault(),t.data.variationForm.$attributeFields.val("").change(),t.data.variationForm.$form.trigger("tc_reset_data")},e.prototype.onHide=function(t){t.preventDefault()},e.prototype.onShow=function(t,a,i){t.preventDefault()},e.prototype.onResetDisplayedVariation=function(t){var a=t.data.variationForm;a.$form.find(".product-meta").find(".tc-product-sku").tc_reset_content(),a.$form.trigger("tc_reset_image"),a.$singleVariation.slideUp(200).trigger("tc_hide_variation")},e.prototype.onResetImage=function(t){t.data.variationForm.$form.tc_variations_image_update(!1)},e.prototype.onFindVariation=function(a){var i=a.data.variationForm,r=i.getChosenAttributes(),e=r.data;if(r.count===r.chosenCount)if(i.useAjax){if(void 0===typeof wc_add_to_cart_variation_params)return;i.xhr&&i.xhr.abort(),i.$form.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),e.product_id=parseInt(i.$form.data("product_id"),10),e.custom_data=i.$form.data("custom_data"),i.xhr=t.ajax({url:wc_add_to_cart_variation_params.wc_ajax_url.toString().replace("%%endpoint%%","get_variation"),type:"POST",data:e,success:function(t){t?i.$form.trigger("tc_found_variation",[t]):(i.$form.trigger("tc_reset_data"),r.chosenCount=0,i.loading||(i.$form.find(".tc-epo-element-single-variation").after('<p class="wc-no-matching-variations woocommerce-info">'+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>"),i.$form.find(".wc-no-matching-variations").slideDown(200),i.$form.trigger("update_field",[])))},complete:function(){i.$form.unblock()}})}else{i.$form.trigger("tc_update_variation_values");var o=i.findMatchingVariations(i.variationData,e).shift();o?i.$form.trigger("tc_found_variation",[o]):(i.$form.trigger("tc_reset_data"),r.chosenCount=0,i.loading||(i.$form.find(".tc-epo-element-single-variation").after('<p class="wc-no-matching-variations woocommerce-info">'+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>"),i.$form.find(".wc-no-matching-variations").slideDown(200)))}else i.variationId.val("").change(),i.$form.trigger("update_field",[]),i.$form.trigger("tc_update_variation_values"),i.$form.trigger("tc_reset_data");i.toggleResetLink(r.chosenCount>0)},e.prototype.onFoundVariation=function(a,i){var r=a.data.variationForm,e=r.$form.find(".product-meta").find(".tc-product-sku"),n=r.$wrap.find(".tm-quantity, .tm-quantity-alt"),c=n.find("input.tm-qty, input.tm-qty-alt"),s=t.epoAPI.math.toInt(c.attr("data-min")),_=t.epoAPI.math.toInt(c.attr("data-max")),d=!0,v=!1,m="";i.sku?e.tc_set_content(i.sku):e.tc_reset_content(),r.$form.tc_variations_image_update(i),i.variation_is_visible?(v=o("variation-template"),i.variation_id):v=o("unavailable-variation-template"),r.field.attr("data-no-price")&&(i.display_price="",i.display_regular_price="",i.price_html=""),m=(m=(m=v({variation:i})).replace("/*<![CDATA[*/","")).replace("/*]]>*/",""),r.$singleVariation.html(m),r.variationId.val(i.variation_id).change(),"yes"===i.is_sold_individually?(c.val("1").attr("min","1").attr("max","1"),n.hide()):(""!==i.min_qty&&i.min_qty<s&&(s=i.min_qty),""!==i.max_qty&&i.max_qty<_&&(_=i.max_qty),c.attr("min",s).attr("max",_),t.epoAPI.math.toInt(c.val())>_&&c.val(_),n.show()),i.is_purchasable&&i.is_in_stock&&i.variation_is_visible||(d=!1),t.trim(r.$singleVariation.text())?r.$singleVariation.slideDown(200).trigger("tc_show_variation",[i,d]):r.$singleVariation.show().trigger("tc_show_variation",[i,d]),r.$form.trigger("update_field",[i])},e.prototype.onChange=function(t){var a=t.data.variationForm;a.variationId.val("").change(),a.$form.find(".wc-no-matching-variations").remove(),a.useAjax?a.$form.trigger("tc_check_variations"):(a.$form.trigger("woocommerce_variation_select_change"),a.$form.trigger("tc_check_variations")),a.$form.trigger("woocommerce_variation_has_changed")},e.prototype.onUpdateAttributes=function(a){var i=a.data.variationForm,r=i.getChosenAttributes().data;i.useAjax||(i.$attributeFields.each(function(a,e){var o=t(e),n=o.data("attribute_name")||o.attr("name"),c=t(e).data("show_option_none"),s=":gt(0)",_=0,d=t("<select/>"),v=o.val()||"",m=!0;if(!o.data("attribute_html")){var l=o.clone();l.find("option").removeAttr("disabled attached").removeAttr("selected"),o.data("attribute_options",l.find("option"+s).get()),o.data("attribute_html",l.html())}d.html(o.data("attribute_html"));var f=t.extend(!0,{},r);f[n]="";var g=i.findMatchingVariations(i.variationData,f);for(var p in g)if(void 0!==g[p]){var u=g[p].attributes;for(var h in u)if(u.hasOwnProperty(h)){var w=u[h],b="";if(h===n)if(g[p].variation_is_active&&(b="enabled"),w){w=t("<div/>").html(w).text();var $=d.find("option");if($.length)for(var y=0,F=$.length;y<F;y++){var x=t($[y]);if(w===x.val()){x.addClass("attached "+b);break}}}else d.find("option:gt(0)").addClass("attached "+b)}}_=d.find("option.attached").length,v&&(m=!1,0!==_&&d.find("option.attached.enabled").each(function(){var a=t(this).val();if(v===a)return m=!0,!1})),_>0&&v&&m&&"no"===c&&(d.find("option:first").remove(),s=""),d.find("option"+s+":not(.attached)").remove(),o.html(d.html()),o.find("option"+s+":not(.enabled)").prop("disabled",!0),v?m?o.val(v):o.val("").change():o.val("")}),i.$form.trigger("woocommerce_update_variation_values"))},e.prototype.getChosenAttributes=function(){var a={},i=0,r=0;return this.$attributeFields.each(function(){var e=t(this).data("attribute_name")||t(this).attr("name"),o=t(this).val()||"";o.length>0&&r++,i++,a[e]=o}),{count:i,chosenCount:r,data:a}},e.prototype.findMatchingVariations=function(t,a){for(var i=[],r=0;r<t.length;r++){var e=t[r];this.isMatch(e.attributes,a)&&i.push(e)}return i},e.prototype.isMatch=function(t,a){var i=!0;for(var r in t)if(t.hasOwnProperty(r)){var e=t[r],o=a[r];void 0!==e&&void 0!==o&&0!==e.length&&0!==o.length&&e!==o&&(i=!1)}return i},e.prototype.toggleResetLink=function(t){t?"hidden"===this.$resetVariations.css("visibility")&&this.$resetVariations.css("visibility","visible").hide().fadeIn():this.$resetVariations.css("visibility","hidden")},t.fn.tc_product_variation_form=function(t,a,i,r){return new e(this,t,a,i,r),this.trigger("tc_product_variation_form"),this},t.fn.tc_set_content=function(t){void 0===this.attr("data-o_content")&&this.attr("data-o_content",this.text()),this.text(t)},t.fn.tc_reset_content=function(){void 0!==this.attr("data-o_content")&&this.text(this.attr("data-o_content"))},t.fn.tc_set_variation_attr=function(t,a){void 0===this.attr("data-o_"+t)&&this.attr("data-o_"+t,this.attr(t)?this.attr(t):""),!1===a?this.removeAttr(t):this.attr(t,a)},t.fn.tc_reset_variation_attr=function(t){void 0!==this.attr("data-o_"+t)&&this.attr(t,this.attr("data-o_"+t))},t.fn.tc_variations_image_update=function(t){var a=this,i=a.find(".tc-product-image, .woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=i.find(".wp-post-image"),e=i.find("a").eq(0);t&&t.image&&t.image.src&&t.image.src.length>1?(r.tc_set_variation_attr("src",t.image.src),r.tc_set_variation_attr("height",t.image.src_h),r.tc_set_variation_attr("width",t.image.src_w),r.tc_set_variation_attr("srcset",t.image.srcset),r.tc_set_variation_attr("sizes",t.image.sizes),r.tc_set_variation_attr("title",t.image.title),r.tc_set_variation_attr("data-caption",t.image.caption),r.tc_set_variation_attr("alt",t.image.alt),r.tc_set_variation_attr("data-src",t.image.full_src),r.tc_set_variation_attr("data-large_image",t.image.full_src),r.tc_set_variation_attr("data-large_image_width",t.image.full_src_w),r.tc_set_variation_attr("data-large_image_height",t.image.full_src_h),i.tc_set_variation_attr("data-thumb",t.image.src),e.tc_set_variation_attr("href",t.image.full_src)):a.tc_variations_image_reset()},t.fn.tc_variations_image_reset=function(){var t=this.find(".tc-product-image, .woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),a=t.find(".wp-post-image"),i=t.find("a").eq(0);a.tc_reset_variation_attr("src"),a.tc_reset_variation_attr("width"),a.tc_reset_variation_attr("height"),a.tc_reset_variation_attr("srcset"),a.tc_reset_variation_attr("sizes"),a.tc_reset_variation_attr("title"),a.tc_reset_variation_attr("data-caption"),a.tc_reset_variation_attr("alt"),a.tc_reset_variation_attr("data-src"),a.tc_reset_variation_attr("data-large_image"),a.tc_reset_variation_attr("data-large_image_width"),a.tc_reset_variation_attr("data-large_image_height"),t.tc_reset_variation_attr("data-thumb"),i.tc_reset_variation_attr("href")};var o=function(t){var r=i.getElementById("tmpl-"+t).textContent,e=!1;return e=e||/<#\s?data\./.test(r),e=e||/{{{?\s?data\.(?!variation\.).+}}}?/.test(r),(e=e||/{{{?\s?data\.variation\.[\w-]*[^\s}]/.test(r))?wp.template(t):function(t){var i=t.variation||{};return r.replace(/({{{?)\s?data\.variation\.([\w-]*)\s?(}}}?)/g,function(t,r,e,o){if(r.length!==o.length)return"";var n=i[e]||"";return 2===r.length?a.escape(n):n})}}}(window.jQuery,window,document);!function(t){"use strict";var e=function(e,i){return this.element=t(e),this.settings=t.extend({},t.fn.tcFloatBox.defaults,i),this.settings.type="<"+this.settings.type+">",this.top=0,this.left=0,this.ticking=!1,1===this.element.length&&(this.init(),this)};e.prototype={constructor:e,destroy:function(){var e=this.settings;return void 0!==this.instance&&(t.fn.tcFloatBox.instances.splice(this.instance,1),delete this.instance,e.hideelements&&t("embed, object, select").css({visibility:"visible"}),e._ovl&&(e._ovl.unbind(),e._ovl.remove(),delete e._ovl),t(e.floatboxID).remove(),this.element.removeData("tcfloatbox"),t(window).off("scroll.tcfloatbox"+this.instance),t(window).off("resize.tcfloatbox"+this.instance)),this},hide:function(){var e=this.settings;e.hideelements&&t("embed, object, select").css({visibility:"visible"}),!0===e.showoverlay&&e._ovl&&e._ovl.hide(),t(e.floatboxID).addClass("tc-closing").removeClass(e.animateIn).addClass(e.animateOut),t(e.floatboxID).animate({opacity:0},e.closefadeouttime,function(){t(e.floatboxID).hide(),t(e.floatboxID).removeClass("tc-closing").addClass("tc-closed")}),t(window).off("scroll.tcfloatbox"+this.instance),t(window).off("resize.tcfloatbox"+this.instance)},requestTick:function(){var t=this.settings;this.ticking||(t.refresh?setTimeout(this.requestAnimationFrame.bind(this),t.refresh):requestAnimationFrame(this.update),this.ticking=!0)},requestAnimationFrame:function(){requestAnimationFrame(this.update.bind(this))},update:function(){this.render(),this.ticking=!1},doit:function(){this.requestTick()},render:function(){var e,i,n,s=this.settings,o=t.epoAPI.dom.size();e="fixed"===s.refresh?{top:0,left:0}:t.epoAPI.dom.scroll(),i=parseInt(e.top+(o.visibleHeight-t(s.floatboxID).height())/2,10),n=parseInt(e.left+(o.visibleWidth-t(s.floatboxID).width())/2,10),i=parseInt((i-this.top)/s.fps,10),n=parseInt((n-this.left)/s.fps,10),this.top+=i,this.left+=n,t(s.floatboxID).css({top:this.top+"px",left:this.left+"px",opacity:1})},show:function(){var e,i,n=this.settings;1===this.element.length&&(void 0===this.instance&&this.init(),n.hideelements&&t("embed, object, select").css({visibility:"hidden"}),i=t.epoAPI.dom.size(),!0===n.showoverlay&&(n._ovl?n._ovl.show():(n._ovl=t('<div class="fl-overlay"></div>').css({zIndex:parseInt(n.zIndex,10)-1,opacity:n.overlayopacity}),n._ovl.appendTo("body"),n.ismodal||(n.cancelEvent||n.unique?n._ovl.on("click",this.applyCancelEvent.bind(this)):n._ovl.on("click",n.cancelfunc.bind(this))))),n.showfunc&&n.showfunc.call(),t(n.floatboxID).removeClass("tc-closing").addClass(n.animationBaseClass+" "+n.animateIn),"fixed"===n.refresh?(!1!==n.top?e=n.top:(e=parseInt((i.visibleHeight-t(n.floatboxID).height())/2,10),e+="px"),t(n.floatboxID).css({position:"fixed",top:e}),!1!==n.left&&t(n.floatboxID).css({left:n.left})):this.render())},applyCancelEvent:function(){var t=this.settings;!0===t.cancelEvent?this.destroy():"function"==typeof t.cancelEvent&&t.cancelEvent.call(this,this)},applyCancelEventFromKey:function(t){27===t.which&&this.applyCancelEvent()},applyUpdateEvent:function(){var t=this.settings;"function"==typeof t.updateEvent&&t.updateEvent.call(this,this)},applyUpdateEventFromKey:function(t){13===t.which&&this.applyUpdateEvent()},init:function(){var e,i,n,s=this.settings;1===this.element.length&&(t.fn.tcFloatBox.instances.length>0&&(s.zIndex=parseInt(t.fn.tcFloatBox.instances[t.fn.tcFloatBox.instances.length-1].zIndex,10)+100),this.instance=t.fn.tcFloatBox.instances.length,t.fn.tcFloatBox.instances.push(s),s.id=s.id+this.instance,s.floatboxID="#"+t.epoAPI.dom.id(s.id),this.hide(),e=t.epoAPI.dom.size(),i=t.epoAPI.dom.scroll(),t(s.type).attr("id",s.id).addClass(s.classname).html(s.data).appendTo(this.element),t(s.floatboxID).css({width:s.width,height:s.height}),n=parseInt(i.left+(e.visibleWidth-t(s.floatboxID).width())/2,10),t(s.floatboxID).css({top:"0px",left:n+"px","z-index":s.zIndex}),this.top=0,this.left=n,this.cancelfunc=s.cancelfunc,s.cancelEvent&&s.cancelClass&&(t(s.floatboxID).find(s.cancelClass).on("click",this.applyCancelEvent.bind(this)),s.isconfirm&&t(document).off("keyup.escape-"+s.floatboxID).on("keyup.escape-"+s.floatboxID,this.applyCancelEventFromKey.bind(this))),s.updateEvent&&s.updateClass&&(t(s.floatboxID).find(s.updateClass).on("click",this.applyUpdateEvent.bind(this)),s.isconfirm&&t(document).off("keyup.enter-"+s.floatboxID).on("keyup.enter-"+s.floatboxID,this.applyUpdateEventFromKey.bind(this))),this.show(),"fixed"!==s.refresh&&t(window).on("scroll.tcfloatbox"+this.instance,this.doit.bind(this)),t(window).on("resize.tcfloatbox"+this.instance,this.doit.bind(this)))}},t.fn.tcFloatBox=function(i){var n,s,o=t(this),a=o.data("tcfloatbox");return s="object"==typeof i?i:{},a||(a=new e(this,s),o.data("tcfloatbox",a)),"string"==typeof i&&(n=a[i].apply(a,[])),void 0===n?o:n},t.fn.tcFloatBox.defaults={id:"flasho",classname:"flasho",type:"div",data:"",width:"500px",height:"auto",closefadeouttime:1e3,animationBaseClass:"tm-animated",animateIn:"fadeIn",animateOut:"fadeOut",top:!1,left:!1,refresh:!1,fps:4,hideelements:!1,showoverlay:!0,zIndex:100100,ismodal:!1,cancelfunc:e.prototype.hide,showfunc:null,cancelEvent:!0,cancelClass:".floatbox-cancel",updateEvent:!1,updateClass:!1,unique:!0,overlayopacity:.8,isconfirm:!1},t.fn.tcFloatBox.instances=[],t.fn.tcFloatBox.Constructor=e,t.tcFloatBox=function(i){var n=t("body"),s=!1;return n.map(function(){return t(this).data("tcfloatbox")||""}).get().some(function(t){return""===t})||i.unique?(s=new e(n,i),n.data("tcfloatbox",s)):(s=n.data("tcfloatbox")).init(),s}}(window.jQuery);!function(t){"use strict";var i=function(i,o){return this.targets=t(i),this.settings=t.extend({},t.fn.tcToolTip.defaults,o),this.targets.length>0&&(this.init(),this)};i.prototype={constructor:i,removeTooltip:function(i,o,a){var e=this.settings;i.data("is_moving")||(o.removeClass(e.fadin).addClass(e.fadeout),o.animate({opacity:0},e.speed,function(){t(this).remove()}),i.data("tmtip-title")&&void 0===i.data("tm-tip-html")&&!i.attr("data-tm-tooltip-html")&&i.attr("title",i.data("tmtip-title")),t(window).off("scroll.tcToolTip resize.tcToolTip"))},initTooltip:function(i,o,a){var e,l,s,d,n,m=this.settings;i&&o&&1===i.length&&1===o.length&&1===i.data("tm-has-tm-tip")&&(1===a&&(e=void 0!==i.data("tm-tip-html")?i.data("tm-tip-html"):i.attr("data-tm-tooltip-html")?i.attr("data-tm-tooltip-html"):i.attr("title"),o.html(e),i.data("is_moving",!0)),o.find("aside").hide(),t(window).width()<1.5*o.outerWidth()?o.css("max-width",t(window).width()/2):o.css("max-width",340),o.find("aside").show(),l=t.epoAPI.dom.scroll(),s=i.offset().left+i.outerWidth()/2-o.outerWidth()/2,d=i.offset().top-o.outerHeight()-10,n=i.offset().top-l.top-o.outerHeight()-10,s<0?(s=i.offset().left+i.outerWidth()/2-20,o.addClass("left")):o.removeClass("left"),s+o.outerWidth()>t(window).width()?(s=i.offset().left-o.outerWidth()+i.outerWidth()/2+20,o.addClass("right")):o.removeClass("right"),d<0||n<0?(d=i.offset().top+i.outerHeight(),o.addClass("top")):o.removeClass("top"),t(window).trigger("tm_tooltip_show"),a?(o.css({left:s,top:d}),i.data("is_moving",!1)):o.css({left:s,top:d}).removeClass(m.fadeout).addClass(m.fadin))},show:function(i){var o,a,e;if(!i.data("is_moving"))return 1===i.data("tm-has-tm-tip")&&(void 0!==i.data("tm-tip-html")?(a=i.data("tm-tip-html"),i.attr("title")&&i.data("tmtip-title",i.attr("title")),i.removeAttr("title")):i.attr("data-tm-tooltip-html")?(a=i.attr("data-tm-tooltip-html"),i.attr("title")&&i.data("tmtip-title",i.attr("title")),i.removeAttr("title")):a=i.attr("title"),void 0!==a&&(t("#tm-tooltip").remove(),(o=t('<div id="tm-tooltip" class="tm-tip tm-animated"></div>')).css("opacity",0).html(a).appendTo("body"),(e=o.find("img")).length>0&&e.on("load",this.initTooltip.bind(this,i,o)),this.initTooltip(i,o),t(window).on("scroll.tcToolTip resize.tcToolTip",this.initTooltip.bind(this,i,o)),i.data("is_moving",!1),i.on("tmmovetooltip",this.initTooltip.bind(this,i,o,1)),i.on("mouseleave tmhidetooltip",this.removeTooltip.bind(this,i,o,a)),i.closest("label").on("mouseleave tmhidetooltip",this.removeTooltip.bind(this,i,o,a)),o.on("click",this.removeTooltip.bind(this,i,o,a)))),!1},init:function(){var i=this;this.targets.length>0&&this.targets.toArray().forEach(function(o){var a,e,l,s,d,n,m,r,h,p,c,f,g,u,v;void 0===(a=t(o)).data("tm-has-tm-tip")&&(e=a.attr("data-tm-tooltip-swatch"),l=a.attr("data-tm-tooltip-swatch-desc"),s=a.attr("data-tm-tooltip-swatch-lbl-desc"),d=a.attr("data-tm-tooltip-swatch-img"),n=a.attr("data-tm-tooltip-swatch-img-lbl"),m=a.attr("data-tm-tooltip-swatch-img-desc"),r=a.attr("data-tm-tooltip-swatch-img-lbl-desc"),a.data("tm-has-tm-tip",1),g=void 0!==a.attr("data-original")?a.attr("data-original"):void 0!==a.attr("src")?a.attr("src"):a[0].src,0===(p=a.closest(".tmcp-field-wrap")).length&&(p=a.closest(".cpf_hide_element")),0===p.length&&(p=a.closest(".cpf-section").find(".tc-section-inner-wrap")),0===(u=p.find(".checkbox-image-label,.radio-image-label,.tm-tip-html")).length&&(u=p.next(".checkbox-image-label,.radio-image-label,.tm-tip-html")),u=t(p=u),v="yes"===a.attr("data-tm-hide-label")||void 0===a.attr("data-tm-hide-label")||u.is(".tm-tip-html"),f="",0===(c=(c=a.closest(".tmcp-field-wrap")).find("[data-tm-tooltip-html]")).length?(c=a.closest(".tmcp-field-wrap").find(".tc-inline-description")).length>0&&(f=c.html()):f=c.attr("data-tm-tooltip-html"),e?h=u.html():l?h="<aside>"+f+"</aside>":s?h="<aside>"+u.html()+"</aside><aside>"+f+"</aside>":d?h='<img src="'+g+'">':n?h='<img src="'+g+'"><aside>'+u.html()+"</aside>":m?h='<img src="'+g+'"><aside>'+f+"</aside>":r&&(h='<img src="'+g+'"><aside>'+u.html()+"</aside><aside>"+f+"</aside>"),void 0!==h&&(a.data("tm-tip-html",h),v&&u.hide()),h=a.attr("data-tm-tooltip-html")?a.attr("data-tm-tooltip-html"):a.attr("title"),a.on("tc-tooltip-html-changed",function(){a.attr("data-tm-tooltip-html")?a.show():a.hide()}),a.closest("label").on("mouseenter tmshowtooltip",i.show.bind(i,a)),a.on("mouseenter tmshowtooltip",i.show.bind(i,a)))})}},t.fn.tcToolTip=function(o){var a,e,l,s=t(this),d=s.map(function(){return t(this).data("tctooltip")||""}).get().some(function(t){return""===t});return l="object"==typeof o?o:{},d&&(e=new i(this,l),s.data("tctooltip",e)),"string"==typeof o&&(a=e[o].apply(e,[])),void 0===a?s:a},t.fn.tcToolTip.defaults={fadin:"fadeIn",fadeout:"fadeout",speed:1500},t.fn.tcToolTip.instances=[],t.fn.tcToolTip.Constructor=i,t.tcToolTip=function(o,a){var e=!1;return o=o||t(".tm-tooltip"),o.map(function(){return t(this).data("tctooltip")||""}).get().some(function(t){return""===t})&&(e=new i(o,a),o.data("tctooltip",e)),e}}(window.jQuery);!function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery"],t):"object"==typeof window.module&&window.module.exports?window.module.exports=t(window.require("jquery")):t(window.jQuery)}(function(t){"use strict";var e,i={};return t.extend(t.fn,{tc_validate:function(e){var i;if(this.length)return(i=t.data(this[0],"tc_validator"))?i:(this.attr("novalidate","novalidate"),i=new t.tc_validator(e,this[0]),t.data(this[0],"tc_validator",i),i.settings.onsubmit&&(this.on("click.tc_validate",":submit",function(e){i.submitButton=e.currentTarget,t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.tc_validate",function(e){function s(){var s,a;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),!(i.settings.submitHandler&&!i.settings.debug)||(a=i.settings.submitHandler.call(i,i.currentForm,e),s&&s.remove(),void 0!==a&&a)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},tc_valid:function(){var e,i,s;return t(this[0]).is("form")?e=this.tc_validate().form():(s=[],e=!0,i=t(this[0].form).tc_validate(),this.each(function(){(e=i.element(this)&&e)||(s=s.concat(i.errorList))}),i.errorList=s),e},tc_rules:function(e,i){var s,a,r,n,o,l,h=this[0],d=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!==h&&(!h.form&&d&&(h.form=this.closest("form")[0],h.name=this.attr("name")),null!==h.form)){if(e)switch(s=t.data(h.form,"tc_validator").settings,a=s.rules,r=t.tc_validator.staticRules(h),e){case"add":t.extend(r,t.tc_validator.normalizeRule(i)),delete r.messages,a[h.name]=r,i.messages&&(s.messages[h.name]=t.extend(s.messages[h.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(t,e){l[e]=r[e],delete r[e]}),l):(delete a[h.name],r)}return(n=t.tc_validator.normalizeRules(t.extend({},t.tc_validator.classRules(h),t.tc_validator.attributeRules(h),t.tc_validator.dataRules(h),t.tc_validator.staticRules(h)),h)).required&&(o=n.required,delete n.required,n=t.extend({required:o},n)),n.remote&&(o=n.remote,delete n.remote,n=t.extend(n,{remote:o})),n}}}),t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var i=t(e).val();return null!==i&&!!t.trim(""+i)},unchecked:function(e){return!t(e).prop("checked")}}),t.tc_validator=function(e,i){this.settings=t.extend(!0,{},t.tc_validator.defaults,e),this.currentForm=i,this.init()},t.tc_validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.tc_validator.format.apply(this,i)}:void 0===i?e:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.tc_validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var s=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,s)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.tc_validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.tc_validator.format("Please enter no more than {0} characters."),maxlengthsingle:t.tc_validator.format("Please enter no more than {0} character."),minlength:t.tc_validator.format("Please enter at least {0} characters."),minlengthsingle:t.tc_validator.format("Please enter at least {0} character."),rangelength:t.tc_validator.format("Please enter a value between {0} and {1} characters long."),range:t.tc_validator.format("Please enter a value between {0} and {1}."),max:t.tc_validator.format("Please enter a value less than or equal to {0}."),min:t.tc_validator.format("Please enter a value greater than or equal to {0}."),step:t.tc_validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i,a,r,n=void 0!==t(e.data.that).attr("contenteditable")&&"false"!==t(e.data.that).attr("contenteditable");!e.data.that.form&&n&&(e.data.that.form=t(e.data.that).closest("form")[0],e.data.that.name=t(e.data.that).attr("name")),s===e.data.that.form&&(i=t.data(e.data.that.form,"tc_validator"),a="on"+e.type.replace(/^validate/,""),(r=i.settings)[a]&&!t(e.data.that).is(r.ignore)&&r[a].call(i,e.data.that,e))}var i,s=this.currentForm,a={};this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),this.groups={},t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){a[i]=e})}),i=this.settings.rules,t.each(i,function(e,s){i[e]=t.tc_validator.normalizeRule(s)}),t(this.currentForm).on("focusin.tc_validate focusout.tc_validate keyup.tc_validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",{that:this},e).on("click.tc_validate","select, option, [type='radio'], [type='checkbox']",{that:this},e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.tc_validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.tc_valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.tc_valid()},checkForm:function(){var t,e;for(this.prepareForm(),t=0,e=this.elements();e[t];t+=1)this.currentElements=e,this.check(e[t]);return this.tc_valid()},element:function(e){var i,s,a=this.clean(e),r=this.validationTargetFor(a),n=this,o=!0;return void 0===r?delete this.invalid[a.name]:(this.prepareElement(r),this.currentElements=t(r),(s=this.groups[r.name])&&t.each(this.groups,function(t,e){e===s&&t!==r.name&&(a=n.validationTargetFor(n.clean(n.findByName(t))))&&a.name in n.invalid&&(n.currentElements.push(a),o=n.check(a)&&o)}),i=!1!==this.check(r),o=o&&i,this.invalid[r.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!i)),o},showErrors:function(e){var i;e&&(i=this,t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){var e;t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors(),e=this.elements().removeData("previousValue").removeAttr("aria-invalid"),this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e+=1)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&(i+=1);return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},tc_valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var s=this.name||t(this).attr("name");return void 0!==t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable")&&(this.form=t(this).closest("form")[0],this.name=s),this.form===e.currentForm&&(!(s in i||!e.objectLength(t(this).tc_rules()))&&(i[s]=!0,!0))})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,s,a=t(e),r=e.type,n=void 0!==a.attr("contenteditable")&&"false"!==a.attr("contenteditable");return"radio"===r||"checkbox"===r?this.findByName(e.name).filter(":checked").val():"number"===r&&void 0!==e.validity?e.validity.badInput?"NaN":a.val():(i=n?a.text():a.val(),"file"===r?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(s=i.lastIndexOf("/"))>=0?i.substr(s+1):(s=i.lastIndexOf("\\"))>=0?i.substr(s+1):i:"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){var i,s,a,r,n,o,l,h;e=this.validationTargetFor(this.clean(e)),i=t(e).tc_rules(),s=t.map(i,function(t,e){return e}).length,a=!1,r=this.elementValue(e),"function"==typeof i.normalizer?h=i.normalizer:"function"==typeof this.settings.normalizer&&(h=this.settings.normalizer),h&&(r=h.call(e,r),delete i.normalizer);for(o in i)if(o){l={method:o,parameters:i[o]};try{if("dependency-mismatch"===(n=t.tc_validator.methods[o].call(this,r,e,l.parameters))&&1===s){a=!0;continue}if(a=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,l),!1}catch(t){throw t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+l.method+"' method."),t}}if(!a)return this.objectLength(i)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){var t;for(t=0;t<arguments.length;t+=1)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){var s,a,r="";return"string"==typeof i&&(i={method:i}),"minlength"!==i.method&&"maxlength"!==i.method||1!==i.parameters&&"1"!==i.parameters||(r="single"),s=this.findDefined(this.customMessage(e.name,i.method+r),this.customDataMessage(e,i.method+r),!this.settings.ignoreTitle&&e.title||void 0,t.tc_validator.messages[i.method+r],"<strong>Warning: No message defined for "+e.name+"</strong>"),a=/\$?\{(\d+)\}/g,"function"==typeof s?s=s.call(this,i.parameters,e):a.test(s)&&(s=t.tc_validator.format(s.replace(a,"{$1}"),i.parameters)),s},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t+=1)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t+=1)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t+=1)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s,a,r,n,o=this.errorsFor(e),l=this.idOrName(e),h=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(i)):(s=o=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(s):this.settings.errorPlacement?this.settings.errorPlacement.call(this,s,t(e)):s.insertAfter(e),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(r=o.attr("id"),h?h.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(h+=" "+r):h=r,t(e).attr("aria-describedby",h),(a=this.groups[e.name])&&(n=this,t.each(n.groups,function(e,i){i===a&&t("[name='"+n.escapeCssMeta(e)+"']",n.currentForm).attr("aria-describedby",o.attr("id"))})))),!i&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var i=this.escapeCssMeta(this.idOrName(e)),s=t(e).attr("aria-describedby"),a="label[for='"+i+"'], label[for='"+i+"'] *";return s&&(a=a+", #"+this.escapeCssMeta(s).replace(/\s+/g,", #")),this.errors().filter(a)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]\^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,i){return!!t(e,i.form).length},function:function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.tc_validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest+=1,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,i){this.pendingRequest-=1,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).trigger("submit"),this.submitButton&&t("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,i){return i="string"==typeof i&&i||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:i})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".tc_validate").removeData("tc_validator").find(".tc_validate-equalTo-blur").off(".tc_validate-equalTo").removeClass("validate-equalTo-blur").find(".tc_validate-lessThan-blur").off(".tc_validate-lessThan").removeClass("validate-lessThan-blur").find(".tc_validate-lessThanEqual-blur").off(".tc_validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".tc_validate-greaterThanEqual-blur").off(".tc_validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".tc_validate-greaterThan-blur").off(".tc_validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.tc_validator.classRuleSettings&&t.extend(i,t.tc_validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,s){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(s=Number(s),isNaN(s)&&(s=void 0)),s||0===s?t[i]=s:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,s,a={},r=t(e),n=e.getAttribute("type");for(i in t.tc_validator.methods)i&&("required"===i?(""===(s=e.getAttribute(i))&&(s=!0),s=!!s):s=r.attr(i),this.normalizeAttributeRule(a,n,i,s));return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(e){var i,s,a={},r=t(e),n=e.getAttribute("type");for(i in t.tc_validator.methods)i&&(""===(s=r.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()))&&(s=!0),this.normalizeAttributeRule(a,n,i,s));return a},staticRules:function(e){var i={},s=t.data(e.form,"tc_validator");return s.settings.rules&&(i=t.tc_validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){var s;return t.each(e,function(a,r){if(!1!==r){if(r.param||r.depends){switch(s=!0,typeof r.depends){case"string":s=!!t(r.depends,i.form).length;break;case"function":s=r.depends.call(i,i)}s?e[a]=void 0===r.param||r.param:(t.data(i.form,"tc_validator").resetElements(t(i)),delete e[a])}}else delete e[a]}),t.each(e,function(s,a){e[s]=t.isFunction(a)&&"normalizer"!==s?a(i):a}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var t;e[this]&&(Array.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(t=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(t[0]),Number(t[1])]))}),t.tc_validator.autoCreateRanges&&(null!==e.min&&null!==e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!==e.minlength&&null!==e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){var i;return"string"==typeof e&&(i={},t.each(e.split(/\s/),function(){i[this]=!0}),e=i),e},addMethod:function(e,i,s){t.tc_validator.methods[e]=i,t.tc_validator.messages[e]=void 0!==s?s:t.tc_validator.messages[e],i.length<3&&t.tc_validator.addClassRules(e,t.tc_validator.normalizeRule(e))},methods:{required:function(e,i,s){var a;return this.depend(s,i)?"select"===i.nodeName.toLowerCase()?(a=t(i).val())&&a.length>0:this.checkable(i)?this.getLength(e,i)>0:void 0!==e&&null!==e&&e.length>0:"dependency-mismatch"},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?\^_`{|}~\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,i){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s>=i},maxlength:function(t,e,i){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s<=i},rangelength:function(t,e,i){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s>=i[0]&&s<=i[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(e,i,s){var a,r=t(i).attr("type"),n="Step attribute on input type "+r+" is not supported.",o=["text","number","range"],l=new RegExp("\\b"+r+"\\b"),h=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},d=function(t){return Math.round(t*Math.pow(10,a))},u=!0;if(r&&!l.test(o.join()))throw new Error(n);return a=h(s),(h(e)>a||d(e)%d(s)!=0)&&(u=!1),this.optional(i)||u},equalTo:function(e,i,s){var a=t(s);return this.settings.onfocusout&&a.not(".tc_validate-equalTo-blur").length&&a.addClass("validate-equalTo-blur").on("blur.tc_validate-equalTo",function(){t(i).tc_valid()}),e===a.val()},remote:function(e,i,s,a){var r,n,o,l;return this.optional(i)?"dependency-mismatch":(a="string"==typeof a&&a||"remote",r=this.previousValue(i,a),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=r.originalMessage||this.settings.messages[i.name][a],this.settings.messages[i.name][a]=r.message,s="string"==typeof s&&{url:s}||s,l=t.param(t.extend({data:e},s.data)),r.old===l?r.valid:(r.old=l,n=this,this.startRequest(i),o={},o[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:n.currentForm,success:function(t){var s,o,l,h=!0===t||"true"===t;n.settings.messages[i.name][a]=r.originalMessage,h?(l=n.formSubmitted,n.resetInternals(),n.toHide=n.errorsFor(i),n.formSubmitted=l,n.successList.push(i),n.invalid[i.name]=!1,n.showErrors()):(s={},o=t||n.defaultMessage(i,{method:a,parameters:e}),r.message=o,s[i.name]=o,n.invalid[i.name]=!0,n.showErrors(s)),r.valid=h,n.stopRequest(i,h)}},s)),"pending"))}}}),t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,s){var a=t.port;"abort"===t.mode&&(i[a]&&i[a].abort(),i[a]=s)}):(e=t.ajax,t.ajax=function(s){var a=("mode"in s?s:t.ajaxSettings).mode,r=("port"in s?s:t.ajaxSettings).port;return"abort"===a?(i[r]&&i[r].abort(),i[r]=e.apply(this,arguments),i[r]):e.apply(this,arguments)}),t});!function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";function e(t){for(var e,a;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(a=parseInt(t.css("zIndex"),10),!isNaN(a)&&0!==a))return a;t=t.parent()}return 0}function a(e){t.tm_datepicker._isDisabledDatepicker(r.inline?r.dpDiv.parent()[0]:r.input[0])||(t(e).parents(".ui-tm-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(e).addClass("ui-state-hover"),-1!==e.className.indexOf("ui-tm-datepicker-prev")&&t(e).addClass("ui-tm-datepicker-prev-hover"),-1!==e.className.indexOf("ui-tm-datepicker-next")&&t(e).addClass("ui-tm-datepicker-next-hover"))}function i(e){var i="button, .ui-tm-datepicker-prev, .ui-tm-datepicker-next, .ui-tm-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-tm-datepicker-prev")&&t(this).removeClass("ui-tm-datepicker-prev-hover"),-1!==this.className.indexOf("ui-tm-datepicker-next")&&t(this).removeClass("ui-tm-datepicker-next-hover")}).on("mouseover",i,function(){a(this)})}function s(e,a){var i;t.extend(e,a);for(i in a)null===a[i]&&(e[i]=a[i]);return e}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-tm-datepicker-div",this._inlineClass="ui-tm-datepicker-inline",this._appendClass="ui-tm-datepicker-append",this._triggerClass="ui-tm-datepicker-trigger",this._dialogClass="ui-tm-datepicker-dialog",this._disableClass="ui-tm-datepicker-disabled",this._unselectableClass="ui-tm-datepicker-unselectable",this._currentClass="ui-tm-datepicker-current-day",this._dayOverClass="ui-tm-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-tm-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}var r;t.ui.tm_datepicker=t.ui.tm_datepicker||{},t.ui.tm_datepicker.version||(t.extend(t.ui,{tm_datepicker:{version:"1.11.4"}}),t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return s(this._defaults,t||{}),this},_attachDatepicker:function(e,a){var i,s,n;s="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(n=this._newInst(t(e),s)).settings=t.extend({},a||{}),"input"===i?this._connectDatepicker(e,n):s&&this._inlineDatepicker(e,n)},_newInst:function(e,a){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?i(t("<div class='"+this._inlineClass+" ui-tm-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,a){var i=t(e);a.append=t([]),a.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,a),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(a),t.data(e,"datepicker",a),a.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,a){var i,s,n,r=this._get(a,"appendText"),d=this._get(a,"isRTL");a.append&&a.append.remove(),r&&(a.append=t("<span class='"+this._appendClass+"'>"+r+"</span>"),e[d?"before":"after"](a.append)),e.off("focus",this._showDatepicker),a.trigger&&a.trigger.remove(),"focus"!==(i=this._get(a,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(s=this._get(a,"buttonText"),n=this._get(a,"buttonImage"),a.trigger=t(this._get(a,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(n?t("<img/>").attr({src:n,alt:s,title:s}):s)),e[d?"before":"after"](a.trigger),a.trigger.on("click",function(){return t.tm_datepicker._datepickerShowing&&t.tm_datepicker._lastInput===e[0]?t.tm_datepicker._hideDatepicker():t.tm_datepicker._datepickerShowing&&t.tm_datepicker._lastInput!==e[0]?(t.tm_datepicker._hideDatepicker(),t.tm_datepicker._showDatepicker(e[0])):t.tm_datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){var e,a,i,s,n,r=this._get(t,"dateFormat");this._get(t,"autoSize")&&!t.inline&&(n=new Date(2009,11,20),(r=this._get(t,"dateFormat")).match(/[DM]/)&&(e=function(t){for(a=0,i=0,s=0;s<t.length;s+=1)t[s].length>a&&(a=t[s].length,i=s);return i},n.setMonth(e(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),t.input.attr("size",this._formatDate(t,n).length))},_inlineDatepicker:function(e,a){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(a.dpDiv),t.data(e,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(e),a.dpDiv.css("display","block"))},_dialogDatepicker:function(e,a,i,n,r){var d,c,l,o,u,h=this._dialogInst;return h||(this.uuid+=1,d="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+d+"' />"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),h=this._newInst(this._dialogInput,!1),this._dialogInst=h,h.settings={},t.data(this._dialogInput[0],"datepicker",h)),s(h.settings,n||{}),a=a&&a.constructor===Date?this._formatDate(h,a):a,this._dialogInput.val(a),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,o=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+o,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var a,i=t(e),s=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===a?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==a&&"span"!==a||i.removeClass(this.markerClassName).empty(),r===s&&(r=null))},_enableDatepicker:function(e){var a,i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&("input"===(a=e.nodeName.toLowerCase())?(e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==a&&"span"!==a||((i=s.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-tm-datepicker-month, select.ui-tm-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var a,i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&("input"===(a=e.nodeName.toLowerCase())?(e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==a&&"span"!==a||((i=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-tm-datepicker-month, select.ui-tm-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){var e;if(!t)return!1;for(e=0;e<this._disabledInputs.length;e+=1)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,a,i){var n,r,d,c,l=this._getInst(e);if(2===arguments.length&&"string"==typeof a)return"defaults"===a?t.extend({},t.tm_datepicker._defaults):l?"all"===a?t.extend({},l.settings):this._get(l,a):null;n=a||{},"string"==typeof a&&((n={})[a]=i),l&&(this._curInst===l&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),d=this._getMinMaxDate(l,"min"),c=this._getMinMaxDate(l,"max"),s(l.settings,n),null!==d&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,d)),null!==c&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,c)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,r),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(t,e,a){this._optionDatepicker(t,e,a)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var a=this._getInst(t);a&&(this._setDate(a,e),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(t,e){var a=this._getInst(t);return a&&!a.inline&&this._setDateFromField(a,e),a?this._getDate(a):null},_doKeyDown:function(e){var a,i,s,n=t.tm_datepicker._getInst(e.target),r=!0,d=n.dpDiv.is(".ui-tm-datepicker-rtl");if(n._keyEvent=!0,t.tm_datepicker._datepickerShowing)switch(e.keyCode){case 9:t.tm_datepicker._hideDatepicker(),r=!1;break;case 13:return(s=t("td."+t.tm_datepicker._dayOverClass+":not(."+t.tm_datepicker._currentClass+")",n.dpDiv))[0]&&t.tm_datepicker._selectDay(e.target,n.selectedMonth,n.selectedYear,s[0]),(a=t.tm_datepicker._get(n,"onSelect"))?(i=t.tm_datepicker._formatDate(n),a.apply(n.input?n.input[0]:null,[i,n])):t.tm_datepicker._hideDatepicker(),!1;case 27:t.tm_datepicker._hideDatepicker();break;case 33:t.tm_datepicker._adjustDate(e.target,e.ctrlKey?-t.tm_datepicker._get(n,"stepBigMonths"):-t.tm_datepicker._get(n,"stepMonths"),"M");break;case 34:t.tm_datepicker._adjustDate(e.target,e.ctrlKey?+t.tm_datepicker._get(n,"stepBigMonths"):+t.tm_datepicker._get(n,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._clearDate(e.target),r=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._gotoToday(e.target),r=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,d?1:-1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.tm_datepicker._adjustDate(e.target,e.ctrlKey?-t.tm_datepicker._get(n,"stepBigMonths"):-t.tm_datepicker._get(n,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,-7,"D"),r=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,d?-1:1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.tm_datepicker._adjustDate(e.target,e.ctrlKey?+t.tm_datepicker._get(n,"stepBigMonths"):+t.tm_datepicker._get(n,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,7,"D"),r=e.ctrlKey||e.metaKey;break;default:r=!1}else 36===e.keyCode&&e.ctrlKey?t.tm_datepicker._showDatepicker(this):r=!1;r&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var a,i,s=t.tm_datepicker._getInst(e.target);if(t.tm_datepicker._get(s,"constrainInput"))return a=t.tm_datepicker._possibleChars(t.tm_datepicker._get(s,"dateFormat")),i=String.fromCharCode(null===e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!a||a.indexOf(i)>-1},_doKeyUp:function(e){var a=t.tm_datepicker._getInst(e.target);if(a.input.val()!==a.lastVal)try{t.tm_datepicker.parseDate(t.tm_datepicker._get(a,"dateFormat"),a.input?a.input.val():null,t.tm_datepicker._getFormatConfig(a))&&(t.tm_datepicker._setDateFromField(a),t.tm_datepicker._updateAlternate(a),t.tm_datepicker._updateDatepicker(a))}catch(t){return!1}return!0},_showDatepicker:function(a){var i,n,r,d,c,l,o;"input"!==(a=a.target||a).nodeName.toLowerCase()&&(a=t("input",a.parentNode)[0]),t.tm_datepicker._isDisabledDatepicker(a)||t.tm_datepicker._lastInput===a||(i=t.tm_datepicker._getInst(a),t.tm_datepicker._curInst&&t.tm_datepicker._curInst!==i&&(t.tm_datepicker._curInst.dpDiv.stop(!0,!0),i&&t.tm_datepicker._datepickerShowing&&t.tm_datepicker._hideDatepicker(t.tm_datepicker._curInst.input[0])),!1!==(r=(n=t.tm_datepicker._get(i,"beforeShow"))?n.apply(a,[a,i]):{})&&(s(i.settings,r),i.lastVal=null,t.tm_datepicker._lastInput=a,t.tm_datepicker._setDateFromField(i),t.tm_datepicker._inDialog&&(a.value=""),t.tm_datepicker._pos||(t.tm_datepicker._pos=t.tm_datepicker._findPos(a),t.tm_datepicker._pos[1]+=a.offsetHeight),d=!1,t(a).parents().each(function(){return!(d=d||"fixed"===t(this).css("position"))}),c={left:t.tm_datepicker._pos[0],top:t.tm_datepicker._pos[1]},t.tm_datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.tm_datepicker._updateDatepicker(i),c=t.tm_datepicker._checkOffset(i,c,d),i.dpDiv.css({position:t.tm_datepicker._inDialog&&t.blockUI?"static":d?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"}),i.inline||(l=t.tm_datepicker._get(i,"showAnim"),o=t.tm_datepicker._get(i,"duration"),i.dpDiv.css("z-index",e(t(a))+1),t.tm_datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.tm_datepicker._get(i,"showOptions"),o):i.dpDiv[l||"show"](l?o:null),t.tm_datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.tm_datepicker._curInst=i)))},_updateDatepicker:function(e){var i,s,n,d;this.maxRows=4,r=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),n=(s=this._getNumberOfMonths(e))[1],(d=e.dpDiv.find("."+this._dayOverClass+" a")).length>0&&a.apply(d.get(0),[d.get(0)]),e.dpDiv.removeClass("ui-tm-datepicker-multi-2 ui-tm-datepicker-multi-3 ui-tm-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-tm-datepicker-multi-"+n).css("width",17*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-tm-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-tm-datepicker-rtl"),e===t.tm_datepicker._curInst&&t.tm_datepicker._datepickerShowing&&t.tm_datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-tm-datepicker-year:first").replaceWith(e.yearshtml),i=null,e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,a,i){var s=e.dpDiv.outerWidth(),n=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,d=e.input?e.input.outerHeight():0,c=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return a.left-=this._get(e,"isRTL")?s-r:0,a.left-=i&&a.left===e.input.offset().left?t(document).scrollLeft():0,a.top-=i&&a.top===e.input.offset().top+d?t(document).scrollTop():0,a.left-=Math.min(a.left,a.left+s>c&&c>s?Math.abs(a.left+s-c):0),a.top-=Math.min(a.top,a.top+n>l&&l>n?Math.abs(n+d):0),a},_findPos:function(e){for(var a,i=this._getInst(e),s=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return a=t(e).offset(),[a.left,a.top]},_hideDatepicker:function(e){var a,i,s,n,r=this._curInst;!r||e&&r!==t.data(e,"datepicker")||this._datepickerShowing&&(a=this._get(r,"showAnim"),i=this._get(r,"duration"),s=function(){t.tm_datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[a]||t.effects[a])?r.dpDiv.hide(a,t.tm_datepicker._get(r,"showOptions"),i,s):r.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?i:null,s),a||s(),this._datepickerShowing=!1,(n=this._get(r,"onClose"))&&n.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-tm-datepicker-calendar")},_checkExternalClick:function(e){var a,i;t.tm_datepicker._curInst&&(a=t(e.target),i=t.tm_datepicker._getInst(a[0]),(a[0].id===t.tm_datepicker._mainDivId||0!==a.parents("#"+t.tm_datepicker._mainDivId).length||a.hasClass(t.tm_datepicker.markerClassName)||a.closest("."+t.tm_datepicker._triggerClass).length||!t.tm_datepicker._datepickerShowing||t.tm_datepicker._inDialog&&t.blockUI)&&(!a.hasClass(t.tm_datepicker.markerClassName)||t.tm_datepicker._curInst===i)||t.tm_datepicker._hideDatepicker())},_adjustDate:function(e,a,i){var s=t(e),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,a+("M"===i?this._get(n,"showCurrentAtPos"):0),i),this._updateDatepicker(n))},_gotoToday:function(e){var a,i=t(e),s=this._getInst(i[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.currentMonth,s.selectedMonth=s.currentMonth,s.drawYear=s.currentYear,s.selectedYear=s.currentYear):(a=new Date,s.selectedDay=a.getDate(),s.drawMonth=a.getMonth(),s.selectedMonth=s.drawMonth,s.drawYear=a.getFullYear(),s.selectedYear=s.drawYear),this._notifyChange(s),this._adjustDate(i)},_selectMonthYear:function(e,a,i){var s=t(e),n=this._getInst(s[0]);n["selected"+("M"===i?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),n["draw"+("M"===i?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(e,a,i,s){var n,r=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((n=this._getInst(r[0])).selectedDay=t("a",s).html(),n.currentDay=n.selectedDay,n.selectedMonth=a,n.currentMonth=a,n.selectedYear=i,n.currentYear=i,this._selectDate(e,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(e){var a=t(e);this._selectDate(a,"")},_selectDate:function(e,a){var i,s=t(e),n=this._getInst(s[0]);a=null!==a?a:this._formatDate(n),n.input&&n.input.val(a),this._updateAlternate(n),(i=this._get(n,"onSelect"))?i.apply(n.input?n.input[0]:null,[a,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var a,i,s,n=this._get(e,"altField");n&&(a=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),s=this.formatDate(a,i,this._getFormatConfig(e)),t(n).val(s))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,a=new Date(t.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),e=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((e-a)/864e5)/7)+1},parseDate:function(e,a,i){var s,n,r,d,c,l,o,u,h,p,m,_,g,f,k,D=0,v=-1,y=-1,M=-1,b=-1,w=!1;if(null===e||null===a)throw"Invalid arguments";if(""===(a="object"==typeof a?a.toString():a+""))return null;for(c="string"!=typeof(d=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff)?d:(new Date).getFullYear()%100+parseInt(d,10),l=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,u=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,h=(i?i.monthNames:null)||this._defaults.monthNames,m=function(t){var a=s+1<e.length&&e.charAt(s+1)===t;return a&&(s+=1),a},_=function(t){var e=m(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s="y"===t?i:1,n=new RegExp("^\\d{"+s+","+i+"}"),r=a.substring(D).match(n);if(!r)throw"Missing number at position "+D;return D+=r[0].length,parseInt(r[0],10)},g=function(e,i,s){var n=-1,r=t.map(m(e)?s:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,e){var i=e[1];if(a.substr(D,i.length).toLowerCase()===i.toLowerCase())return n=e[0],D+=i.length,!1}),-1!==n)return n+1;throw"Unknown name at position "+D},f=function(){if(a.charAt(D)!==e.charAt(s))throw"Unexpected literal at position "+D;D+=1},s=0;s<e.length;s+=1)if(w)"'"!==e.charAt(s)||m("'")?f():w=!1;else switch(e.charAt(s)){case"d":M=_("d");break;case"D":g("D",l,o);break;case"o":b=_("o");break;case"m":y=_("m");break;case"M":y=g("M",u,h);break;case"y":v=_("y");break;case"@":v=(p=new Date(_("@"))).getFullYear(),y=p.getMonth()+1,M=p.getDate();break;case"!":v=(p=new Date((_("!")-this._ticksTo1970)/1e4)).getFullYear(),y=p.getMonth()+1,M=p.getDate();break;case"'":m("'")?f():w=!0;break;default:f()}if(D<a.length&&(r=a.substr(D),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===v?v=(new Date).getFullYear():v<100&&(v+=(new Date).getFullYear()-(new Date).getFullYear()%100+(v<=c?0:-100)),b>-1){y=1,M=b,k=!0;do{M<=(n=this._getDaysInMonth(v,y-1))?k=!1:(y+=1,M-=n)}while(k)}if((p=this._daylightSavingAdjust(new Date(v,y-1,M))).getFullYear()!==v||p.getMonth()+1!==y||p.getDate()!==M)throw"Invalid date";return p},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,a){var i,s=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,n=(a?a.dayNames:null)||this._defaults.dayNames,r=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,d=(a?a.monthNames:null)||this._defaults.monthNames,c=function(e){var a=i+1<t.length&&t.charAt(i+1)===e;return a&&(i+=1),a},l=function(t,e,a){var i=""+e;if(c(t))for(;i.length<a;)i="0"+i;return i},o=function(t,e,a,i){return c(t)?i[e]:a[e]},u="",h=!1;if(!e)return"";if(e)for(i=0;i<t.length;i+=1)if(h)"'"!==t.charAt(i)||c("'")?u+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=o("D",e.getDay(),s,n);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=o("M",e.getMonth(),r,d);break;case"y":u+=c("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":c("'")?u+="'":h=!0;break;default:u+=t.charAt(i)}return u},_possibleChars:function(t){var e,a="",i=!1,s=function(a){var i=e+1<t.length&&t.charAt(e+1)===a;return i&&(e+=1),i};for(e=0;e<t.length;e+=1)if(i)"'"!==t.charAt(e)||s("'")?a+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":s("'")?a+="'":i=!0;break;default:a+=t.charAt(e)}return a},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){var a,i,s,n,r;if(t.input.val()!==t.lastVal){a=this._get(t,"dateFormat"),i=t.input?t.input.val():null,n=s=this._getDefaultDate(t),r=this._getFormatConfig(t),t.lastVal=i;try{n=this.parseDate(a,i,r)||s}catch(t){i=e?"":i}t.selectedDay=n.getDate(),t.selectedMonth=n.getMonth(),t.drawMonth=t.selectedMonth,t.selectedYear=n.getFullYear(),t.drawYear=t.selectedYear,t.currentDay=i?n.getDate():0,t.currentMonth=i?n.getMonth():0,t.currentYear=i?n.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,a,i){var s=null===a||""===a?i:"string"==typeof a?function(a){var i,s,n,r,d,c;try{return t.tm_datepicker.parseDate(t.tm_datepicker._get(e,"dateFormat"),a,t.tm_datepicker._getFormatConfig(e))}catch(t){}for(s=(i=(a.toLowerCase().match(/^c/)?t.tm_datepicker._getDate(e):null)||new Date).getFullYear(),n=i.getMonth(),r=i.getDate(),c=(d=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g).exec(a);c;){switch(c[2]||"d"){case"d":case"D":r+=parseInt(c[1],10);break;case"w":case"W":r+=7*parseInt(c[1],10);break;case"m":case"M":n+=parseInt(c[1],10),r=Math.min(r,t.tm_datepicker._getDaysInMonth(s,n));break;case"y":case"Y":s+=parseInt(c[1],10),r=Math.min(r,t.tm_datepicker._getDaysInMonth(s,n))}c=d.exec(a)}return new Date(s,n,r)}(a):"number"==typeof a?Number.isFinite(a)?function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(a):i:new Date(a.getTime());return(s=s&&"Invalid Date"===s.toString()?i:s)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,a){var i=!e,s=t.selectedMonth,n=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.currentDay=r.getDate(),t.selectedDay=t.currentDay,t.currentMonth=r.getMonth(),t.drawMonth=t.currentMonth,t.selectedMonth=t.currentMonth,t.currentYear=r.getFullYear(),t.drawYear=t.currentYear,t.selectedYear=t.currentYear,s===t.selectedMonth&&n===t.selectedYear||a||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var a=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prevM:function(){t.tm_datepicker._adjustDate(i,-1,"M")},nextM:function(){t.tm_datepicker._adjustDate(i,1,"M")},prevY:function(){t.tm_datepicker._adjustDate(i,-1,"Y")},nextY:function(){t.tm_datepicker._adjustDate(i,1,"Y")},prev:function(){t.tm_datepicker._adjustDate(i,-a,"M")},next:function(){t.tm_datepicker._adjustDate(i,+a,"M")},hide:function(){t.tm_datepicker._hideDatepicker()},today:function(){},selectDay:function(){return t.tm_datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.tm_datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.tm_datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_tm_canAdjustMonth:function(t,e,a,i){var s=this._daylightSavingAdjust(new Date(a,i+e,1));return e<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_generateHTML:function(t){var e,a,i,s,n,r,d,c,l,o,u,h,p,m,_,g,f,k,D,v,y,M,b,w,I,C,x,Y,F,S,N,A,T,j,K,O,R,L,W,E,H,P,U,z,B,J,V,q,Q=new Date,X=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth(),Q.getDate())),Z=this._get(t,"isRTL"),$=this._get(t,"showButtonPanel"),G=this._get(t,"hideIfNoPrevNext"),tt=this._get(t,"navigationAsDateFormat"),et=this._getNumberOfMonths(t),at=this._get(t,"showCurrentAtPos"),it=this._get(t,"stepMonths"),st=1!==et[0]||1!==et[1],nt=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),rt=this._getMinMaxDate(t,"min"),dt=this._getMinMaxDate(t,"max"),ct=t.drawMonth-at,lt=t.drawYear;if(ct<0&&(ct+=12,lt-=1),dt)for(e=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth()-et[0]*et[1]+1,dt.getDate())),e=rt&&e<rt?rt:e;this._daylightSavingAdjust(new Date(lt,ct,1))>e;)(ct-=1)<0&&(ct=11,lt-=1);for(t.drawMonth=ct,t.drawYear=lt,a=this._get(t,"prevText"),a=tt?this.formatDate(a,this._daylightSavingAdjust(new Date(lt,ct-it,1)),this._getFormatConfig(t)):a,i=this._canAdjustMonth(t,-1,lt,ct)?"<a class='ui-tm-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"e":"w")+"'>"+a+"</span></a>":G?"":"<a class='ui-tm-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"e":"w")+"'>"+a+"</span></a>",s=this._get(t,"nextText"),s=tt?this.formatDate(s,this._daylightSavingAdjust(new Date(lt,ct+it,1)),this._getFormatConfig(t)):s,n=this._canAdjustMonth(t,1,lt,ct)?"<a class='ui-tm-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"w":"e")+"'>"+s+"</span></a>":G?"":"<a class='ui-tm-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"w":"e")+"'>"+s+"</span></a>",r=this._get(t,"currentText"),d=this._get(t,"gotoCurrent")&&t.currentDay?nt:X,r=tt?this.formatDate(r,d,this._getFormatConfig(t)):r,U=t.inline?"":"<div class='tm-ui-dp-btn-wrap tm-ui-dp-close'><div role='button' class='tm-ui-dp-btn ui-tm-datepicker-close' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</div></div>",z=$?"<div class='tm-ui-dp-buttonpane'>"+(Z?U:"")+(this._isInRange(t,d)?"<div class='tm-ui-dp-btn-wrap tm-ui-dp-current'><div role='button' class='tm-ui-dp-btn ui-tm-datepicker-current' data-handler='today' data-event='click'>"+r+"</div></div>":"")+(Z?"":U)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,l=this._get(t,"showWeek"),o=this._get(t,"dayNames"),u=this._get(t,"dayNamesMin"),h=this._get(t,"monthNames"),p=this._get(t,"beforeShowDay"),m=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),g=this._getDefaultDate(t),f="",B=this._tm_canAdjustMonth(t,-1,lt,ct),J=this._tm_canAdjustMonth(t,1,lt,ct),V=this._tm_canAdjustMonth(t,-12,lt,ct),q=this._tm_canAdjustMonth(t,12,lt,ct),W='<div class="tm-ui-dp-button-prev tm-ui-dp-button"><div '+(B?'data-handler="prevM" data-event="click" ':"")+'aria-label="'+a+'" class="'+(B?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-left" tabindex="0" role="button"></div></div>',E='<div class="tm-ui-dp-button-next tm-ui-dp-button"><div '+(J?'data-handler="nextM" data-event="click" ':"")+'aria-label="'+s+'" class="'+(J?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-right" tabindex="0" role="button"></div></div>',H='<div class="tm-ui-dp-button-prev tm-ui-dp-button"><div '+(V?'data-handler="prevY" data-event="click" ':"")+'aria-label="'+a+'" class="'+(V?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-left" tabindex="0" role="button"></div></div>',P='<div class="tm-ui-dp-button-next tm-ui-dp-button"><div '+(q?'data-handler="nextY" data-event="click" ':"")+'aria-label="'+s+'" class="'+(q?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-right" tabindex="0" role="button"></div></div>',R=G?"":'<div class="tm-ui-dp-title-button">'+(Z?E:W)+'<span aria-label="'+h[ct]+'" role="button" class="tm-ui-dp-month">'+h[ct]+"</span>"+(Z?W:E)+"</div>",L=G?"":'<div class="tm-ui-dp-title-button">'+(Z?P:H)+'<span class="tm-ui-dp-year" role="button" aria-label="'+lt+'">'+lt+"</span>"+(Z?H:P)+"</div>",f+="<div class='tm-ui-dp-wrap'><div class='tm-ui-dp-overlay'></div><div class='tm-ui-dp'><div class='tm-ui-dp-container'><div class='tm-ui-dp-inner-container'><div class='tm-ui-dp-ui'><div class='tm-ui-dp-ui-inner'><div class='tm-ui-dp-main-wrap'><div class='tm-ui-dp-main'>",D=0;D<et[0];D+=1){for(v="",this.maxRows=4,y=0;y<et[1];y+=1){if(M=this._daylightSavingAdjust(new Date(lt,ct,t.selectedDay)),b=" ui-corner-all",w="",st){if(w+="<div class='ui-tm-datepicker-group",et[1]>1)switch(y){case 0:w+=" ui-tm-datepicker-group-first",b=" ui-corner-"+(Z?"right":"left");break;case et[1]-1:w+=" ui-tm-datepicker-group-last",b=" ui-corner-"+(Z?"left":"right");break;default:w+=" ui-tm-datepicker-group-middle",b=""}w+="'>"}for(w+="<div class='tm-ui-dp-header ui-tm-datepicker-header ui-widget-header ui-helper-clearfix"+b+"'>"+(/all|left/.test(b)&&0===D?Z?n:i:"")+(/all|right/.test(b)&&0===D?Z?i:n:"")+'<div class="ui-tm-datepicker-title tm-ui-dp-title">'+(/all|left/.test(b)&&0===D?Z?L+R:R+L:"")+"</div></div>",w+="<div class='tm-ui-dp-main-content'>",w+="<div class='tm-ui-dp-main-header-wrap'><div class='tm-ui-dp-main-header'>",w+="<table class='ui-tm-datepicker-calendar'><tbody><tr>",I=l?"<th class='ui-tm-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",k=0;k<7;k+=1)C=(k+c)%7,I+="<th scope='col'"+((k+c+6)%7>=5?" class='ui-tm-datepicker-week-end'":"")+"><span title='"+o[C]+"'>"+u[C]+"</span></th>";for(w+=I+"</tr></tbody></table>",w+="</div></div>",w+="<div class='tm-ui-dp-main-table'>",x=this._getDaysInMonth(lt,ct),lt===t.selectedYear&&ct===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,x)),Y=(this._getFirstDayOfMonth(lt,ct)-c+7)%7,F=6,S=st&&this.maxRows>F?this.maxRows:F,this.maxRows=S,N=this._daylightSavingAdjust(new Date(lt,ct,1-Y)),A=0;A<S;A+=1){for(w+="<div class='tm-ui-dp-main-row'>",T=l?"<div class='ui-tm-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</div>":"",k=0;k<7;k+=1)j=p?p.apply(t.input?t.input[0]:null,[N]):[!0,""],O=(K=N.getMonth()!==ct)&&!_||!j[0]||rt&&N<rt||dt&&N>dt,T+="<div class='tm-ui-dp-main-cell "+((k+c+6)%7>=5?" ui-tm-datepicker-week-end":"")+(K?" ui-tm-datepicker-other-month":"")+(N.getTime()===M.getTime()&&ct===t.selectedMonth&&t._keyEvent||g.getTime()===N.getTime()&&g.getTime()===M.getTime()?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!m?"":" "+j[1]+(N.getTime()===nt.getTime()?" "+this._currentClass:"")+(N.getTime()===X.getTime()?" ui-tm-datepicker-today":""))+"'"+(K&&!m||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(O?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+"><div class='tm-ui-dp-main-cell-inner'><div class='tm-ui-dp-main-cell-content'>"+(K&&!m?"&#xa0;":O?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===X.getTime()?" ui-state-highlight":"")+(N.getTime()===nt.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</div></div></div>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);w+=T+"</div>"}(ct+=1)>11&&(ct=0,lt+=1),w+="</div>",v+=w+="</div>"+(st?"</div>"+(et[0]>0&&y===et[1]-1?"<div class='ui-tm-datepicker-row-break'></div>":""):"")}f+=v}return f+="</div></div></div></div></div>",f+=z,f+="</div></div></div>",t._keyEvent=!1,f},_generateMonthYearHeader:function(t,e,a,i,s,n,r,d){var c,l,o,u,h,p,m,_,g=this._get(t,"changeMonth"),f=this._get(t,"changeYear"),k=this._get(t,"showMonthAfterYear"),D="<div class='ui-tm-datepicker-title'>",v="";if(n||!g)v+="<span class='ui-tm-datepicker-month'>"+r[e]+"</span>";else{for(c=i&&i.getFullYear()===a,l=s&&s.getFullYear()===a,v+="<select class='ui-tm-datepicker-month' data-handler='selectMonth' data-event='change'>",o=0;o<12;o+=1)(!c||o>=i.getMonth())&&(!l||o<=s.getMonth())&&(v+="<option value='"+o+"'"+(o===e?" selected='selected'":"")+">"+d[o]+"</option>");v+="</select>"}if(k||(D+=v+(!n&&g&&f?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",n||!f)D+="<span class='ui-tm-datepicker-year'>"+a+"</span>";else{for(u=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),m=(p=function(t){var e=t.match(/c[+-].*/)?a+parseInt(t.substring(1),10):t.match(/[+-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e})(u[0]),_=Math.max(m,p(u[1]||"")),m=i?Math.max(m,i.getFullYear()):m,_=s?Math.min(_,s.getFullYear()):_,t.yearshtml+="<select class='ui-tm-datepicker-year' data-handler='selectYear' data-event='change'>";m<=_;m+=1)t.yearshtml+="<option value='"+m+"'"+(m===a?" selected='selected'":"")+">"+m+"</option>";t.yearshtml+="</select>",D+=t.yearshtml,t.yearshtml=null}return D+=this._get(t,"yearSuffix"),k&&(D+=(!n&&g&&f?"":"&#xa0;")+v),D+="</div>"},_adjustInstDate:function(t,e,a){var i=t.selectedYear+("Y"===a?e:0),s=t.selectedMonth+("M"===a?e:0),n=Math.min(t.selectedDay,this._getDaysInMonth(i,s))+("D"===a?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,s,n)));t.selectedDay=r.getDate(),t.selectedMonth=r.getMonth(),t.drawMonth=t.selectedMonth,t.selectedYear=r.getFullYear(),t.drawYear=t.selectedYear,"M"!==a&&"Y"!==a||this._notifyChange(t)},_restrictMinMax:function(t,e){var a=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),s=a&&e<a?a:e;return i&&s>i?i:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null===e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,a,i){var s=this._getNumberOfMonths(t),n=this._daylightSavingAdjust(new Date(a,i+(e<0?e:s[0]*s[1]),1));return e<0&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(t,n)},_isInRange:function(t,e){var a,i,s=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=null,d=null,c=this._get(t,"yearRange");return c&&(a=c.split(":"),i=(new Date).getFullYear(),r=parseInt(a[0],10),d=parseInt(a[1],10),a[0].match(/[+-].*/)&&(r+=i),a[1].match(/[+-].*/)&&(d+=i)),(!s||e.getTime()>=s.getTime())&&(!n||e.getTime()<=n.getTime())&&(!r||e.getFullYear()>=r)&&(!d||e.getFullYear()<=d)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,a,i){var s;return e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear),s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,a,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay)),this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.tm_datepicker=function(e){var a;return this.length?(t.tm_datepicker.initialized||(t(document).on("mousedown",t.tm_datepicker._checkExternalClick),t.tm_datepicker.initialized=!0),0===t("#"+t.tm_datepicker._mainDivId).length&&t("body").append(t.tm_datepicker.dpDiv),a=Array.prototype.slice.call(arguments,1),"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.tm_datepicker["_"+e+"Datepicker"].apply(t.tm_datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof e?t.tm_datepicker["_"+e+"Datepicker"].apply(t.tm_datepicker,[this].concat(a)):t.tm_datepicker._attachDatepicker(this,e)}):t.tm_datepicker["_"+e+"Datepicker"].apply(t.tm_datepicker,[this[0]].concat(a))):this},t.tm_datepicker=new n,t.tm_datepicker.initialized=!1,t.tm_datepicker.uuid=(new Date).getTime(),t.tm_datepicker.version="1.11.4")});!function(e){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery","jquery-ui"],e):e(window.jQuery)}(function(e){"use strict";var t=function(t,i){var s;e.extend(t,i);for(s in i)null!==i[s]&&void 0!==i[s]||(t[s]=i[s]);return t},i=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),i=function(e,t){return-1!==e.indexOf(t)};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i(t,"t")&&i(e,"h"),iso8601:i(e,"Z")}},s=function(e){return 0===(e%=12)&&(e=12),String(e)},a=function(t,i){return t&&t[i]?t[i]:e.tm_timepicker._defaults[i]},n=function(e,t){var i=a(t,"separator"),s=a(t,"timeFormat").split(i).length,n=e.split(i),r=n.length;return r>1?{dateString:n.splice(0,r-s).join(i),timeString:n.splice(0,s).join(i)}:{dateString:e,timeString:""}},r=function(t,i,s,a,r){var l,m,o;if(m=n(s,r),l=e.tm_datepicker._base_parseDate(t,m.dateString,a),""===m.timeString)return{date:l};if(!(o=e.tm_datepicker.parseTime(i,m.timeString,r)))throw"Wrong time format";return{date:l,timeObj:o}},l=function(e,t){var i;e&&e.timezone_select&&(i=t||new Date,e.timezone_select.val(-i.getTimezoneOffset()))},m=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},e.extend(this._defaults,this.regional[""])};if(e.ui.tm_timepicker=e.ui.tm_timepicker||{},!e.ui.tm_timepicker.version){e.extend(e.ui,{tm_timepicker:{version:"1.6.3"}}),e.extend(m.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return t(this._defaults,e||{}),this},_newInst:function(t,s){var a,n,r,l,o,u,c=new m,d={},h={},_=0,f=null;for(r in this._defaults)this._defaults.hasOwnProperty(r)&&(l=t.attr("data-"+r))&&(d[r]=l);a={beforeShow:function(e,i){if("function"==typeof c._defaults.evnts.beforeShow)return c._defaults.evnts.beforeShow.call(t[0],e,i,c)},onChangeMonthYear:function(e,i,s){"function"==typeof c._defaults.evnts.onChangeMonthYear&&c._defaults.evnts.onChangeMonthYear.call(t[0],e,i,s,c)},onClose:function(e,i){!0===c.timeDefined&&""!==t.val()&&c._updateDateTime(i),"function"==typeof c._defaults.evnts.onClose&&c._defaults.evnts.onClose.call(t[0],e,i,c)}};for(n in a)a.hasOwnProperty(n)&&(h[n]=s[n]||this._defaults[n]||null);if(c._defaults=e.extend({},this._defaults,d,s,a,{evnts:h,tm_timepicker:c}),c.amNames=e.map(c._defaults.amNames,function(e){return e.toUpperCase()}),c.pmNames=e.map(c._defaults.pmNames,function(e){return e.toUpperCase()}),c.support=i(c._defaults.timeFormat+(c._defaults.pickerTimeFormat?c._defaults.pickerTimeFormat:"")+(c._defaults.altTimeFormat?c._defaults.altTimeFormat:"")),"string"==typeof c._defaults.controlType?("slider"===c._defaults.controlType&&void 0===e.ui.slider&&(c._defaults.controlType="select"),c.control=c._controls[c._defaults.controlType]):c.control=c._defaults.controlType,o=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840],null!==c._defaults.timezoneList&&(o=c._defaults.timezoneList),(u=o.length)>0&&"object"!=typeof o[0])for(;_<u;_+=1)f=o[_],o[_]={value:f,label:e.tm_timepicker.timezoneOffsetString(f,c.support.iso8601)};return c._defaults.timezoneList=o,c.timezone=null!==c._defaults.timezone?e.tm_timepicker.timezoneOffsetNumber(c._defaults.timezone):-1*(new Date).getTimezoneOffset(),c.hour=c._defaults.hour<c._defaults.hourMin?c._defaults.hourMin:c._defaults.hour>c._defaults.hourMax?c._defaults.hourMax:c._defaults.hour,c.minute=c._defaults.minute<c._defaults.minuteMin?c._defaults.minuteMin:c._defaults.minute>c._defaults.minuteMax?c._defaults.minuteMax:c._defaults.minute,c.second=c._defaults.second<c._defaults.secondMin?c._defaults.secondMin:c._defaults.second>c._defaults.secondMax?c._defaults.secondMax:c._defaults.second,c.millisec=c._defaults.millisec<c._defaults.millisecMin?c._defaults.millisecMin:c._defaults.millisec>c._defaults.millisecMax?c._defaults.millisecMax:c._defaults.millisec,c.microsec=c._defaults.microsec<c._defaults.microsecMin?c._defaults.microsecMin:c._defaults.microsec>c._defaults.microsecMax?c._defaults.microsecMax:c._defaults.microsec,c.ampm="",c.$input=t,c._defaults.altField&&(c.$altInput=e(c._defaults.altField),!0===c._defaults.altRedirectFocus&&c.$altInput.css({cursor:"pointer"}).focus(function(){t.trigger("focus")})),0!==c._defaults.minDate&&0!==c._defaults.minDateTime||(c._defaults.minDate=new Date),0!==c._defaults.maxDate&&0!==c._defaults.maxDateTime||(c._defaults.maxDate=new Date),void 0!==c._defaults.minDate&&c._defaults.minDate instanceof Date&&(c._defaults.minDateTime=new Date(c._defaults.minDate.getTime())),void 0!==c._defaults.minDateTime&&c._defaults.minDateTime instanceof Date&&(c._defaults.minDate=new Date(c._defaults.minDateTime.getTime())),void 0!==c._defaults.maxDate&&c._defaults.maxDate instanceof Date&&(c._defaults.maxDateTime=new Date(c._defaults.maxDate.getTime())),void 0!==c._defaults.maxDateTime&&c._defaults.maxDateTime instanceof Date&&(c._defaults.maxDate=new Date(c._defaults.maxDateTime.getTime())),c.$input.on("focus",function(){c._onFocus()}),c.$input.next(".ui-tm-timepicker-trigger").on("click",function(){return c._onFocus(),!1}),c},_addTimePicker:function(t){var i=e.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(i),this._limitMinMaxDateTime(t,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(t,i){var s,a,n;if(this.inst||(this.inst=e.tm_datepicker._getInst(this.$input[0])),i||!this._defaults.timeOnly){s=e.tm_datepicker._get(this.inst,"dateFormat");try{if(!(a=r(s,this._defaults.timeFormat,t,e.tm_datepicker._getFormatConfig(this.inst),this._defaults)).timeObj)return!1;e.extend(this,a.timeObj)}catch(i){return e.tm_timepicker.log("Error parsing the date/time string: "+i+"\ndate/time string = "+t+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+s),!1}return!0}return!!(n=e.tm_datepicker.parseTime(this._defaults.timeFormat,t,this._defaults))&&(e.extend(this,n),!0)},_afterInject:function(){var e=this.inst.settings;"function"==typeof e.afterInject&&e.afterInject.call(this)},_ui_tpicker_onclick:function(t){var i=e(t.target),s=i.html(),a=parseInt(s.replace(/[^0-9]/g),10),n=s.replace(/[^apm]/gi),r=i.data("for");"hour"===r&&(-1!==n.indexOf("p")&&a<12?a+=12:-1!==n.indexOf("a")&&12===a&&(a=0)),t.data.tp_inst.control.value(t.data.tp_inst,t.data.tp_inst[r+"_slider"],t.data.litem,a),t.data.tp_inst._onTimeChange(),t.data.tp_inst._onSelectHandler()},_injectTimePicker:function(){var t,i,s,a,n,r,m,o,u,c,d=this.inst.dpDiv,h=this.inst.settings,_=this,f="",p="",g=null,M={},k={},T=null,D=0,v=0;if(0===d.find("div.ui-tm-timepicker-div").length&&h.showTimepicker){for(t=" ui_tpicker_unit_hide",i='<div class="ui-tm-timepicker-div'+(h.isRTL?" ui-tm-timepicker-rtl":"")+(h.oneLine&&"select"===h.controlType?" ui-tm-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(h.showTime?"":t)+'">'+h.timeText+'</dt><dd class="ui_tpicker_time '+(h.showTime?"":t)+'"><input class="ui_tpicker_time_input" '+(h.timeInput?"":"disabled")+"/></dd>",D=0,v=this.units.length;D<v;D+=1){if(f=this.units[D],p=f.substr(0,1).toUpperCase()+f.substr(1),g=null!==h["show"+p]?h["show"+p]:this.support[f],M[f]=parseInt(h[f+"Max"]-(h[f+"Max"]-h[f+"Min"])%h["step"+p],10),k[f]=0,i+='<dt class="ui_tpicker_'+f+"_label"+(g?"":t)+'">'+h[f+"Text"]+'</dt><dd class="ui_tpicker_'+f+(g?"":t)+'"><div class="ui_tpicker_'+f+"_slider"+(g?"":t)+'"></div>',g&&h[f+"Grid"]>0){if(i+='<div><table class="ui-tpicker-grid-label"><tr>',"hour"===f)for(s=h[f+"Min"];s<=M[f];s+=parseInt(h[f+"Grid"],10))k[f]+=1,i+='<td data-for="'+f+'">'+e.tm_datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:s},h)+"</td>";else for(a=h[f+"Min"];a<=M[f];a+=parseInt(h[f+"Grid"],10))k[f]+=1,i+='<td data-for="'+f+'">'+(a<10?"0":"")+a+"</td>";i+="</tr></table></div>"}i+="</dd>"}for(i+='<dt class="ui_tpicker_timezone_label'+((n=null!==h.showTimezone?h.showTimezone:this.support.timezone)?"":t)+'">'+h.timezoneText+"</dt>",i+='<dd class="ui_tpicker_timezone'+(n?"":t)+'"></dd>',r=e(i+="</dl></div>"),!0===h.timeOnly&&(r.prepend('<div class="tm-ui-widget-header"><div class="tm-ui-tp-title">'+h.timeOnlyTitle+"</div></div>"),d.find(".tm-ui-dp-inner-container").hide()),D=0,v=_.units.length;D<v;D+=1)g=null!==h["show"+(p=(f=_.units[D]).substr(0,1).toUpperCase()+f.substr(1))]?h["show"+p]:this.support[f],_[f+"_slider"]=_.control.create(_,r.find(".ui_tpicker_"+f+"_slider"),f,_[f],h[f+"Min"],M[f],h["step"+p]),g&&h[f+"Grid"]>0&&(T=100*k[f]*h[f+"Grid"]/(M[f]-h[f+"Min"]),r.find(".ui_tpicker_"+f+" table").css({width:T+"%",marginLeft:h.isRTL?"0":T/(-2*k[f])+"%",marginRight:h.isRTL?T/(-2*k[f])+"%":"0",borderCollapse:"collapse"}).find("td").on("click",{that:this,tp_inst:_,litem:f},this._ui_tpicker_onclick).css({cursor:"pointer",width:100/k[f]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=r.find(".ui_tpicker_timezone").append("<select></select>").find("select"),e.fn.append.apply(this.timezone_select,e.map(h.timezoneList,function(t){return e("<option />").val("object"==typeof t?t.value:t).text("object"==typeof t?t.label:t)})),void 0!==this.timezone&&null!==this.timezone&&""!==this.timezone?-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()===this.timezone?l(_):this.timezone_select.val(this.timezone):void 0!==this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(h.timezone):l(_),this.timezone_select.on("change",function(){_._onTimeChange(),_._onSelectHandler(),_._afterInject()}),(m=d.find(".tm-ui-dp-buttonpane")).length?m.before(r):d.append(r),this.$timeObj=r.find(".ui_tpicker_time_input"),this.$timeObj.on("change",function(){var t=_.inst.settings.timeFormat,i=e.tm_datepicker.parseTime(t,this.value),s=new Date;i?(s.setHours(i.hour),s.setMinutes(i.minute),s.setSeconds(i.second),e.datepicker._setTime(_.inst,s)):(this.value=_.formattedTime,this.blur())}),null!==this.inst&&(o=this.timeDefined,this._onTimeChange(),this.timeDefined=o),this._defaults.addSliderAccess&&(u=this._defaults.sliderAccessArgs,c=this._defaults.isRTL,u.isRTL=c,setTimeout(function(){var t;0===r.find(".ui-slider-access").length&&(r.find(".ui-slider:visible").sliderAccess(u),(t=r.find(".ui-slider-access:eq(0)").outerWidth(!0))&&r.find("table:visible").each(function(){var i=e(this),s=i.outerWidth(),a=i.css(c?"marginRight":"marginLeft").toString().replace("%",""),n=s-t,r=a*n/s+"%",l={width:n,marginRight:0,marginLeft:0};l[c?"marginRight":"marginLeft"]=r,i.css(l)}))},10)),_._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(t,i){var s,a,n,r,l,m,o,u,c,d,h,_=this._defaults,f=new Date(t.selectedYear,t.selectedMonth,t.selectedDay);this._defaults.showTimepicker&&(null!==e.tm_datepicker._get(t,"minDateTime")&&void 0!==e.tm_datepicker._get(t,"minDateTime")&&f&&(s=e.tm_datepicker._get(t,"minDateTime"),a=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0),null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=_.hourMin,this.minuteMinOriginal=_.minuteMin,this.secondMinOriginal=_.secondMin,this.millisecMinOriginal=_.millisecMin,this.microsecMinOriginal=_.microsecMin),t.settings.timeOnly||a.getTime()===f.getTime()?(this._defaults.hourMin=s.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=s.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=s.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=s.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=s.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)),null!==e.tm_datepicker._get(t,"maxDateTime")&&void 0!==e.tm_datepicker._get(t,"maxDateTime")&&f&&(n=e.tm_datepicker._get(t,"maxDateTime"),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0),null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=_.hourMax,this.minuteMaxOriginal=_.minuteMax,this.secondMaxOriginal=_.secondMax,this.millisecMaxOriginal=_.millisecMax,this.microsecMaxOriginal=_.microsecMax),t.settings.timeOnly||r.getTime()===f.getTime()?(this._defaults.hourMax=n.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=n.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=n.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=n.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=n.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)),null!==t.settings.minTime&&(l=new Date("01/01/1970 "+t.settings.minTime),parseFloat(t.settings.minTime).toString()===t.settings.minTime&&(l=new Date(Date.now()+parseFloat(t.settings.minTime))),this.hour<l.getHours()?(this._defaults.hourMin=l.getHours(),this.hour=this._defaults.hourMin,this._defaults.minuteMin=l.getMinutes(),this.minute=this._defaults.minuteMin):this.hour===l.getHours()&&this.minute<l.getMinutes()?(this._defaults.minuteMin=l.getMinutes(),this.minute=this._defaults.minuteMin):this._defaults.hourMin<l.getHours()?(this._defaults.hourMin=l.getHours(),this._defaults.minuteMin=l.getMinutes()):this._defaults.hourMin===l.getHours()===this.hour&&this._defaults.minuteMin<l.getMinutes()?this._defaults.minuteMin=l.getMinutes():this._defaults.minuteMin=0),null!==t.settings.maxTime&&(m=new Date("01/01/1970 "+t.settings.maxTime),this.hour>m.getHours()?(this._defaults.hourMax=m.getHours(),this.hour=this._defaults.hourMax,this._defaults.minuteMax=m.getMinutes(),this.minute=this._defaults.minuteMax):this.hour===m.getHours()&&this.minute>m.getMinutes()?(this._defaults.minuteMax=m.getMinutes(),this.minute=this._defaults.minuteMax):this._defaults.hourMax>m.getHours()?(this._defaults.hourMax=m.getHours(),this._defaults.minuteMax=m.getMinutes()):this._defaults.hourMax===m.getHours()===this.hour&&this._defaults.minuteMax>m.getMinutes()?this._defaults.minuteMax=m.getMinutes():this._defaults.minuteMax=59),void 0!==i&&!0===i&&(o=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),u=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),c=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),d=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),h=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10),this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:o,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:u,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:c,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:d,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:h,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))))},_onTimeChange:function(){if(this._defaults.showTimepicker){var t=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),i=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),s=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),a=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),n=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),r=!!this.timezone_select&&this.timezone_select.val(),l=this._defaults,m=l.pickerTimeFormat||l.timeFormat,o=l.pickerTimeSuffix||l.timeSuffix;"object"==typeof t&&(t=!1),"object"==typeof i&&(i=!1),"object"==typeof s&&(s=!1),"object"==typeof a&&(a=!1),"object"==typeof n&&(n=!1),"object"==typeof r&&(r=!1),!1!==t&&(t=parseInt(t,10)),!1!==i&&(i=parseInt(i,10)),!1!==s&&(s=parseInt(s,10)),!1!==a&&(a=parseInt(a,10)),!1!==n&&(n=parseInt(n,10)),!1!==r&&(r=r.toString());var u=l[t<12?"amNames":"pmNames"][0],c=t!==parseInt(this.hour,10)||i!==parseInt(this.minute,10)||s!==parseInt(this.second,10)||a!==parseInt(this.millisec,10)||n!==parseInt(this.microsec,10)||this.ampm.length>0&&t<12!=(-1!==e.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&r!==this.timezone.toString();if(c&&(!1!==t&&(this.hour=t),!1!==i&&(this.minute=i),!1!==s&&(this.second=s),!1!==a&&(this.millisec=a),!1!==n&&(this.microsec=n),!1!==r&&(this.timezone=r),this.inst||(this.inst=e.tm_datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=u),this.formattedTime=e.tm_datepicker.formatTime(l.timeFormat,this,l),this.$timeObj&&(m===l.timeFormat?this.$timeObj.val(this.formattedTime+o):this.$timeObj.val(e.tm_datepicker.formatTime(m,this,l)+o),this.$timeObj[0].setSelectionRange)){var d=this.$timeObj[0].selectionStart,h=this.$timeObj[0].selectionEnd;this.$timeObj[0].setSelectionRange(d,h)}this.timeDefined=!0,c&&this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(t){var i=(t=this.inst||t).currentYear>0?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(t.selectedYear,t.selectedMonth,t.selectedDay),s=e.tm_datepicker._daylightSavingAdjust(i),a=e.tm_datepicker._get(t,"dateFormat"),n=e.tm_datepicker._getFormatConfig(t),r=null!==s&&this.timeDefined;this.formattedDate=e.tm_datepicker.formatDate(a,null===s?new Date:s,n);var l=this.formattedDate;if(""===t.lastVal&&(t.currentYear=t.selectedYear,t.currentMonth=t.selectedMonth,t.currentDay=t.selectedDay),!0===this._defaults.timeOnly&&!1===this._defaults.timeOnlyShowDate?l=this.formattedTime:(!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||r)||!0===this._defaults.timeOnly&&!0===this._defaults.timeOnlyShowDate)&&(l+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=l,this._defaults.showTimepicker)if(this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(l);var m="",o=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,u=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(m=this._defaults.altFormat?e.tm_datepicker.formatDate(this._defaults.altFormat,null===s?new Date:s,n):this.formattedDate)&&(m+=o),null!==this._defaults.altTimeFormat?m+=e.tm_datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+u:m+=this.formattedTime+u,this.$altInput.val(m)}else this.$input.val(l);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var t=e.tm_datepicker._getInst(this.$input.get(0)),i=e.tm_datepicker._get(t,"tm_timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!==t.lastVal)try{e.tm_datepicker._updateDatepicker(t)}catch(t){e.tm_timepicker.log(t)}}},_controls:{slider:{create:function(t,i,s,a,n,r,l){var m=t._defaults.isRTL;return i.prop("slide",null).slider({orientation:"horizontal",value:m?-1*a:a,min:m?-1*r:n,max:m?-1*n:r,step:l,slide:function(i,a){t.control.value(t,e(this),s,m?-1*a.value:a.value),t._onTimeChange()},stop:function(){t._onSelectHandler()}})},options:function(e,t,i,s,a){if(e._defaults.isRTL){if("string"==typeof s)return"min"===s||"max"===s?void 0!==a?t.slider(s,-1*a):Math.abs(t.slider(s)):t.slider(s);var n=s.min,r=s.max;return s.max=null,s.min=null,void 0!==n&&(s.max=-1*n),void 0!==r&&(s.min=-1*r),t.slider(s)}return"string"==typeof s&&void 0!==a?t.slider(s,a):t.slider(s)},value:function(e,t,i,s){return e._defaults.isRTL?void 0!==s?t.slider("value",-1*s):Math.abs(t.slider("value")):void 0!==s?t.slider("value",s):t.slider("value")}},select:{create:function(t,i,s,a,n,r,l){for(var m='<select class="ui-tm-timepicker-select ui-state-default ui-corner-all" data-unit="'+s+'" data-min="'+n+'" data-max="'+r+'" data-step="'+l+'">',o=t._defaults.pickerTimeFormat||t._defaults.timeFormat,u=n;u<=r;u+=l)m+='<option value="'+u+'"'+(u===a?" selected":"")+">",m+="hour"===s?e.tm_datepicker.formatTime(e.trim(o.replace(/[^ht ]/gi,"")),{hour:u},t._defaults):"millisec"===s||"microsec"===s||u>=10?u:"0"+u.toString(),m+="</option>";return m+="</select>",i.children("select").remove(),e(m).appendTo(i).on("change",function(){t._onTimeChange(),t._onSelectHandler(),t._afterInject()}),i},options:function(e,t,i,s,a){var n={},r=t.children("select");if("string"==typeof s){if(void 0===a)return r.data(s);n[s]=a}else n=s;return e.control.create(e,t,r.data("unit"),r.val(),n.min>=0?n.min:r.data("min"),n.max||r.data("max"),n.step||r.data("step"))},value:function(e,t,i,s){var a=t.children("select");return void 0!==s?a.val(s):a.val()}}}}),e.fn.extend({tm_timepicker:function(t){t=t||{};var i=Array.prototype.slice.call(arguments);return"object"==typeof t&&(i[0]=e.extend(t,{timeOnly:!0})),e(this).each(function(){e.fn.tm_datetimepicker.apply(e(this),i)})},tm_datetimepicker:function(t){var i=arguments;return"string"==typeof(t=t||{})?"getDate"===t||"option"===t&&2===i.length&&"string"==typeof i[1]?e.fn.tm_datepicker.apply(e(this[0]),i):this.each(function(){var t=e(this);t.tm_datepicker.apply(t,i)}):this.each(function(){var i=e(this);i.tm_datepicker(e.tm_timepicker._newInst(i,t)._defaults)})}}),e.tm_datepicker.parseDateTime=function(e,t,i,s,a){var n=r(e,t,i,s,a);if(n.timeObj){var l=n.timeObj;n.date.setHours(l.hour,l.minute,l.second,l.millisec),n.date.setMicroseconds(l.microsec)}return n.date},e.tm_datepicker.parseTime=function(i,s,a){var n=t(t({},e.tm_timepicker._defaults),a||{}),r=function(t,i,s){var a,n=function(t,i){var s=[];return t&&e.merge(s,t),i&&e.merge(s,i),"("+(s=e.map(s,function(e){return e.replace(/[.*+?|()[\]{}\\]/g,"\\$&")})).join("|")+")?"},r="^"+t.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){var t=e.length;switch(e.charAt(0).toLowerCase()){case"h":case"m":case"s":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"l":case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return n(s.amNames,s.pmNames);default:return"("+e.replace(/'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+s.timeSuffix+"$",l=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t)for(var s=0;s<t.length;s+=1)-1===i[t[s].toString().charAt(0)]&&(i[t[s].toString().charAt(0)]=s+1);return i}(t),m="",o={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!(a=i.match(new RegExp(r,"i")))&&(-1!==l.t&&(void 0===a[l.t]||0===a[l.t].length?(m="",o.ampm=""):(m=-1!==e.inArray(a[l.t].toUpperCase(),e.map(s.amNames,function(e){return e.toUpperCase()}))?"AM":"PM",o.ampm=s["AM"===m?"amNames":"pmNames"][0])),-1!==l.h&&("AM"===m&&"12"===a[l.h]?o.hour=0:"PM"===m&&"12"!==a[l.h]?o.hour=parseInt(a[l.h],10)+12:o.hour=Number(a[l.h])),-1!==l.m&&(o.minute=Number(a[l.m])),-1!==l.s&&(o.second=Number(a[l.s])),-1!==l.l&&(o.millisec=Number(a[l.l])),-1!==l.c&&(o.microsec=Number(a[l.c])),-1!==l.z&&void 0!==a[l.z]&&(o.timezone=e.tm_timepicker.timezoneOffsetNumber(a[l.z])),o)};return"function"==typeof n.parse?n.parse(i,s,n):"loose"===n.parse?function(t,i,s){try{var a=new Date("2012-01-01 "+i);if(isNaN(a.getTime())&&(a=new Date("2012-01-01T"+i),isNaN(a.getTime())&&(a=new Date("01/01/2012 "+i),isNaN(a.getTime()))))throw"Unable to parse time with native Date: "+i;return{hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),millisec:a.getMilliseconds(),microsec:a.getMicroseconds(),timezone:-1*a.getTimezoneOffset()}}catch(a){try{return r(t,i,s)}catch(s){e.tm_timepicker.log("Unable to parse \ntimeString: "+i+"\ntimeFormat: "+t)}}return!1}(i,s,n):r(i,s,n)},e.tm_datepicker.formatTime=function(t,i,a){a=a||{},a=e.extend({},e.tm_timepicker._defaults,a),i=e.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},i);var n=t,r=a.amNames[0],l=parseInt(i.hour,10);return l>11&&(r=a.pmNames[0]),n=n.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(t){switch(t){case"HH":return("0"+l).slice(-2);case"H":return l;case"hh":return("0"+s(l)).slice(-2);case"h":return s(l);case"mm":return("0"+i.minute).slice(-2);case"m":return i.minute;case"ss":return("0"+i.second).slice(-2);case"s":return i.second;case"l":return("00"+i.millisec).slice(-3);case"c":return("00"+i.microsec).slice(-3);case"z":return e.tm_timepicker.timezoneOffsetString(null===i.timezone?a.timezone:i.timezone,!1);case"Z":return e.tm_timepicker.timezoneOffsetString(null===i.timezone?a.timezone:i.timezone,!0);case"T":return r.charAt(0).toUpperCase();case"TT":return r.toUpperCase();case"t":return r.charAt(0).toLowerCase();case"tt":return r.toLowerCase();default:return t.replace(/'/g,"")}})},e.tm_datepicker._base_selectDate=e.tm_datepicker._selectDate,e.tm_datepicker._selectDate=function(t,i){var s,a=this._getInst(e(t)[0]),n=this._get(a,"tm_timepicker");n&&a.settings.showTimepicker?(n._limitMinMaxDateTime(a,!0),s=a.inline,a.stay_open=!0,a.inline=!0,this._base_selectDate(t,i),a.inline=s,a.stay_open=!1,this._notifyChange(a),this._updateDatepicker(a)):this._base_selectDate(t,i)},e.tm_datepicker._base_updateDatepicker=e.tm_datepicker._updateDatepicker,e.tm_datepicker._updateDatepicker=function(t){var i=t.input[0];if(!(e.tm_datepicker._curInst&&e.tm_datepicker._curInst!==t&&e.tm_datepicker._datepickerShowing&&e.tm_datepicker._lastInput!==i||"boolean"==typeof t.stay_open&&!1!==t.stay_open)){this._base_updateDatepicker(t);var s=this._get(t,"tm_timepicker");s&&s._addTimePicker(t)}},e.tm_datepicker._base_doKeyPress=e.tm_datepicker._doKeyPress,e.tm_datepicker._doKeyPress=function(t){var i=e.tm_datepicker._getInst(t.target),s=e.tm_datepicker._get(i,"tm_timepicker");if(s&&e.tm_datepicker._get(i,"constrainInput")){var a=s.support.ampm,n=null!==s._defaults.showTimezone?s._defaults.showTimezone:s.support.timezone,r=e.tm_datepicker._possibleChars(e.tm_datepicker._get(i,"dateFormat")),l=s._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,a?"APM":"").replace(/Tt/g,a?"AaPpMm":"").replace(/tT/g,a?"AaPpMm":"").replace(/T/g,a?"AP":"").replace(/tt/g,a?"apm":"").replace(/t/g,a?"ap":"")+" "+s._defaults.separator+s._defaults.timeSuffix+(n?s._defaults.timezoneList.join(""):"")+s._defaults.amNames.join("")+s._defaults.pmNames.join("")+r,m=String.fromCharCode(void 0===t.charCode?t.keyCode:t.charCode);return t.ctrlKey||m<" "||!r||l.indexOf(m)>-1}return e.tm_datepicker._base_doKeyPress(t)},e.tm_datepicker._base_updateAlternate=e.tm_datepicker._updateAlternate,e.tm_datepicker._updateAlternate=function(t){var i=this._get(t,"tm_timepicker");if(i){var s=i._defaults.altField;if(s){var a=this._getDate(t),n=e.tm_datepicker._getFormatConfig(t),r="",l=i._defaults.altSeparator?i._defaults.altSeparator:i._defaults.separator,m=i._defaults.altTimeSuffix?i._defaults.altTimeSuffix:i._defaults.timeSuffix,o=null!==i._defaults.altTimeFormat?i._defaults.altTimeFormat:i._defaults.timeFormat;r+=e.tm_datepicker.formatTime(o,i,i._defaults)+m,i._defaults.timeOnly||i._defaults.altFieldTimeOnly||null===a||(r=i._defaults.altFormat?e.tm_datepicker.formatDate(i._defaults.altFormat,a,n)+l+r:i.formattedDate+l+r),e(s).val(t.input.val()?r:"")}}else e.tm_datepicker._base_updateAlternate(t)},e.tm_datepicker._base_doKeyUp=e.tm_datepicker._doKeyUp,e.tm_datepicker._doKeyUp=function(t){var i=e.tm_datepicker._getInst(t.target),s=e.tm_datepicker._get(i,"tm_timepicker");if(s&&s._defaults.timeOnly&&i.input.val()!==i.lastVal)try{e.tm_datepicker._updateDatepicker(i)}catch(t){e.tm_timepicker.log(t)}return e.tm_datepicker._base_doKeyUp(t)},e.tm_datepicker._base_gotoToday=e.tm_datepicker._gotoToday,e.tm_datepicker._gotoToday=function(t){var i=this._getInst(e(t)[0]);this._base_gotoToday(t);var s=this._get(i,"timepicker");if(s){var a=e.tm_timepicker.timezoneOffsetNumber(s.timezone),n=new Date;n.setMinutes(n.getMinutes()+n.getTimezoneOffset()+parseInt(a,10)),this._setTime(i,n),this._setDate(i,n),s._onSelectHandler()}},e.tm_datepicker._disableTimepickerDatepicker=function(t){var i=this._getInst(t);if(i){var s=this._get(i,"tm_timepicker");e(t).tm_datepicker("getDate"),s&&(i.settings.showTimepicker=!1,s._defaults.showTimepicker=!1,s._updateDateTime(i))}},e.tm_datepicker._enableTimepickerDatepicker=function(t){var i=this._getInst(t);if(i){var s=this._get(i,"tm_timepicker");e(t).tm_datepicker("getDate"),s&&(i.settings.showTimepicker=!0,s._defaults.showTimepicker=!0,s._addTimePicker(i),s._updateDateTime(i))}},e.tm_datepicker._setTime=function(e,t){var i=this._get(e,"tm_timepicker");if(i){var s=i._defaults;i.hour=t?t.getHours():s.hour,i.minute=t?t.getMinutes():s.minute,i.second=t?t.getSeconds():s.second,i.millisec=t?t.getMilliseconds():s.millisec,i.microsec=t?t.getMicroseconds():s.microsec,i._limitMinMaxDateTime(e,!0),i._onTimeChange(),i._updateDateTime(e)}},e.tm_datepicker._setTimeDatepicker=function(e,t,i){var s=this._getInst(e);if(s){var a=this._get(s,"tm_timepicker");if(a){this._setDateFromField(s);var n;t&&("string"==typeof t?(a._parseTime(t,i),(n=new Date).setHours(a.hour,a.minute,a.second,a.millisec),n.setMicroseconds(a.microsec)):(n=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()),"Invalid Date"===n.toString()&&(n=void 0),this._setTime(s,n))}}},e.tm_datepicker._base_setDateDatepicker=e.tm_datepicker._setDateDatepicker,e.tm_datepicker._setDateDatepicker=function(t,i){var s=this._getInst(t),a=i;if(s){"string"==typeof i&&((a=new Date(i)).getTime()||(this._base_setDateDatepicker.apply(this,arguments),a=e(t).tm_datepicker("getDate")));var n,r=this._get(s,"tm_timepicker");a instanceof Date?(n=new Date(a.getTime())).setMicroseconds(a.getMicroseconds()):n=a,r&&n&&(r.support.timezone||null!==r._defaults.timezone||(r.timezone=-1*n.getTimezoneOffset()),a=e.tm_timepicker.timezoneAdjust(a,e.tm_timepicker.timezoneOffsetString(-a.getTimezoneOffset()),r.timezone),n=e.tm_timepicker.timezoneAdjust(n,e.tm_timepicker.timezoneOffsetString(-n.getTimezoneOffset()),r.timezone)),this._updateDatepicker(s),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(t,n,!0)}},e.tm_datepicker._base_getDateDatepicker=e.tm_datepicker._getDateDatepicker,e.tm_datepicker._getDateDatepicker=function(t,i){var s=this._getInst(t);if(s){var a=this._get(s,"tm_timepicker");if(a){void 0===s.lastVal&&this._setDateFromField(s,i);var n=this._getDate(s),r=null;return r=a.$altInput&&a._defaults.altFieldTimeOnly?a.$input.val()+" "+a.$altInput.val():"INPUT"!==a.$input.get(0).tagName&&a.$altInput?a.$altInput.val():a.$input.val(),n&&a._parseTime(r,!s.settings.timeOnly)&&(n.setHours(a.hour,a.minute,a.second,a.millisec),n.setMicroseconds(a.microsec),null!==a.timezone&&(a.support.timezone||null!==a._defaults.timezone||(a.timezone=-1*n.getTimezoneOffset()),n=e.tm_timepicker.timezoneAdjust(n,a.timezone,e.tm_timepicker.timezoneOffsetString(-n.getTimezoneOffset())))),n}return this._base_getDateDatepicker(t,i)}},e.tm_datepicker._base_parseDate=e.tm_datepicker.parseDate,e.tm_datepicker.parseDate=function(t,i,s){var a;try{a=this._base_parseDate(t,i,s)}catch(n){if(!(n.indexOf(":")>=0))throw n;a=this._base_parseDate(t,i.substring(0,i.length-(n.length-n.indexOf(":")-2)),s),e.tm_timepicker.log("Error parsing the date string: "+n+"\ndate string = "+i+"\ndate format = "+t)}return a},e.tm_datepicker._base_formatDate=e.tm_datepicker._formatDate,e.tm_datepicker._formatDate=function(e){var t=this._get(e,"tm_timepicker");return t?(t._updateDateTime(e),t.$input.val()):this._base_formatDate(e)};var o=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0};e.tm_datepicker._base_optionDatepicker=e.tm_datepicker._optionDatepicker,e.tm_datepicker._optionDatepicker=function(t,i,s){var a,n=this._getInst(t);if(!n)return null;var r=this._get(n,"tm_timepicker");if(r){var l,m,u,c,d=null,h=null,_=null,f=r._defaults.evnts,p={};if("string"==typeof i){if("minDate"===i||"minDateTime"===i)d=s;else if("maxDate"===i||"maxDateTime"===i)h=s;else if("onSelect"===i)_=s;else if(f.hasOwnProperty(i)){if(void 0===s)return f[i];p[i]=s,a={}}}else if("object"==typeof i){i.minDate?d=i.minDate:i.minDateTime?d=i.minDateTime:i.maxDate?h=i.maxDate:i.maxDateTime&&(h=i.maxDateTime);for(l in f)f.hasOwnProperty(l)&&i[l]&&(p[l]=i[l])}for(l in p)p.hasOwnProperty(l)&&(f[l]=p[l],a||(a=e.extend({},i)),delete a[l]);if(a&&o(a))return;if(d?(d=0===d?new Date:new Date(d),r._defaults.minDate=d,r._defaults.minDateTime=d):h?(h=0===h?new Date:new Date(h),r._defaults.maxDate=h,r._defaults.maxDateTime=h):_&&(r._defaults.onSelect=_),d||h)return c=e(t),u=c.tm_datetimepicker("getDate"),m=this._base_optionDatepicker.call(e.tm_datepicker,t,a||i,s),c.tm_datetimepicker("setDate",u),m}return void 0===s?this._base_optionDatepicker.call(e.tm_datepicker,t,i):this._base_optionDatepicker.call(e.tm_datepicker,t,a||i,s)},e.tm_timepicker=new m,e.tm_timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||e<-720)return e;var i=e,s=i%60,a=(i-s)/60,n=t?":":"",r=(i>=0?"+":"-")+("0"+Math.abs(a)).slice(-2)+n+("0"+Math.abs(s)).slice(-2);return"+00:00"===r?"Z":r},e.tm_timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(-|\+)\d{4}$/.test(t)?("-"===t.substr(0,1)?-1:1)*(60*parseInt(t.substr(1,2),10)+parseInt(t.substr(3,2),10)):parseInt(e,10)},e.tm_timepicker.timezoneAdjust=function(t,i,s){var a=e.timepicker.timezoneOffsetNumber(i),n=e.tm_timepicker.timezoneOffsetNumber(s);return isNaN(n)||t.setMinutes(t.getMinutes()+-a- -n),t},e.tm_timepicker.timeRange=function(t,i,s){return e.tm_timepicker.handleRange("tm_timepicker",t,i,s)},e.tm_timepicker.datetimeRange=function(t,i,s){e.tm_timepicker.handleRange("tm_datetimepicker",t,i,s)},e.tm_timepicker.dateRange=function(t,i,s){e.tm_timepicker.handleRange("tm_datepicker",t,i,s)},e.tm_timepicker.handleRange=function(t,i,s,a){function n(e,n){var r=i[t]("getDate"),l=s[t]("getDate"),m=e[t]("getDate");if(null!==r){var o=new Date(r.getTime()),u=new Date(r.getTime());o.setMilliseconds(o.getMilliseconds()+a.minInterval),u.setMilliseconds(u.getMilliseconds()+a.maxInterval),a.minInterval>0&&o>l?s[t]("setDate",o):a.maxInterval>0&&u<l?s[t]("setDate",u):r>l&&n[t]("setDate",m)}}function r(e,i,s){if(e.val()){var n=e[t].call(e,"getDate");null!==n&&a.minInterval>0&&("minDate"===s&&n.setMilliseconds(n.getMilliseconds()+a.minInterval),"maxDate"===s&&n.setMilliseconds(n.getMilliseconds()-a.minInterval)),n.getTime&&i[t].call(i,"option",s,n)}}a=e.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},a);var l=!1;return"tm_timepicker"===t&&(l=!0,t="tm_datetimepicker"),e.fn[t].call(i,e.extend({timeOnly:l,onClose:function(){n(e(this),s)},onSelect:function(){r(e(this),s,"minDate")}},a,a.start)),e.fn[t].call(s,e.extend({timeOnly:l,onClose:function(){n(e(this),i)},onSelect:function(){r(e(this),i,"maxDate")}},a,a.end)),n(i,s),r(i,s,"minDate"),r(s,i,"maxDate"),e([i.get(0),s.get(0)])},e.tm_timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},e.tm_timepicker._util={_extendRemove:t,_isEmptyObject:o,_convert24to12:s,_detectSupport:i,_selectLocalTimezone:l,_computeEffectiveSetting:a,_splitDateTime:n,_parseDateTimeInternal:r},Date.prototype.getMicroseconds||(Object.defineProperty(Date.prototype,"microseconds",{value:0,writable:!0}),Object.defineProperty(Date.prototype,"getMicroseconds",{value:function(){return this.microseconds}}),Object.defineProperty(Date.prototype,"setMicroseconds",{value:function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}})),e.tm_timepicker.version="1.6.3"}});!function(t,e,i,s){"use strict";function n(e,i){this.settings=null,this.options=t.extend({},n.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(n.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(n.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}n.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"linear",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Type={Event:"event",State:"state"},n.Plugins={},n.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};i||this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};s>0;)s-=1,i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,o[s]=n?e*i:this._items[s].width();this._widths=o}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),o=2*Math.ceil(i.length/2),r=s.loop&&i.length?s.rewind?n:Math.max(n,o):0,a="",h="";for(r/=2;r>0;)e.push(this.normalize(e.length/2,!0)),a+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),h=i[e[e.length-1]][0].outerHTML+h,r-=1;this._clones=e,t(a).addClass("cloned").appendTo(this.$stage),t(h).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=0,s=0,n=0,o=[];i<e;)s=o[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,o.push(s+n*t),i+=1;this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e>0;)e-=1,t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*n,h=[];for(i=0,s=this._coordinates.length;i<s;i+=1)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*n,(this.op(t,"<=",r)&&this.op(t,">",a)||this.op(e,"<",r)&&this.op(e,">",a))&&h.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+h.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],n.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(t("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},n.prototype.initializeItems=function(){var e=this.$element.find(".owl-item");if(e.length)return this._items=e.get().map(function(e){return t(e)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},n.prototype.initialize=function(){var t,e,i;this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,i=this.$element.children(e).width(),t.length&&i<=0&&this.preloadAutoWidthImages(t)),this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},n.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},n.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,function(t){t<=e&&t>s&&(s=Number(t))}),"function"==typeof(n=t.extend({},this.options,i[s])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},n.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy(function(t){return this[t]},this._invalidated),n={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e+=1;this._invalidated={},this.is("valid")||this.enter("valid")},n.prototype.width=function(t){switch(t=t||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},n.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},n.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},n.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?s={x:(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===s.length?12:4],y:s[16===s.length?13:5]}:(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},n.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,o.x=Math.max(Math.min(o.x,e+s),i+s)),this._drag.stage.current=o,this.animate(o.x))},n.prototype.onDragEnd=function(e){var s,n=this.difference(this._drag.pointer,this.pointer(e)),o=this._drag.stage.current,r=n.x>0;s=r&&!this.settings.rtl||this.settings.rtl&&!r?"left":"right",t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==n.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(o.x,0!==n.x?s:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=s,(Math.abs(n.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},n.prototype.closest=function(e,i){var s=-1,n=this.width(),o=this.coordinates();return this.settings.freeDrag||t.each(o,t.proxy(function(t,r){return"left"===i&&e>r-30&&e<r+30?s=t:"right"===i&&e>r-n-30&&e<r-n+30?s=t+1:this.op(e,"<",r)&&this.op(e,">",void 0!==o[t+1]?o[t+1]:r-n)&&(s="left"===i?t+1:t),-1===s},this)),this.settings.loop||(this.op(e,">",o[this.minimum()])?(e=this.minimum(),s=e):this.op(e,"<",o[this.maximum()])&&(e=this.maximum(),s=e)),s},n.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},n.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},n.prototype.current=function(t){var e;if(void 0===t)return this._current;if(0!==this._items.length)return t=this.normalize(t),this._current!==t&&(void 0!==(e=this.trigger("change",{property:{name:"position",value:t}})).data&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})),this._current},n.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},n.prototype.reset=function(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},n.prototype.normalize=function(t,e){var i=this._items.length,s=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=void 0:(t<0||t>=i+s)&&(t=((t-s/2)%i+i)%i+s/2),t},n.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},n.prototype.maximum=function(t){var e,i,s,n=this.settings,o=this._coordinates.length;if(n.loop)o=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){if(e=this._items.length)for(e-=1,i=this._items[e].width(),s=this.$element.width();e>0&&!((i+=this._items[e].width()+this.settings.margin)>s);)e-=1;o=e+1}else o=n.center?this._items.length-1:this._items.length-n.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},n.prototype.minimum=function(t){return t?0:this._clones.length/2},n.prototype.items=function(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),this._items[t])},n.prototype.mergers=function(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},n.prototype.clones=function(e){var i=this._clones.length/2,s=i+this._items.length,n=function(t){return t%2==0?s+t/2:i-(t+1)/2};return void 0===e?t.map(this._clones,function(t,e){return n(e)}):t.map(this._clones,function(t,i){return t===e?n(i):null})},n.prototype.speed=function(t){return void 0!==t&&(this._speed=t),this._speed},n.prototype.coordinates=function(e){var i,s=1,n=e-1;return void 0===e?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(s=-1,n=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[n]||0))/2*s):i=this._coordinates[n]||0,i=Math.ceil(i))},n.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),o=(n>0)-(n<0),r=this._items.length,a=this.minimum(),h=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>r/2&&(n+=-1*o*r),(s=(((t=i+n)-a)%r+r)%r+a)!==t&&s-n<=h&&s-n>0&&(i=s-n,t=s,this.reset(i))):t=this.settings.rewind?(t%(h+=1)+h)%h:Math.max(a,Math.min(h,t)),this.speed(this.duration(i,t,e)),this.current(t),this.isVisible()&&this.update()},n.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},n.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},n.prototype.onTransitionEnd=function(t){if(void 0!==t&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},n.prototype.viewport=function(){var s;if(this.options.responsiveBaseElement!==e)s=t(this.options.responsiveBaseElement).width();else if(e.innerWidth)s=e.innerWidth;else{if(!i.documentElement||!i.documentElement.clientWidth)return s;s=i.documentElement.clientWidth}return s},n.prototype.replace=function(i){this.$stage.empty(),this._items=[],i&&(i=i instanceof e.jQuery?i:t(i)),this.settings.nestedItemSelector&&(i=i.find("."+this.settings.nestedItemSelector)),i.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(i,s){var n=this.relative(this._current);s=void 0===s?this._items.length:this.normalize(s,!0),i=i instanceof e.jQuery?i:t(i),this.trigger("add",{content:i,position:s}),i=this.prepare(i),0===this._items.length||s===this._items.length?(0===this._items.length&&this.$stage.append(i),0!==this._items.length&&this._items[s-1].after(i),this._items.push(i),this._mergers.push(1*i.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[s].before(i),this._items.splice(s,0,i),this._mergers.splice(s,0,1*i.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[n]&&this.reset(this._items[n].index()),this.invalidate("items"),this.trigger("added",{content:i,position:s})},n.prototype.remove=function(t){void 0!==(t=this.normalize(t,!0))&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},n.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),this.is("pre-loading")||this.is("initializing")||this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},n.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize)),t.map(this._plugins,function(t){return t}).forEach(function(t){t&&t.destroy()}),this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},n.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:t<i;case">":return s?t<i:t>i;case">=":return s?t<=i:t>=i;case"<=":return s?t>=i:t<=i}},n.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},n.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},n.prototype.trigger=function(e,i,s){var o={item:{count:this._items.length,index:this.current()}},r=t.camelCase(t.grep(["on",e,s],function(t){return t}).join("-").toLowerCase()),a=t.Event([e,"owl",s||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},o,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(a)}),this.register({type:n.Type.Event,name:e}),this.$element.trigger(a),this.settings&&"function"==typeof this.settings[r]&&this.settings[r].call(this,a)),a},n.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){void 0===this._states.current[e]&&(this._states.current[e]=0),this._states.current[e]+=1},this))},n.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]-=1},this))},n.prototype.register=function(e){var i;e.type===n.Type.Event?(t.event.special[e.name]||(t.event.special[e.name]={}),t.event.special[e.name].owl||(i=t.event.special[e.name]._default,t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0)):e.type===n.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,s){return t.inArray(i,this._states.tags[e.name])===s},this)))},n.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},n.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},n.prototype.pointer=function(t){var i={x:null,y:null};return t=t.originalEvent||t||e.event,(t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},n.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.tmowlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),o=s.data("owl.carousel");o||(o=new n(this,"object"==typeof e&&e),s.data("owl.carousel",o),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){o.register({type:n.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},o))})),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,i)})},t.fn.tmowlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document),function(t,e){"use strict";var i=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={autoRefresh:!0,autoRefreshInterval:500},i.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},i.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},i.prototype.destroy=function(){var t,i;e.clearInterval(this._interval);for(t in this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.tmowlCarousel.Constructor.Plugins.AutoRefresh=i}(window.Zepto||window.jQuery,window),function(t,e,i,s){"use strict";var n=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){var i,s,n,o,r,a;if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"===e.property.name||"initialized"===e.type))for(s=(i=this._core.settings).center&&Math.ceil(i.items/2)||i.items,n=i.center&&-1*s||0,o=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+n,r=this._core.clones().length,a=t.proxy(function(t,e){this.load(e)},this),i.lazyLoadEager>0&&(s+=i.lazyLoadEager,i.loop&&(o-=i.lazyLoadEager,s+=1));n<s;)n+=1,this.load(r/2+this._core.relative(o)),r&&t.each(this._core.clones(this._core.relative(o)),a),o+=1},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1,lazyLoadEager:0},n.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||t.inArray(s.get(0),this._loaded)>-1||(n.each(t.proxy(function(i,s){var n,o=t(s),r=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src")||o.attr("data-srcset");this._core.trigger("load",{element:o,url:r},"lazy"),o.is("img")?o.one("load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("src",r):o.is("source")?o.one("load.owl.lazy",t.proxy(function(){this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("srcset",r):((n=new Image).onload=t.proxy(function(){o.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:o,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(s.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)t&&this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(t,e){"use strict";var i=function(e){var s=this;this._core=e,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null,t(void 0).on("load",function(){s._core.settings.autoHeight&&s.update()}),t(void 0).resize(function(){s._core.settings.autoHeight&&(null!==s._intervalId&&clearTimeout(s._intervalId),s._intervalId=setTimeout(function(){s.update()},250))})};i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,s=this._core.settings.lazyLoad,n=this._core.$stage.children().toArray().slice(e,i),o=[],r=0;t.each(n,function(e,i){o.push(t(i).height())}),(r=Math.max.apply(null,o))<=1&&s&&this._previousHeight&&(r=this._previousHeight),this._previousHeight=r,this._core.$stage.parent().height(r).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var t,e;for(t in this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery),function(t,e,i){"use strict";var s=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){var i;e.namespace&&(i=t(e.content).find(".owl-video")).length&&(i.css("display","none"),this.fetch(i,t(e.content)))},this)},this._core.options=t.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};s.Defaults={video:!1,videoHeight:!1,videoWidth:!1},s.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",s=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if((s=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(s[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(s[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},s.prototype.thumbnail=function(e,i){var s,n,o,r=i.width&&i.height?"width:"+i.width+"px;height:"+i.height+"px;":"",a=e.find("img"),h="src",l="",c=this._core.settings,p=function(i){n='<div class="owl-video-play-icon"></div>',s=c.lazyLoad?t("<div/>",{class:"owl-video-tn "+l,srcType:i}):t("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+i+")"}),e.after(s),e.after(n)};if(e.wrap(t("<div/>",{class:"owl-video-wrapper",style:r})),this._core.settings.lazyLoad&&(h="data-src",l="owl-lazy"),a.length)return p(a.attr(h)),a.remove(),!1;"youtube"===i.type?(o="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",p(o)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,p(o)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t.framegrab_url,p(o)}})},s.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},s.prototype.play=function(e){var i,s=t(e.target).closest("."+this._core.settings.itemClass),n=this._videos[s.attr("data-video")],o=n.width||"100%",r=n.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),s=this._core.items(this._core.relative(s.index())),this._core.reset(s.index()),(i=t('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",r),i.attr("width",o),"youtube"===n.type?i.attr("src","//www.youtube.com/embed/"+n.id+"?autoplay=1&rel=0&v="+n.id):"vimeo"===n.type?i.attr("src","//player.vimeo.com/video/"+n.id+"?autoplay=1"):"vzaar"===n.type&&i.attr("src","//view.vzaar.com/"+n.id+"/player?autoplay=true"),t(i).wrap('<div class="owl-video-frame" />').insertAfter(s.find(".owl-video")),this._playing=s.addClass("owl-video-playing"))},s.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},s.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.Video=s}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(e){this.core=e,this.core.options=t.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"===t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){var e,i,s,n,o,r;1===this.core.settings.items&&t.support.animation&&t.support.transition&&(this.core.speed(0),i=t.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut,this.core.current()!==this.previous&&(r&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(r)),o&&n.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(o)))},n.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)t&&this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(t,e,i){"use strict";var s=function(e){this._core=e,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},s.Defaults,this._core.options)};s.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},s.prototype._next=function(s){this._call=e.setTimeout(t.proxy(this._next,this,s),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||i.hidden||this._core.next(s||this._core.settings.autoplaySpeed)},s.prototype.read=function(){return(new Date).getTime()-this._time},s.prototype.play=function(i,s){var n;this._core.is("rotating")||this._core.enter("rotating"),i=i||this._core.settings.autoplayTimeout,n=Math.min(this._time%(this._timeout||i),i),this._paused?(this._time=this.read(),this._paused=!1):e.clearTimeout(this._call),this._time+=this.read()%i-n,this._timeout=i,this._call=e.setTimeout(t.proxy(this._next,this,s),i-n)},s.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,e.clearTimeout(this._call),this._core.leave("rotating"))},s.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,e.clearTimeout(this._call))},s.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.autoplay=s}(window.Zepto||window.jQuery,window,document),function(t){"use strict";var e=function(i){this._core=i,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var e,i=this._core.settings;this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t('<button role="button">').addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",t.proxy(function(e){var s=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(s,i.dotsSpeed)},this));for(e in this._overrides)e&&(this._core[e]=t.proxy(this[e],this))},e.prototype.destroy=function(){var t,e,i,s,n;n=this._core.settings;for(t in this._handlers)t&&this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&n.navContainer?this._controls[e].html(""):this._controls[e].remove();for(s in this.overides)s&&(this._core[s]=this._overrides[s]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.prototype.update=function(){var t,e,i=this._core.clones().length/2,s=i+this._core.items().length,n=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"===o.slideBy)for(this._pages=[],t=i,e=0;t<s;t+=1){if(e>=r||0===e){if(this._pages.push({start:Math.min(n,t-i),end:t-i+r-1}),Math.min(n,t-i)===n)break;e=0}e+=this._core.mergers(this._core.relative(t))}},e.prototype.draw=function(){var e,i=this._core.settings,s=this._core.items().length<=i.items,n=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},e.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t){return t.start<=e&&t.end>=e},this)).pop()},e.prototype.getPosition=function(e){var i,s,n=this._core.settings;return"page"===n.slideBy?(i=t.inArray(this.current(),this._pages),s=this._pages.length,e?i+=1:i-=1,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,e?i+=n.slideBy:i-=n.slideBy),i},e.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},e.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},e.prototype.to=function(e,i,s){var n;!s&&this._pages.length?(n=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%n+n)%n].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.tmowlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery),function(t,e){"use strict";var i=function(s){this._core=s,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){var i;if(e.namespace){if(!(i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash")))return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){var s,n;if(i.namespace&&"position"===i.property.name){if(s=this._core.items(this._core.relative(this._core.current())),!(n=t.map(this._hashes,function(t,e){return t===s?e:null}).join())||e.location.hash.slice(1)===n)return;e.location.hash=n}},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(){var t=e.location.hash.substring(1),i=this._core.$stage.children(),s=this._hashes[t]&&i.index(this._hashes[t]);void 0!==s&&s!==this._core.current()&&this._core.to(this._core.relative(s),!1,!0)},this))};i.Defaults={URLhashListener:!1},i.prototype.destroy=function(){var i,s;t(e).off("hashchange.owl.navigation");for(i in this._handlers)i&&this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},t.fn.tmowlCarousel.Constructor.Plugins.Hash=i}(window.Zepto||window.jQuery,window),function(t){"use strict";function e(e,i){var s=!1,r=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+o.join(r+" ")+r).split(" "),function(t,e){if(void 0!==n[e])return s=!i||e,!1}),s}function i(t){return e(t,!0)}var s,n=t("<support>").get(0).style,o="Webkit Moz O ms".split(" "),r={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}};(s={csstransforms:function(){return!!e("transform")},csstransforms3d:function(){return!!e("perspective")},csstransitions:function(){return!!e("transition")},cssanimations:function(){return!!e("animation")}}).csstransitions()&&(t.support.transition=new String(i("transition")),t.support.transition.end=r.transition.end[t.support.transition]),s.cssanimations()&&(t.support.animation=new String(i("animation")),t.support.animation.end=r.animation.end[t.support.animation]),s.csstransforms()&&(t.support.transform=new String(i("transform")),t.support.transform3d=s.csstransforms3d())}(window.Zepto||window.jQuery);!function(t,e,o,n){"use strict";function a(t,e){return t[e]===n?y[e]:t[e]}function r(){var t=e.pageYOffset;return t===n?g.scrollTop:t}function i(){b>1?(b=1,d(),setTimeout(i,y.throttle)):b=0}function l(t){E.length&&(t&&"scroll"===t.type&&t.currentTarget===e&&T>=r()||(b||setTimeout(i,0),b=2))}function s(t,e){var o=y["on"+t];o&&(w(o)?o.call(e[0]):(o.addClass&&e.addClass(o.addClass),o.removeClass&&e.removeClass(o.removeClass))),e.trigger("lazy"+t,[e]),l()}function c(e){s(e.type,t(e.currentTarget).off(v,c))}function d(o){var n,a,i,l,d,u,f,m,p,z,b,L,I,X,k,B;if(E.length){for(o=o||y.forceLoad,T=1/0,n=r(),a=e.innerHeight||g.clientHeight,i=e.innerWidth||g.clientWidth,l=0,d=E.length;l<d;l+=1)f=(u=E[l])[0],m=u[A],p=!1,z=o||C(f,h)<0,t.contains(g,f)?(o||!m.visibleOnly||f.offsetWidth||f.offsetHeight)&&(z||(L=f.getBoundingClientRect(),I=m.edgeX,X=m.edgeY,z=(b=L.top+n-X-a)<=n&&L.bottom>-X&&L.left<=i+I&&L.right>-I),z?(u.on(v,c),s("show",u),k=m.srcAttr,(B=w(k)?k(u):f.getAttribute(k))&&(f.src=B),p=!0):b<T&&(T=b)):p=!0,p&&(C(f,h,0),E.splice(l,1),l-=1,d-=1);d||s("complete",t(g))}}function u(){p.lazyLoadXT()}function f(){d(!0)}var A="lazyLoadXT",h="lazied",v="load error",g=o.documentElement||o.body,y={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:e.onscroll===n||!!e.operamini||!g.getBoundingClientRect,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:"lazy-hidden"},onload:{removeClass:"lazy-hidden",addClass:"lazy-loaded"},onerror:{removeClass:"lazy-hidden"},checkDuplicates:!0},m={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},p=t(e),w=t.isFunction,z=t.extend,C=t.data||function(e,o){return t(e).data(o)},E=[],T=0,b=0;t[A]=z(y,m,t[A]),t.fn[A]=function(o){var n,r,i,c,d={};return o=o||{},n=a(o,"blankImage"),r=a(o,"checkDuplicates"),i=a(o,"scrollContainer"),c=a(o,"show"),t(i).on("scroll",l),Object.keys(m).forEach(function(t){d[t]=a(o,t)}),this.each(function(a,i){var u,f;if(i===e)t(y.selector).lazyLoadXT(o);else{if(u=r&&C(i,h),f=t(i).data(h,c?-1:1),u)return void l();n&&"IMG"===i.tagName&&!i.src&&(i.src=n),f[A]=z({},d),s("init",f),E.push(f),l()}})},t(o).ready(function(){s("start",p),p.on(y.updateEvent,l).on(y.forceEvent,f),t(o).on(y.updateEvent,l),y.autoInit&&(p.on(y.loadEvent,u),u())})}(window.jQuery||window.Zepto||window.$,window,document),function(t){"use strict";var e=t.lazyLoadXT;e.selector+=",video,iframe[data-src]",e.videoPoster="data-poster",t(document).on("lazyshow","video",function(o,n){var a=n.lazyLoadXT.srcAttr,r=t.isFunction(a),i=!1;n.attr("poster",n.attr(e.videoPoster)),n.children("source,track").each(function(e,o){var n=t(o),l=r?a(n):n.attr(a);l&&(n.attr("src",l),i=!0)}),i&&this.load()})}(window.jQuery||window.Zepto||window.$);!function(t,a,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?window.module.exports=t(window.require("jquery")):t(a||e)}(function(t){"use strict";var a,e=window.JSON,n=function(a,e,n){var s,o,r=this,i={invalid:[],getCaret:function(){var t,e,n,s,o=0;try{return e=a.get(0),n=document.selection,s=e.selectionStart,n&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=n.createRange()).moveStart("character",-i.val().length),o=t.text.length):(s||"0"===s)&&(o=s),o}catch(t){window.console.log(t)}},setCaret:function(t){var e,n;try{a.is(":focus")&&((n=a.get(0)).setSelectionRange?n.setSelectionRange(t,t):((e=n.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()))}catch(t){window.console.log(t)}},events:function(){a.on("keydown.mask",function(t){a.data("mask-keycode",t.keyCode||t.which),a.data("mask-previus-value",a.val()),a.data("mask-previus-caret-pos",i.getCaret()),i.maskDigitPosMapOld=i.maskDigitPosMap}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",i.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){a.keydown().keyup()},100)}).on("change.mask",function(){a.data("changed",!0)}).on("blur.mask",function(){o===i.val()||a.data("changed")||a.trigger("change"),a.data("changed",!1)}).on("blur.mask",function(){o=i.val()}).on("focus.mask",function(a){!0===n.selectOnFocus&&t(a.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!s.test(i.val())&&i.val("")})},getRegexMask:function(){var t,a,n,s,o,i,l,c=[];for(l=0;l<e.length;l+=1)(t=r.translation[e.charAt(l)])?(a=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,(s=t.recursive)?(c.push(e.charAt(l)),o={digit:e.charAt(l),pattern:a}):c.push(n||s?a+"?":a)):c.push(e.charAt(l).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return i=c.join(""),o&&(i=i.replace(new RegExp("("+o.digit+"(.*"+o.digit+")?)"),"($1)?").replace(new RegExp(o.digit,"g"),o.pattern)),new RegExp(i)},destroyEvents:function(){a.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var e,n=a.is("input")?"val":"text";return arguments.length>0?(a[n]()!==t&&a[n](t),e=a):e=a[n](),e},calculateCaretPosition:function(){var t,e,n,s,o=a.data("mask-previus-value")||"",r=i.getMasked(),l=i.getCaret(),c=0,u=0,k=0,d=0,p=0;if(o!==r){for(t=a.data("mask-previus-caret-pos")||0,e=r.length,n=o.length,p=l;p<e&&i.maskDigitPosMap[p];p+=1)u+=1;for(p=l-1;p>=0&&i.maskDigitPosMap[p];p-=1)c+=1;for(p=l-1;p>=0;p-=1)i.maskDigitPosMap[p]&&(k+=1);for(p=t-1;p>=0;p-=1)i.maskDigitPosMapOld[p]&&(d+=1);l>n?l=10*e:t>=l&&t!==n?i.maskDigitPosMapOld[l]||(s=l,l-=d-k,l-=c,i.maskDigitPosMap[l]&&(l=s)):l>t&&(l+=k-d,l+=u)}return l},behaviour:function(e){var n,s,o=a.data("mask-keycode");if(e=e||window.event,i.invalid=[],-1===t.inArray(o,r.byPassKeys))return n=i.getMasked(),s=i.getCaret(),setTimeout(function(){i.setCaret(i.calculateCaretPosition())},t.jMaskGlobals.keyStrokeCompensation),i.val(n),i.setCaret(s),i.callbacks(e)},getMasked:function(t,a){var s,o,l,c,u,k,d,p,f=[],h=void 0===a?i.val():a+"",g=0,v=e.length,m=0,M=h.length,y=1,w="push",b=-1,C=0,j=[];for(n.reverse?(w="unshift",y=-1,s=0,g=v-1,m=M-1,o=function(){return g>-1&&m>-1}):(s=v-1,o=function(){return g<v&&m<M});o();)c=e.charAt(g),u=h.charAt(m),(k=r.translation[c])?(u.match(k.pattern)?(f[w](u),k.recursive&&(-1===b?b=g:g===s&&g!==b&&(g=b-y),s===b&&(g-=y)),g+=y):u===l?(C-=1,l=void 0):k.optional?(g+=y,m-=y):k.fallback?(f[w](k.fallback),g+=y,m-=y):i.invalid.push({p:m,v:u,e:k.pattern}),m+=y):(t||f[w](c),u===c?(j.push(m),m+=y):(l=c,j.push(m+C),C+=1),g+=y);return d=e.charAt(s),v!==M+1||r.translation[d]||f.push(d),p=f.join(""),i.mapMaskdigitPositions(p,j,M),p},mapMaskdigitPositions:function(t,a,e){var s,o=n.reverse?t.length-e:0;for(i.maskDigitPosMap={},s=0;s<a.length;s+=1)i.maskDigitPosMap[a[s]+o]=1},callbacks:function(t){var s=i.val(),r=s!==o,l=[s,t,a,n],c=function(t,a,e){"function"==typeof n[t]&&a&&n[t].apply(this,e)};c("onChange",!0===r,l),c("onKeyPress",!0===r,l),c("onComplete",s.length===e.length,l),c("onInvalid",i.invalid.length>0,[s,t,a,i.invalid,n])}};a=t(a),o=i.val(),e="function"==typeof e?e(i.val(),void 0,a,n):e,r.mask=e,r.options=n,r.remove=function(){var t=i.getCaret();return r.options.placeholder&&a.removeAttr("placeholder"),a.data("mask-maxlength")&&a.removeAttr("maxlength"),i.destroyEvents(),i.val(r.getCleanVal()),i.setCaret(t),a},r.getCleanVal=function(){return i.getMasked(!0)},r.getMaskedVal=function(t){return i.getMasked(!1,t)},r.init=function(o){var l,c,u,k;if(o=o||!1,n=n||{},r.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,r.byPassKeys=t.jMaskGlobals.byPassKeys,r.translation=t.extend({},t.jMaskGlobals.translation,n.translation),r=t.extend(!0,{},r,n),s=i.getRegexMask(),o)i.events(),i.val(i.getMasked());else{for(n.placeholder&&a.attr("placeholder",n.placeholder),a.data("mask")&&a.attr("autocomplete","off"),l=0,k=!0;l<e.length;l+=1)if((c=r.translation[e.charAt(l)])&&c.recursive){k=!1;break}k&&a.attr("maxlength",e.length).data("mask-maxlength",!0),i.destroyEvents(),i.events(),u=i.getCaret(),i.val(i.getMasked()),i.setCaret(u)}},r.init(!a.is("input"))},s=function(a,n,s){var o=t(a).data("mask"),r=e.stringify,i=t(a).val()||t(a).text();s=s||{};try{return"function"==typeof n&&(n=n(i)),"object"!=typeof o||r(o.options)!==r(s)||o.mask!==n}catch(t){window.console.log(t)}},o=function(){var a=t(this),e={},o=a.attr("data-mask");if(a.attr("data-mask-reverse")&&(e.reverse=!0),a.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0),"true"===a.attr("data-mask-selectonfocus")&&(e.selectOnFocus=!0),s(a,o,e))return a.data("mask",new n(this,o,e))};t.maskWatchers={},t.fn.mask=function(a,e){var o,r,i=this.selector,l=t.jMaskGlobals,c=l.watchInterval;return e=e||{},o=e.watchInputs||l.watchInputs,r=function(){if(s(this,a,e))return t(this).data("mask",new n(this,a,e))},t(this).each(r),i&&""!==i&&o&&(clearInterval(t.maskWatchers[i]),t.maskWatchers[i]=setInterval(function(){t(document).find(i).each(r)},c)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var a=t(this).data("mask");a&&a.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(a){((a=a||t.jMaskGlobals.maskElements)instanceof t?a:t(a)).filter(t.jMaskGlobals.dataMaskAttr).each(o)},a={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&function(t){var a,e=document.createElement("div");return t="on"+t,(a=t in e)||(e.setAttribute(t,"return;"),a="function"==typeof e[t]),e=null,a}("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},t.jMaskGlobals=t.jMaskGlobals||{},(a=t.jMaskGlobals=t.extend(!0,{},a,t.jMaskGlobals)).dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},a.watchInterval)},window.jQuery,window.Zepto);!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";function t(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}function e(t){t.parentElement.removeChild(t)}function r(t){return null!==t&&void 0!==t}function n(t){t.preventDefault()}function i(t){return t.filter(function(t){return!this[t]&&(this[t]=!0)},{})}function o(t,e){return Math.round(t/e)*e}function a(t,e){var r=t.getBoundingClientRect(),n=t.ownerDocument,i=n.documentElement,o=m(n);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),e?r.top+o.y-i.clientTop:r.left+o.x-i.clientLeft}function s(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function l(t,e,r){r>0&&(f(t,e),setTimeout(function(){d(t,e)},r))}function u(t){return Math.max(Math.min(t,100),0)}function c(t){return Array.isArray(t)?t:[t]}function p(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function f(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function d(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function h(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function m(t){var e=void 0!==window.pageXOffset,r="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:r?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:r?t.documentElement.scrollTop:t.body.scrollTop}}function g(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function v(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}function b(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function S(t,e){return 100/(e-t)}function x(t,e){return 100*e/(t[1]-t[0])}function w(t,e){return x(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function y(t,e){return e*(t[1]-t[0])/100+t[0]}function E(t,e){for(var r=1;t>=e[r];)r+=1;return r}function C(t,e,r){if(r>=t.slice(-1)[0])return 100;var n=E(r,t),i=t[n-1],o=t[n],a=e[n-1],s=e[n];return a+w([i,o],r)/S(a,s)}function N(t,e,r){if(r>=100)return t.slice(-1)[0];var n=E(r,e),i=t[n-1],o=t[n],a=e[n-1];return y([i,o],(r-a)*S(a,e[n]))}function U(t,e,r,n){if(100===n)return n;var i=E(n,t),a=t[i-1],s=t[i];return r?n-a>(s-a)/2?s:a:e[i-1]?t[i-1]+o(n-t[i-1],e[i-1]):n}function k(t,e,r){var n;if("number"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error("noUiSlider ("+Z+"): 'range' contains invalid value.");if(n="min"===t?0:"max"===t?100:parseFloat(t),!s(n)||!s(e[0]))throw new Error("noUiSlider ("+Z+"): 'range' value isn't numeric.");r.xPct.push(n),r.xVal.push(e[0]),n?r.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(r.xSteps[0]=e[1]),r.xHighestCompleteStep.push(0)}function P(t,e,r){if(e)if(r.xVal[t]!==r.xVal[t+1]){r.xSteps[t]=x([r.xVal[t],r.xVal[t+1]],e)/S(r.xPct[t],r.xPct[t+1]);var n=(r.xVal[t+1]-r.xVal[t])/r.xNumSteps[t],i=Math.ceil(Number(n.toFixed(3))-1),o=r.xVal[t]+r.xNumSteps[t]*i;r.xHighestCompleteStep[t]=o}else r.xSteps[t]=r.xHighestCompleteStep[t]=r.xVal[t]}function A(t,e,r){this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var n,i=[];for(n in t)t.hasOwnProperty(n)&&i.push([t[n],n]);for(i.length&&"object"==typeof i[0][0]?i.sort(function(t,e){return t[0][0]-e[0][0]}):i.sort(function(t,e){return t[0]-e[0]}),n=0;n<i.length;n++)k(i[n][1],i[n][0],this);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)P(n,this.xNumSteps[n],this)}function V(e){if(t(e))return!0;throw new Error("noUiSlider ("+Z+"): 'format' requires 'to' and 'from' methods.")}function M(t,e){if(!s(e))throw new Error("noUiSlider ("+Z+"): 'step' is not numeric.");t.singleStep=e}function O(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider ("+Z+"): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider ("+Z+"): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider ("+Z+"): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new A(e,t.snap,t.singleStep)}function L(t,e){if(e=c(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider ("+Z+"): 'start' option is incorrect.");t.handles=e.length,t.start=e}function z(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider ("+Z+"): 'snap' option must be a boolean.")}function j(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider ("+Z+"): 'animate' option must be a boolean.")}function H(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider ("+Z+"): 'animationDuration' option must be a number.")}function F(t,e){var r,n=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(r=1;r<t.handles;r++)n.push(e);n.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider ("+Z+"): 'connect' option doesn't match handle count.");n=e}t.connect=n}function D(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider ("+Z+"): 'orientation' option is invalid.")}}function T(t,e){if(!s(e))throw new Error("noUiSlider ("+Z+"): 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider ("+Z+"): 'margin' option is only supported on linear sliders.")}function R(t,e){if(!s(e))throw new Error("noUiSlider ("+Z+"): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit||t.handles<2)throw new Error("noUiSlider ("+Z+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function B(t,e){if(!s(e)&&!Array.isArray(e))throw new Error("noUiSlider ("+Z+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!s(e[0])&&!s(e[1]))throw new Error("noUiSlider ("+Z+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){if(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getMargin(e[0]),t.spectrum.getMargin(e[1])],!1===t.padding[0]||!1===t.padding[1])throw new Error("noUiSlider ("+Z+"): 'padding' option is only supported on linear sliders.");if(t.padding[0]<0||t.padding[1]<0)throw new Error("noUiSlider ("+Z+"): 'padding' option must be a positive number(s).");if(t.padding[0]+t.padding[1]>100)throw new Error("noUiSlider ("+Z+"): 'padding' option must not exceed 100% of the range.")}}function q(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider ("+Z+"): 'direction' option was not recognized.")}}function X(t,e){if("string"!=typeof e)throw new Error("noUiSlider ("+Z+"): 'behaviour' must be a string containing options.");var r=e.indexOf("tap")>=0,n=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,a=e.indexOf("hover")>=0,s=e.indexOf("unconstrained")>=0;if(i){if(2!==t.handles)throw new Error("noUiSlider ("+Z+"): 'fixed' behaviour must be used with 2 handles");T(t,t.start[1]-t.start[0])}if(s&&(t.margin||t.limit))throw new Error("noUiSlider ("+Z+"): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:r||o,drag:n,fixed:i,snap:o,hover:a,unconstrained:s}}function Y(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var r=0;r<t.handles;r++)t.tooltips.push(!0)}else{if(t.tooltips=c(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider ("+Z+"): must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider ("+Z+"): 'tooltips' must be passed a formatter or 'false'.")})}}function _(t,e){t.ariaFormat=e,V(e)}function I(t,e){t.format=e,V(e)}function W(t,e){if(t.keyboardSupport=e,"boolean"!=typeof e)throw new Error("noUiSlider ("+Z+"): 'keyboardSupport' option must be a boolean.")}function $(t,e){t.documentElement=e}function G(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider ("+Z+"): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function J(t,e){if("object"!=typeof e)throw new Error("noUiSlider ("+Z+"): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix){t.cssClasses={};for(var r in e)e.hasOwnProperty(r)&&(t.cssClasses[r]=t.cssPrefix+e[r])}else t.cssClasses=e}function K(t){var e={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:tt,format:tt},n={step:{r:!1,t:M},start:{r:!0,t:L},connect:{r:!0,t:F},direction:{r:!0,t:q},snap:{r:!1,t:z},animate:{r:!1,t:j},animationDuration:{r:!1,t:H},range:{r:!0,t:O},orientation:{r:!1,t:D},margin:{r:!1,t:T},limit:{r:!1,t:R},padding:{r:!1,t:B},behaviour:{r:!0,t:X},ariaFormat:{r:!1,t:_},format:{r:!1,t:I},tooltips:{r:!1,t:Y},keyboardSupport:{r:!0,t:W},documentElement:{r:!1,t:$},cssPrefix:{r:!0,t:G},cssClasses:{r:!0,t:J}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(n).forEach(function(o){if(!r(t[o])&&void 0===i[o]){if(n[o].r)throw new Error("noUiSlider ("+Z+"): '"+o+"' is required.");return!0}n[o].t(e,r(t[o])?t[o]:i[o])}),e.pips=t.pips;var o=document.createElement("div"),a=void 0!==o.style.msTransform,s=void 0!==o.style.transform;e.transformRule=s?"transform":a?"msTransform":"webkitTransform";var l=[["left","top"],["right","bottom"]];return e.style=l[e.dir][e.ort],e}function Q(t,r,o){function s(t,e){var r=Nt.createElement("div");return e&&f(r,e),t.appendChild(r),r}function p(t,e){var n=s(t,r.cssClasses.origin),i=s(n,r.cssClasses.handle);return s(i,r.cssClasses.touchArea),i.setAttribute("data-handle",e),r.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",function(t){return Y(t,e)})),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===e?f(i,r.cssClasses.handleLower):e===r.handles-1&&f(i,r.cssClasses.handleUpper),n}function S(t,e){return!!e&&s(t,r.cssClasses.connect)}function x(t,e){var n=s(e,r.cssClasses.connects);pt=[],(ft=[]).push(S(n,t[0]));for(var i=0;i<r.handles;i++)pt.push(p(e,i)),yt[i]=i,ft.push(S(n,t[i+1]))}function w(t){return f(t,r.cssClasses.target),0===r.dir?f(t,r.cssClasses.ltr):f(t,r.cssClasses.rtl),0===r.ort?f(t,r.cssClasses.horizontal):f(t,r.cssClasses.vertical),s(t,r.cssClasses.base)}function y(t,e){return!!r.tooltips[e]&&s(t.firstChild,r.cssClasses.tooltip)}function E(){return bt.hasAttribute("disabled")}function C(t){return pt[t].hasAttribute("disabled")}function N(){ht&&(W("update.tooltips"),ht.forEach(function(t){t&&e(t)}),ht=null)}function U(){N(),ht=pt.map(y),I("update.tooltips",function(t,e,n){if(ht[e]){var i=t[e];!0!==r.tooltips[e]&&(i=r.tooltips[e].to(n[e])),ht[e].innerHTML=i}})}function k(){I("update",function(t,e,n,i,o){yt.forEach(function(t){var e=pt[t],i=G(wt,t,0,!0,!0,!0),a=G(wt,t,100,!0,!0,!0),s=o[t],l=r.ariaFormat.to(n[t]);i=St.fromStepping(i).toFixed(1),a=St.fromStepping(a).toFixed(1),s=St.fromStepping(s).toFixed(1),e.children[0].setAttribute("aria-valuemin",i),e.children[0].setAttribute("aria-valuemax",a),e.children[0].setAttribute("aria-valuenow",s),e.children[0].setAttribute("aria-valuetext",l)})})}function P(t,e,r){if("range"===t||"steps"===t)return St.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider ("+Z+"): 'values' (>= 2) required for mode 'count'.");var n=e-1,i=100/n;for(e=[];n--;)e[n]=n*i;e.push(100),t="positions"}return"positions"===t?e.map(function(t){return St.fromStepping(r?St.getStep(t):t)}):"values"===t?r?e.map(function(t){return St.fromStepping(St.getStep(St.toStepping(t)))}):e:void 0}function A(t,e,r){function n(t,e){return(t+e).toFixed(7)/1}var o={},a=St.xVal[0],s=St.xVal[St.xVal.length-1],l=!1,u=!1,c=0;return(r=i(r.slice().sort(function(t,e){return t-e})))[0]!==a&&(r.unshift(a),l=!0),r[r.length-1]!==s&&(r.push(s),u=!0),r.forEach(function(i,a){var s,p,f,d,h,m,g,v,b,S,x=i,w=r[a+1],y="steps"===e;if(y&&(s=St.xNumSteps[a]),s||(s=w-x),!1!==x&&void 0!==w)for(s=Math.max(s,1e-7),p=x;p<=w;p=n(p,s)){for(v=(h=(d=St.toStepping(p))-c)/t,S=h/(b=Math.round(v)),f=1;f<=b;f+=1)o[(m=c+f*S).toFixed(5)]=[St.fromStepping(m),0];g=r.indexOf(p)>-1?Vt:y?Mt:At,!a&&l&&(g=0),p===w&&u||(o[d.toFixed(5)]=[p,g]),c=d}}),o}function V(t,e,n){function i(t,e){var n=e===r.cssClasses.value,i=n?c:p,o=n?l:u;return e+" "+i[r.ort]+" "+o[t]}function o(t,o,l){if((l=e?e(o,l):l)!==Pt){var u=s(a,!1);u.className=i(l,r.cssClasses.marker),u.style[r.style]=t+"%",l>At&&((u=s(a,!1)).className=i(l,r.cssClasses.value),u.setAttribute("data-value",o),u.style[r.style]=t+"%",u.innerHTML=n.to(o))}}var a=Nt.createElement("div"),l=[];l[At]=r.cssClasses.valueNormal,l[Vt]=r.cssClasses.valueLarge,l[Mt]=r.cssClasses.valueSub;var u=[];u[At]=r.cssClasses.markerNormal,u[Vt]=r.cssClasses.markerLarge,u[Mt]=r.cssClasses.markerSub;var c=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],p=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return f(a,r.cssClasses.pips),f(a,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach(function(e){o(e,t[e][0],t[e][1])}),a}function M(){dt&&(e(dt),dt=null)}function O(t){M();var e=t.mode,r=t.density||1,n=t.filter||!1,i=A(r,e,P(e,t.values||!1,t.stepped||!1)),o=t.format||{to:Math.round};return dt=bt.appendChild(V(i,n,o))}function L(){var t=ct.getBoundingClientRect(),e="offset"+["Width","Height"][r.ort];return 0===r.ort?t.width||ct[e]:t.height||ct[e]}function z(t,e,n,i){var o=function(o){return!!(o=j(o,i.pageOffset,i.target||e))&&(!(E()&&!i.doNotReject)&&(!(h(bt,r.cssClasses.tap)&&!i.doNotReject)&&(!(t===gt.start&&void 0!==o.buttons&&o.buttons>1)&&((!i.hover||!o.buttons)&&(vt||o.preventDefault(),o.calcPoint=o.points[r.ort],void n(o,i))))))},a=[];return t.split(" ").forEach(function(t){e.addEventListener(t,o,!!vt&&{passive:!0}),a.push([t,o])}),a}function j(t,e,r){var n,i,o=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(s=!0),o){var l=function(t){return t.target===r||r.contains(t.target)};if("touchstart"===t.type){var u=Array.prototype.filter.call(t.touches,l);if(u.length>1)return!1;n=u[0].pageX,i=u[0].pageY}else{var c=Array.prototype.find.call(t.changedTouches,l);if(!c)return!1;n=c.pageX,i=c.pageY}}return e=e||m(Nt),(a||s)&&(n=t.clientX+e.x,i=t.clientY+e.y),t.pageOffset=e,t.points=[n,i],t.cursor=a||s,t}function H(t){var e=100*(t-a(ct,r.ort))/L();return e=u(e),r.dir?100-e:e}function F(t){var e=100,r=!1;return pt.forEach(function(n,i){if(!C(i)){var o=Math.abs(wt[i]-t);(o<e||100===o&&100===e)&&(r=i,e=o)}}),r}function D(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&R(t,e)}function T(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return R(t,e);var n=(r.dir?-1:1)*(t.calcPoint-e.startCalcPoint);Q(n>0,100*n/e.baseSize,e.locations,e.handleNumbers)}function R(t,e){e.handle&&(d(e.handle,r.cssClasses.active),Et-=1),e.listeners.forEach(function(t){Ut.removeEventListener(t[0],t[1])}),0===Et&&(d(bt,r.cssClasses.drag),rt(),t.cursor&&(kt.style.cursor="",kt.removeEventListener("selectstart",n))),e.handleNumbers.forEach(function(t){$("change",t),$("set",t),$("end",t)})}function B(t,e){if(e.handleNumbers.some(C))return!1;var i;1===e.handleNumbers.length&&(i=pt[e.handleNumbers[0]].children[0],Et+=1,f(i,r.cssClasses.active)),t.stopPropagation();var o=[],a=z(gt.move,Ut,T,{target:t.target,handle:i,listeners:o,startCalcPoint:t.calcPoint,baseSize:L(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:wt.slice()}),s=z(gt.end,Ut,R,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers}),l=z("mouseout",Ut,D,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers});o.push.apply(o,a.concat(s,l)),t.cursor&&(kt.style.cursor=getComputedStyle(t.target).cursor,pt.length>1&&f(bt,r.cssClasses.drag),kt.addEventListener("selectstart",n,!1)),e.handleNumbers.forEach(function(t){$("start",t)})}function q(t){t.stopPropagation();var e=H(t.calcPoint),n=F(e);if(!1===n)return!1;r.events.snap||l(bt,r.cssClasses.tap,r.animationDuration),nt(n,e,!0,!0),rt(),$("slide",n,!0),$("update",n,!0),$("change",n,!0),$("set",n,!0),r.events.snap&&B(t,{handleNumbers:[n]})}function X(t){var e=H(t.calcPoint),r=St.getStep(e),n=St.fromStepping(r);Object.keys(Ct).forEach(function(t){"hover"===t.split(".")[0]&&Ct[t].forEach(function(t){t.call(mt,n)})})}function Y(t,e){if(E()||C(e))return!1;var n=["Left","Right"],i=["Down","Up"];r.dir&&!r.ort?n.reverse():r.ort&&!r.dir&&i.reverse();var o=t.key.replace("Arrow",""),a=o===i[0]||o===n[0],s=o===i[1]||o===n[1];if(!a&&!s)return!0;t.preventDefault();var l=a?0:1,u=ut(e)[l];return null!==u&&(!1===u&&(u=St.getDefaultStep(wt[e],a,10)),u=Math.max(u,1e-7),u*=a?-1:1,st(e,xt[e]+u,!0),!1)}function _(t){t.fixed||pt.forEach(function(t,e){z(gt.start,t.children[0],B,{handleNumbers:[e]})}),t.tap&&z(gt.start,ct,q,{}),t.hover&&z(gt.move,ct,X,{hover:!0}),t.drag&&ft.forEach(function(e,n){if(!1!==e&&0!==n&&n!==ft.length-1){var i=pt[n-1],o=pt[n],a=[e];f(e,r.cssClasses.draggable),t.fixed&&(a.push(i.children[0]),a.push(o.children[0])),a.forEach(function(t){z(gt.start,t,B,{handles:[i,o],handleNumbers:[n-1,n]})})}})}function I(t,e){Ct[t]=Ct[t]||[],Ct[t].push(e),"update"===t.split(".")[0]&&pt.forEach(function(t,e){$("update",e)})}function W(t){var e=t&&t.split(".")[0],r=e&&t.substring(e.length);Object.keys(Ct).forEach(function(t){var n=t.split(".")[0],i=t.substring(n.length);e&&e!==n||r&&r!==i||delete Ct[t]})}function $(t,e,n){Object.keys(Ct).forEach(function(i){var o=i.split(".")[0];t===o&&Ct[i].forEach(function(t){t.call(mt,xt.map(r.format.to),e,xt.slice(),n||!1,wt.slice())})})}function G(t,e,n,i,o,a){return pt.length>1&&!r.events.unconstrained&&(i&&e>0&&(n=Math.max(n,t[e-1]+r.margin)),o&&e<pt.length-1&&(n=Math.min(n,t[e+1]-r.margin))),pt.length>1&&r.limit&&(i&&e>0&&(n=Math.min(n,t[e-1]+r.limit)),o&&e<pt.length-1&&(n=Math.max(n,t[e+1]-r.limit))),r.padding&&(0===e&&(n=Math.max(n,r.padding[0])),e===pt.length-1&&(n=Math.min(n,100-r.padding[1]))),n=St.getStep(n),!((n=u(n))===t[e]&&!a)&&n}function J(t,e){var n=r.ort;return(n?e:t)+", "+(n?t:e)}function Q(t,e,r,n){var i=r.slice(),o=[!t,t],a=[t,!t];n=n.slice(),t&&n.reverse(),n.length>1?n.forEach(function(t,r){var n=G(i,t,i[t]+e,o[r],a[r],!1);!1===n?e=0:(e=n-i[t],i[t]=n)}):o=a=[!0];var s=!1;n.forEach(function(t,n){s=nt(t,r[t]+e,o[n],a[n])||s}),s&&n.forEach(function(t){$("update",t),$("slide",t)})}function tt(t,e){return r.dir?100-t-e:t}function et(t,e){wt[t]=e,xt[t]=St.fromStepping(e);var n="translate("+J(tt(e,0)-Ot+"%","0")+")";pt[t].style[r.transformRule]=n,it(t),it(t+1)}function rt(){yt.forEach(function(t){var e=wt[t]>50?-1:1,r=3+(pt.length+e*t);pt[t].style.zIndex=r})}function nt(t,e,r,n){return!1!==(e=G(wt,t,e,r,n,!1))&&(et(t,e),!0)}function it(t){if(ft[t]){var e=0,n=100;0!==t&&(e=wt[t-1]),t!==ft.length-1&&(n=wt[t]);var i=n-e,o="translate("+J(tt(e,i)+"%","0")+")",a="scale("+J(i/100,"1")+")";ft[t].style[r.transformRule]=o+" "+a}}function ot(t,e){return null===t||!1===t||void 0===t?wt[e]:("number"==typeof t&&(t=String(t)),t=r.format.from(t),!1===(t=St.toStepping(t))||isNaN(t)?wt[e]:t)}function at(t,e){var n=c(t),i=void 0===wt[0];e=void 0===e||!!e,r.animate&&!i&&l(bt,r.cssClasses.tap,r.animationDuration),yt.forEach(function(t){nt(t,ot(n[t],t),!0,!1)}),yt.forEach(function(t){nt(t,wt[t],!0,!0)}),rt(),yt.forEach(function(t){$("update",t),null!==n[t]&&e&&$("set",t)})}function st(t,e,r){if(!((t=Number(t))>=0&&t<yt.length))throw new Error("noUiSlider ("+Z+"): invalid handle number, got: "+t);nt(t,ot(e,t),!0,!0),$("update",t),r&&$("set",t)}function lt(){var t=xt.map(r.format.to);return 1===t.length?t[0]:t}function ut(t){var e=wt[t],n=St.getNearbySteps(e),i=xt[t],o=n.thisStep.step,a=null;if(r.snap)return[i-n.stepBefore.startValue||null,n.stepAfter.startValue-i||null];!1!==o&&i+o>n.stepAfter.startValue&&(o=n.stepAfter.startValue-i),a=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===e?o=null:0===e&&(a=null);var s=St.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(s))),null!==a&&!1!==a&&(a=Number(a.toFixed(s))),[a,o]}var ct,pt,ft,dt,ht,mt,gt=g(),vt=b()&&v(),bt=t,St=r.spectrum,xt=[],wt=[],yt=[],Et=0,Ct={},Nt=t.ownerDocument,Ut=r.documentElement||Nt.documentElement,kt=Nt.body,Pt=-1,At=0,Vt=1,Mt=2,Ot="rtl"===Nt.dir||1===r.ort?0:100;return ct=w(bt),x(r.connect,ct),_(r.events),at(r.start),r.pips&&O(r.pips),r.tooltips&&U(),k(),mt={destroy:function(){for(var t in r.cssClasses)r.cssClasses.hasOwnProperty(t)&&d(bt,r.cssClasses[t]);for(;bt.firstChild;)bt.removeChild(bt.firstChild);delete bt.noUiSlider},steps:function(){return yt.map(ut)},on:I,off:W,get:lt,set:at,setHandle:st,reset:function(t){at(r.start,t)},__moveHandles:function(t,e,r){Q(t,e,wt,r)},options:o,updateOptions:function(t,e){var n=lt(),i=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];i.forEach(function(e){void 0!==t[e]&&(o[e]=t[e])});var a=K(o);i.forEach(function(e){void 0!==t[e]&&(r[e]=a[e])}),St=a.spectrum,r.margin=a.margin,r.limit=a.limit,r.padding=a.padding,r.pips?O(r.pips):M(),r.tooltips?U():N(),wt=[],at(t.start||n,e)},target:bt,removePips:M,removeTooltips:N,pips:O}}var Z="13.1.5";A.prototype.getMargin=function(t){var e=this.xNumSteps[0];if(e&&t/e%1!=0)throw new Error("noUiSlider ("+Z+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&x(this.xVal,t)},A.prototype.toStepping=function(t){return t=C(this.xVal,this.xPct,t)},A.prototype.fromStepping=function(t){return N(this.xVal,this.xPct,t)},A.prototype.getStep=function(t){return t=U(this.xPct,this.xSteps,this.snap,t)},A.prototype.getDefaultStep=function(t,e,r){var n=E(t,this.xPct);return(100===t||e&&t===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},A.prototype.getNearbySteps=function(t){var e=E(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},A.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(p);return Math.max.apply(null,t)},A.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var tt={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};return{__spectrum:A,version:Z,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider ("+Z+"): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider ("+Z+"): Slider was already initialized.");var r=Q(t,K(e,t),e);return t.noUiSlider=r,r}}});!function(t){"use strict";function e(t){return!!V.CSS_UNIT.exec(t)}function n(t){return parseInt(t,16)}function r(t){return n(t)/255}function a(t){var e,a=!1;if(t=t.replace(q,"").replace(E,"").toLowerCase(),$[t])t=$[t],a=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=V.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=V.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=V.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=V.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=V.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=V.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=V.hex8.exec(t))?{r:n(e[1]),g:n(e[2]),b:n(e[3]),a:r(e[4]),format:a?"name":"hex8"}:(e=V.hex6.exec(t))?{r:n(e[1]),g:n(e[2]),b:n(e[3]),format:a?"name":"hex"}:(e=V.hex4.exec(t))?{r:n(e[1]+""+e[1]),g:n(e[2]+""+e[2]),b:n(e[3]+""+e[3]),a:r(e[4]+""+e[4]),format:a?"name":"hex8"}:!!(e=V.hex3.exec(t))&&{r:n(e[1]+""+e[1]),g:n(e[2]+""+e[2]),b:n(e[3]+""+e[3]),format:a?"name":"hex"}}function i(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}function o(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function s(t){return"string"==typeof t&&-1!==t.indexOf("%")}function l(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)}function c(e,n){var r;return l(e)&&(e="100%"),r=s(e),e=D(n,L(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function f(t){return D(1,L(0,t))}function u(t){return 1===t.length?"0"+t:""+t}function h(t){return t<=1&&(t=100*t+"%"),t}function d(e){return t.round(255*parseFloat(e)).toString(16)}function p(t,e,n){return{r:255*c(t,255),g:255*c(e,255),b:255*c(n,255)}}function g(t,e,n){var r,a,i,o,s,l;if(t=c(t,255),e=c(e,255),n=c(n,255),r=L(t,e,n),a=D(t,e,n),s=(r+a)/2,r===a)i=o=0;else{switch(l=r-a,o=s>.5?l/(2-r-a):l/(r+a),r){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,l:s}}function b(t,e,n){function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var a,i,o,s,l;return t=c(t,360),e=c(e,100),n=c(n,100),0===e?a=i=o=n:(a=r(l=2*n-(s=n<.5?n*(1+e):n+e-n*e),s,t+1/3),i=r(l,s,t),o=r(l,s,t-1/3)),{r:255*a,g:255*i,b:255*o}}function m(t,e,n){var r,a,i,o,s,l;if(t=c(t,255),e=c(e,255),n=c(n,255),r=L(t,e,n),a=D(t,e,n),s=r,l=r-a,o=0===r?0:l/r,r===a)i=0;else{switch(r){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,v:s}}function v(e,n,r){var a,i,o,s,l,f,u,h,d;return e=6*c(e,360),n=c(n,100),r=c(r,100),a=t.floor(e),i=e-a,o=r*(1-n),s=r*(1-i*n),l=r*(1-(1-i)*n),f=a%6,u=[r,s,o,o,l,r][f],h=[l,r,r,s,o,o][f],d=[o,o,l,r,r,s][f],{r:255*u,g:255*h,b:255*d}}function w(t,e,n,r){var a=[u(z(t).toString(16)),u(z(e).toString(16)),u(z(n).toString(16))];return r&&a[0].charAt(0)===a[0].charAt(1)&&a[1].charAt(0)===a[1].charAt(1)&&a[2].charAt(0)===a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function y(t,e,n,r,a){var i=[u(z(t).toString(16)),u(z(e).toString(16)),u(z(n).toString(16)),u(d(r))];return a&&i[0].charAt(0)===i[0].charAt(1)&&i[1].charAt(0)===i[1].charAt(1)&&i[2].charAt(0)===i[2].charAt(1)&&i[3].charAt(0)===i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function _(t,e,n,r){return[u(d(r)),u(z(t).toString(16)),u(z(e).toString(16)),u(z(n).toString(16))].join("")}function x(t){var n={r:0,g:0,b:0},r=1,i=null,s=null,l=null,c=!1,f=!1;return"string"==typeof t&&(t=a(t)),"object"==typeof t&&(e(t.r)&&e(t.g)&&e(t.b)?(n=p(t.r,t.g,t.b),c=!0,f="%"===String(t.r).substr(-1)?"prgb":"rgb"):e(t.h)&&e(t.s)&&e(t.v)?(i=h(t.s),s=h(t.v),n=v(t.h,i,s),c=!0,f="hsv"):e(t.h)&&e(t.s)&&e(t.l)&&(i=h(t.s),l=h(t.l),n=b(t.h,i,l),c=!0,f="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=o(r),{ok:c,format:t.format||f,r:D(255,L(n.r,0)),g:D(255,L(n.g,0)),b:D(255,L(n.b,0)),a:r}}function k(t,e){var n;return t=t||"",e=e||{},t instanceof k?t:this instanceof k?(n=x(t),this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=z(100*this._a)/100,e.format?this._format=e.format:this._format=n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=z(this._r)),this._g<1&&(this._g=z(this._g)),this._b<1&&(this._b=z(this._b)),this._ok=n.ok,I+=1,void(this._tc_id=I)):new k(t,e)}function A(t,e){return new k(t,e)}function S(t,e){var n;return e=0===e?0:e||10,n=A(t).toHsl(),n.s-=e/100,n.s=f(n.s),A(n)}function C(t,e){var n;return e=0===e?0:e||10,n=A(t).toHsl(),n.s+=e/100,n.s=f(n.s),A(n)}function P(t){return A(t).desaturate(100)}function F(t,e){var n;return e=0===e?0:e||10,n=A(t).toHsl(),n.l+=e/100,n.l=f(n.l),A(n)}function R(t,e){var n;return e=0===e?0:e||10,n=A(t).toRgb(),n.r=L(0,D(255,n.r-z(-e/100*255))),n.g=L(0,D(255,n.g-z(-e/100*255))),n.b=L(0,D(255,n.b-z(-e/100*255))),A(n)}function H(t,e){var n;return e=0===e?0:e||10,n=A(t).toHsl(),n.l-=e/100,n.l=f(n.l),A(n)}function T(t,e){var n=A(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,A(n)}function M(t){var e=A(t).toHsl();return e.h=(e.h+180)%360,A(e)}function N(t){var e=A(t).toHsl(),n=e.h;return[A(t),A({h:(n+120)%360,s:e.s,l:e.l}),A({h:(n+240)%360,s:e.s,l:e.l})]}function O(t){var e=A(t).toHsl(),n=e.h;return[A(t),A({h:(n+90)%360,s:e.s,l:e.l}),A({h:(n+180)%360,s:e.s,l:e.l}),A({h:(n+270)%360,s:e.s,l:e.l})]}function j(t){var e=A(t).toHsl(),n=e.h;return[A(t),A({h:(n+72)%360,s:e.s,l:e.l}),A({h:(n+216)%360,s:e.s,l:e.l})]}var q=/^\s+/,E=/\s+$/,I=0,z=t.round,D=t.min,L=t.max,B=t.random,$={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},K=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}($),V=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();k.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,n,r,a,i,o,s=this.toRgb();return e=s.r/255,n=s.g/255,r=s.b/255,a=e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4),i=n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4),.2126*a+.7152*i+.0722*o},setAlpha:function(t){return this._a=o(t),this._roundA=z(100*this._a)/100,this},toHsv:function(){var t=m(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=m(this._r,this._g,this._b),e=z(360*t.h),n=z(100*t.s),r=z(100*t.v);return 1===this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=g(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=g(this._r,this._g,this._b),e=z(360*t.h),n=z(100*t.s),r=z(100*t.l);return 1===this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return w(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return y(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:z(this._r),g:z(this._g),b:z(this._b),a:this._a}},toRgbString:function(){return 1===this._a?"rgb("+z(this._r)+", "+z(this._g)+", "+z(this._b)+")":"rgba("+z(this._r)+", "+z(this._g)+", "+z(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:z(100*c(this._r,255))+"%",g:z(100*c(this._g,255))+"%",b:z(100*c(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1===this._a?"rgb("+z(100*c(this._r,255))+"%, "+z(100*c(this._g,255))+"%, "+z(100*c(this._b,255))+"%)":"rgba("+z(100*c(this._r,255))+"%, "+z(100*c(this._g,255))+"%, "+z(100*c(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(K[w(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e,n="#"+_(this._r,this._g,this._b,this._a),r=n,a=this._gradientType?"GradientType = 1, ":"";return t&&(r="#"+_((e=A(t))._r,e._g,e._b,e._a)),"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var e,n,r=!!t;return t=t||this._format,e=!1,n=this._a<1&&this._a>=0,r||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(e=this.toRgbString()),"prgb"===t&&(e=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(e=this.toHexString()),"hex3"===t&&(e=this.toHexString(!0)),"hex4"===t&&(e=this.toHex8String(!0)),"hex8"===t&&(e=this.toHex8String()),"name"===t&&(e=this.toName()),"hsl"===t&&(e=this.toHslString()),"hsv"===t&&(e=this.toHsvString()),e||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return A(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(F,arguments)},brighten:function(){return this._applyModification(R,arguments)},darken:function(){return this._applyModification(H,arguments)},desaturate:function(){return this._applyModification(S,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(P,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},complement:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(j,arguments)},triad:function(){return this._applyCombination(N,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},k.fromRatio=function(t,e){var n,r;if("object"==typeof t){n={};for(r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:h(t[r]));t=n}return A(t,e)},k.equals=function(t,e){return!(!t||!e)&&A(t).toRgbString()===A(e).toRgbString()},k.random=function(){return k.fromRatio({r:B(),g:B(),b:B()})},k.mix=function(t,e,n){var r,a,i,o;return n=0===n?0:n||50,r=A(t).toRgb(),a=A(e).toRgb(),i=n/100,o={r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a},A(o)},k.readability=function(e,n){var r=A(e),a=A(n);return(t.max(r.getLuminance(),a.getLuminance())+.05)/(t.min(r.getLuminance(),a.getLuminance())+.05)},k.isReadable=function(t,e,n){var r,a,o=k.readability(t,e);switch(a=!1,(r=i(n)).level+r.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},k.mostReadable=function(t,e,n){var r,a,i,o,s,l=null,c=0;for(a=(n=n||{}).includeFallbackColors,i=n.level,o=n.size,s=0;s<e.length;s+=1)(r=k.readability(t,e[s]))>c&&(c=r,l=A(e[s]));return k.isReadable(t,l,{level:i,size:o})||!a?l:(n.includeFallbackColors=!1,k.mostReadable(t,["#fff","#000"],n))},k.names=$,k.hexNames=K,void 0!==window.module&&window.module.exports?window.module.exports=k:"function"==typeof window.define&&window.define.amd?window.define(function(){return k}):window.tinycolor=k}(Math),function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?window.module.exports=t(window.require("jquery")):t(window.jQuery)}(function(t,e){"use strict";function n(e,n,r,a){var i,o,s,l,c,f,h,d,p=[];for(i=0;i<e.length;i+=1)(o=e[i])?(l=(s=u(o)).toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",l+=u.equals(n,o)?" sp-thumb-active":"",c=s.toString(a.preferredFormat||"rgb"),f=m?"background-color":"filter:",h=m?s.toRgbString():s.toFilter(),p.push(t("<div />").append(t('<span title="'+c+'" data-color="'+s.toRgbString()+'" class="'+l+'"></span>').append(t('<span class="sp-thumb-inner" /></span>').css(f,h))).html())):(d="sp-clear-display",p.push(t("<div />").append(t('<span data-color="" class="'+d+'"></span>').attr("title",a.noColorSelectedText)).html()));return"<div class='sp-cf "+r+"'>"+p.join("")+"</div>"}function r(){var t;for(t=0;t<g.length;t+=1)g[t]&&g[t].hide()}function a(t,e){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}function i(e,n){var r=t.extend({},p,e);return r.callbacks={move:a(r.move,n),change:a(r.change,n),show:a(r.show,n),hide:a(r.hide,n),beforeShow:a(r.beforeShow,n)},r}function o(t,e,n){var r;return function(){var a=this,i=arguments;n&&clearTimeout(r),!n&&r||(r=setTimeout(function(){r=null,t.apply(a,i)},e))}}function s(t){t.stopPropagation()}function l(e,n,r,a){function i(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function o(){c&&(t(l).off(p),t(l.body).removeClass("sp-dragging"),setTimeout(function(){a.apply(e,arguments)},0)),c=!1}function s(t){var r,a,s,p,g;if(c){if(b&&l.documentMode<9&&!t.button)return o();a=(r=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0])&&r.pageX||t.pageX,s=r&&r.pageY||t.pageY,p=Math.max(0,Math.min(a-f.left,h)),g=Math.max(0,Math.min(s-f.top,u)),d&&i(t),n.apply(e,[p,g,t])}}var l=document,c=!1,f={},u=0,h=0,d="ontouchstart"in window,p={};n=n||function(){},r=r||function(){},a=a||function(){},p.selectstart=i,p.dragstart=i,p["touchmove mousemove"]=s,p["touchend mouseup"]=o,t(e).on("touchstart mousedown",function(n){(n.which?3===n.which:2===n.button)||c||!1!==r.apply(e,arguments)&&(c=!0,u=t(e).height(),h=t(e).width(),f=t(e).offset(),t(l).on(p),t(l.body).addClass("sp-dragging"),s(n),i(n))})}function c(e,n){var r=e.outerWidth(),a=e.outerHeight(),i=n.outerHeight(),o=e[0].ownerDocument,s=o.documentElement,l=s.clientWidth+t(o).scrollLeft(),c=s.clientHeight+t(o).scrollTop(),f=n.offset();return f.top+=i,f.left-=Math.min(f.left,f.left+r>l&&l>r?Math.abs(f.left+r-l):0),f.top-=Math.min(f.top,f.top+a>c&&c>a?Math.abs(a+i-0):0),f}function f(a,f){function h(){var t,e,n,r,a=it,i=ot;Vt&&Kt?(Ct.hide(),kt.hide(),_t.hide()):(Ct.show(),kt.show(),_t.show(),t=a*Q,e=J-i*J,t=Math.max(-Z,Math.min(Q-Z,t-Z)),e=Math.max(-Z,Math.min(J-Z,e-Z)),_t.css({top:e+"px",left:t+"px"}),n=st*et,Ct.css({left:n-nt/2+"px"}),r=at*tt,kt.css({top:r-rt+"px"}))}function p(e){var n;if(V){if(n=u(e).toRgbString(),!ft[n]&&-1===t.inArray(n,ut))for(ut.push(n);ut.length>ht;)ut.shift();if(U&&window.localStorage)try{window.localStorage[U]=ut.join(";")}catch(t){window.console.log(t)}}}function y(){var e;if(U&&window.localStorage){try{(e=window.localStorage[U].split(",#")).length>1&&(delete window.localStorage[U],t.each(e,function(t,e){p(e)}))}catch(t){window.console.log(t)}try{ut=window.localStorage[U].split(";")}catch(t){window.console.log(t)}}}function _(){var t,e,n=[];if($.showPalette)for(t=0;t<ut.length;t+=1)e=u(ut[t]).toRgbString(),ft[e]||n.push(ut[t]);return n.reverse().slice(0,$.maxSelectionSize)}function x(t){return t=t||{},Vt&&Kt?null:u.fromRatio({h:at,s:it,v:ot,a:Math.round(100*st)/100},{format:t.format||Bt})}function k(){var e=x(),r=t.map(ct,function(t,r){return n(t,e,"sp-palette-row sp-palette-row-"+r,$)});y(),ut&&r.push(n(_(),e,"sp-palette-row sp-palette-row-selection",$)),Ft.html(r.join(""))}function A(){Y&&(Q=yt.width(),J=yt.height(),Z=_t.height(),tt=xt.height(),rt=kt.height(),et=St.width(),nt=Ct.width(),K||(vt.css("position","absolute"),$.offset?vt.offset($.offset):vt.offset(c(vt,It))),h(),$.showPalette&&k(),bt.trigger("reflow.spectrum"))}function S(){var t,e,n;if($.showPaletteOnly&&($.showPalette=!0),Nt.text($.showPaletteOnly?$.togglePaletteMoreText:$.togglePaletteLessText),$.palette)for(lt=$.palette.slice(0),ct=Array.isArray(lt[0])?lt:[lt],ft={},t=0;t<ct.length;t+=1)for(e=0;e<ct[t].length;e+=1)n=u(ct[t][e]).toRgbString(),ft[n]=!0;vt.toggleClass("sp-flat",K),vt.toggleClass("sp-input-disabled",!$.showInput),vt.toggleClass("sp-alpha-enabled",$.showAlpha),vt.toggleClass("sp-clear-enabled",Vt),vt.toggleClass("sp-buttons-disabled",!$.showButtons),vt.toggleClass("sp-palette-buttons-disabled",!$.togglePaletteOnly),vt.toggleClass("sp-palette-disabled",!$.showPalette),vt.toggleClass("sp-palette-only",$.showPaletteOnly),vt.toggleClass("sp-initial-disabled",!$.showInitial),vt.addClass($.className).addClass($.containerClassName),A()}function C(){var t,e;$.showInitial&&(t=Lt,e=x(),Rt.html(n([t,e],e,"sp-palette-row-initial",$)))}function P(){(J<=0||Q<=0||tt<=0)&&A(),G=!0,vt.addClass(dt),pt=null,bt.trigger("dragstart.spectrum",[x()])}function F(){G=!1,vt.removeClass(dt),bt.trigger("dragstop.spectrum",[x()])}function R(){var t,e,n,r,a,i,o,s,l;Pt.removeClass("sp-validation-error"),h(),t=u.fromRatio({h:at,s:1,v:1}),yt.css("background-color",t.toHexString()),e=Bt,st<1&&(0!==st||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb")),n=x({format:e}),r="",zt.removeClass("sp-clear-display"),zt.css("background-color","transparent"),!n&&Vt?zt.addClass("sp-clear-display"):(a=n.toHexString(),i=n.toRgbString(),m||1===n.alpha?zt.css("background-color",i):(zt.css("background-color","transparent"),zt.css("filter",n.toFilter())),$.showAlpha&&((o=n.toRgb()).a=0,l="linear-gradient(left, "+(s=u(o).toRgbString())+", "+a+")",b?At.css("filter",u(s).toFilter({gradientType:1},a)):(At.css("background","-webkit-"+l),At.css("background","-moz-"+l),At.css("background","-ms-"+l),At.css("background","linear-gradient(to right, "+s+", "+a+")"))),r=n.toString(e)),$.showInput&&Pt.val(r),$.showPalette&&k(),C()}function H(t,e){var n,r;u.equals(t,x())?R():(!t&&Vt?Kt=!0:(Kt=!1,r=(n=u(t)).toHsv(),at=r.h%360/360,it=r.s,ot=r.v,st=r.a),R(),n&&n.isValid()&&!e&&(Bt=$.preferredFormat||n.getFormat()))}function T(t){var e=x(),n="",r=!u.equals(e,Lt);e&&(n=e.toString(Bt),p(e)),Ot&&bt.val(n),t&&r&&(X.change(e),bt.trigger("change",[e]))}function M(){var t,e=Pt.val();null!==e&&""!==e||!Vt?(t=u(e)).isValid()?(H(t),T(!0)):Pt.addClass("sp-validation-error"):(H(null),T(!0))}function N(){Y&&!K&&(Y=!1,t(gt).off("keydown.spectrum"),t(gt).off("click.spectrum"),t(window).off("resize.spectrum"),Et.removeClass("sp-active"),vt.addClass("sp-hidden"),X.hide(x()),bt.trigger("hide.spectrum",[x()]))}function O(t){27===t.keyCode&&N()}function j(){H(Lt,!0)}function q(t){2!==t.button&&(G||($t?T(!0):j(),N()))}function E(){o(A,10)}function I(){var e=t.Event("beforeShow.spectrum");Y?A():(bt.trigger(e,[x()]),!1===X.beforeShow(x())||e.isDefaultPrevented()||(r(),Y=!0,t(gt).on("keydown.spectrum",O),t(gt).on("click.spectrum",q),t(window).on("resize.spectrum",E),Et.addClass("sp-active"),vt.removeClass("sp-hidden"),A(),R(),Lt=x(),C(),X.show(Lt),bt.trigger("show.spectrum",[Lt])))}function z(){Y?N():I()}function D(){return!Pt.hasClass("sp-validation-error")}function L(){R(),X.move(x()),bt.trigger("move.spectrum",[x()])}function B(){N(),mt=!0,bt.attr("disabled",!0),It.addClass("sp-disabled")}var $=i(f,a),K=$.flat,V=$.showSelectionPalette,U=$.localStorageKey,W=$.theme,X=$.callbacks,Y=!1,G=!1,Q=0,J=0,Z=0,tt=0,et=0,nt=0,rt=0,at=0,it=0,ot=0,st=1,lt=[],ct=[],ft={},ut=$.selectionPalette.slice(0),ht=$.maxSelectionSize,dt="sp-dragging",pt=null,gt=a.ownerDocument,bt=t(a),mt=!1,vt=t(w,gt).addClass(W),wt=vt.find(".sp-picker-container"),yt=vt.find(".sp-color"),_t=vt.find(".sp-dragger"),xt=vt.find(".sp-hue"),kt=vt.find(".sp-slider"),At=vt.find(".sp-alpha-inner"),St=vt.find(".sp-alpha"),Ct=vt.find(".sp-alpha-handle"),Pt=vt.find(".sp-input"),Ft=vt.find(".sp-palette"),Rt=vt.find(".sp-initial"),Ht=vt.find(".sp-cancel"),Tt=vt.find(".sp-clear"),Mt=vt.find(".sp-choose"),Nt=vt.find(".sp-palette-toggle"),Ot=bt.is("input"),jt=Ot&&"color"===bt.attr("type")&&d(),qt=Ot&&!K,Et=qt?t(v).addClass(W).addClass($.className).addClass($.replacerClassName):t([]),It=qt?Et:bt,zt=Et.find(".sp-preview-inner"),Dt=$.color||Ot&&bt.val(),Lt=!1,Bt=$.preferredFormat,$t=!$.showButtons||$.clickoutFiresChange,Kt=!Dt,Vt=$.allowEmpty&&!jt,Ut={};return function(){function e(e){return e.data&&e.data.ignore?(H(t(e.target).closest(".sp-thumb-el").data("color")),L()):(H(t(e.target).closest(".sp-thumb-el").data("color")),L(),T(!0),$.hideAfterPaletteSelect&&N()),!1}var n,r,a,i,o,c,f;b&&vt.find("*:not(input)").attr("unselectable","on"),S(),qt&&bt.after(Et).hide(),Vt||Tt.hide(),K?bt.after(vt).hide():(1!==(r="parent"===$.appendTo?bt.parent():t($.appendTo)).length&&(r=t("body")),r.append(vt)),y(),It.on("click.spectrum touchstart.spectrum",function(e){mt||(Y&&($t?T(!0):j()),z()),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(bt.is(":disabled")||!0===$.disabled)&&B(),vt.on("click",s),Pt.on("change",M),Pt.on("paste",function(){setTimeout(M,1)}),Pt.keydown(function(t){13===t.keyCode&&M()}),Ht.text($.cancelText),Ht.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),j(),N()}),Tt.attr("title",$.clearText),Tt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Kt=!0,L(),K&&T(!0)}),Mt.text($.chooseText),Mt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),b&&Pt.is(":focus")&&Pt.trigger("change"),D()&&(T(!0),N())}),Nt.text($.showPaletteOnly?$.togglePaletteMoreText:$.togglePaletteLessText),Nt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),$.showPaletteOnly=!$.showPaletteOnly,$.showPaletteOnly||K||vt.css("left","-="+(wt.outerWidth(!0)+5)),S()}),l(St,function(t,e,n){st=t/et,Kt=!1,n.shiftKey&&(st=Math.round(10*st)/10),L()},P,F),l(xt,function(t,e){at=parseFloat(e/tt),Kt=!1,$.showAlpha||(st=1),L()},P,F),l(yt,function(t,e,n){n.shiftKey?pt||(a=it*Q,i=J-ot*J,o=Math.abs(t-a)>Math.abs(e-i),pt=o?"x":"y"):pt=null,c=!pt||"x"===pt,f=!pt||"y"===pt,c&&(it=parseFloat(t/Q)),f&&(ot=parseFloat((J-e)/J)),Kt=!1,$.showAlpha||(st=1),L()},P,F),Dt?(H(Dt),R(),Bt=$.preferredFormat||u(Dt).format,p(Dt)):R(),K&&I(),n=b?"mousedown.spectrum":"click.spectrum touchstart.spectrum",Ft.delegate(".sp-thumb-el",n,e),Rt.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},e)}(),Ut={show:I,hide:N,toggle:z,reflow:A,option:function(n,r){return n===e?t.extend({},$):r===e?$[n]:($[n]=r,"preferredFormat"===n&&(Bt=$.preferredFormat),void S())},enable:function(){mt=!1,bt.attr("disabled",!1),It.removeClass("sp-disabled")},disable:B,offset:function(t){$.offset=t,A()},set:function(t){H(t),T()},get:x,destroy:function(){bt.show(),It.off("click.spectrum touchstart.spectrum"),vt.remove(),Et.remove(),g[Ut.id]=null},container:vt},Ut.id=g.push(Ut)-1,Ut}var u=window.tinycolor,h=function(){},d=function(){var e;return void 0===d._cachedResult&&(e=t("<input type='color'/>")[0],d._cachedResult="color"===e.type&&""!==e.value),d._cachedResult},p={beforeShow:h,move:h,change:h,show:h,hide:h,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},g=[],b=!!/msie/i.exec(window.navigator.userAgent),m=function(){function t(t,e){return 1!==(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),w=function(){var t,e="";if(b)for(t=1;t<=6;t+=1)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();t.fn.spectrum=function(e){var n=this;return"string"==typeof e?(this.each(function(){var r,a=g[t(this).data("spectrum.id")];if(a){if(!(r=a[e]))throw new Error("Spectrum: no such method: '"+e+"'");"get"===e?n=a.get():"container"===e?n=a.container:"option"===e?n=a.option.apply(a):"destroy"===e?(a.destroy(),t(this).removeData("spectrum.id")):r.apply(a)}}),n):this.spectrum("destroy").each(function(){var n=f(this,t.extend({},e,t(this).data()));t(this).data("spectrum.id",n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=l,t.fn.spectrum.defaults=p,t.fn.spectrum.inputTypeColorSupport=d,t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!d()&&e.spectrum({preferredFormat:"hex6"})},t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})});!function(t,e,a){"use strict";function i(t,e,a,i){var o,r,n,c,l,d,s,p,m;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(o=e.attr("data-taxable"),r=e.attr("data-tax-rate"),n=e.attr("data-prices-include-tax"),c=e.attr("data-is-vat-exempt"),l=e.attr("data-non-base-location-prices"),d=e.attr("data-taxes-of-one"),s=e.attr("data-base-taxes-of-one"),p=e.attr("data-modded-taxes-of-one"),void 0!==e.data("current_variation")&&(o=(m=e.data("current_variation")).tc_is_taxable,r=m.tc_tax_rate,l=m.tc_non_base_location_prices,d=m.tc_taxes_of_one,s=m.tc_base_taxes_of_one,p=m.tc_modded_taxes_of_one),a&&a.data("tax-obj")&&("no"===(r=a.data("tax-obj")).has_fee?o=!1:"yes"===r.has_fee&&(o=!0),r=r.tax_rate),o&&("1"!==n||i?t=parseFloat(t)*(1+r/100):"1"===c?t="1"===l?parseFloat(t)-d*t:parseFloat(t)-s*t:"1"===l&&(t=parseFloat(t)-s*t+p*t))),t/=1e4}function o(t,e,a,i){var o,r,n,c,l;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(o=e.attr("data-taxable"),r=e.attr("data-tax-rate"),n=e.attr("data-base-taxes-of-one"),c=e.attr("data-prices-include-tax"),void 0!==e.data("current_variation")&&(o=(l=e.data("current_variation")).tc_is_taxable,r=l.tc_tax_rate,n=l.tc_base_taxes_of_one),a&&a.data("tax-obj")&&("no"===(r=a.data("tax-obj")).has_fee?o=!1:"yes"===r.has_fee&&(o=!0),r=r.tax_rate),(o&&"1"===c||i)&&(t=parseFloat(t)-parseFloat(n*t))),t/=1e4}function r(t,e,a){return Number.isFinite(parseFloat(t))||(t=0),e&&(t="incl"===e.attr("data-tax-display-mode")?i(t,e,a):o(t,e,a)),t}function n(t,e,i){return e+a.epoAPI.math.format(t,{symbol:Ut.currency_format_symbol,decimal:Mt.localDecimalSeparator,thousand:Mt.localThousandSeparator,precision:Ut.currency_format_num_decimals,format:Ut.currency_format})+i}function c(t,e,a,i,o){var c,l="",d=Ut.plus_sign+" ";return a||(t=r(t,e,o)),c=Math.abs(t),"minus"===Ut.tm_epo_global_options_price_sign&&(d=""),t<0&&(d=Ut.minus_sign+" "),e&&i&&(l=e.attr("data-tax-string")),void 0===l&&(l=""),n(c,d,l)}function l(t){var e,i,o,r=a(t);if(0!==r.length){if(r.is(".cpf-section"))return t.find(".tm-epo-field");if(e=r.attr("data-uniqid"),i=r.closest(".tc-extra-product-options").attr("data-epo-id"),Mt.getElementFromFieldCache&&Mt.getElementFromFieldCache[i]&&Mt.getElementFromFieldCache[i][e])return Mt.getElementFromFieldCache[i][e];if((o=r.attr("class").split(" ").map(function(t){if(-1!==t.indexOf("cpf-type-",0))return t}).filter(function(t){if(null!==t&&void 0!==t)return t})).length>0)switch(o=o[0]){case"cpf-type-radio":return Mt.getElementFromFieldCache[i]=[],Mt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-radio"),Mt.getElementFromFieldCache[i][e];case"cpf-type-checkbox":return Mt.getElementFromFieldCache[i]=[],Mt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-checkbox"),Mt.getElementFromFieldCache[i][e];case"cpf-type-select":return Mt.getElementFromFieldCache[i]=[],Mt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-select"),Mt.getElementFromFieldCache[i][e];case"cpf-type-textarea":return Mt.getElementFromFieldCache[i]=[],Mt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-textarea"),Mt.getElementFromFieldCache[i][e];case"cpf-type-textfield":return Mt.getElementFromFieldCache[i]=[],Mt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-textfield"),Mt.getElementFromFieldCache[i][e];case"cpf-type-color":return Mt.getElementFromFieldCache[i]=[],Mt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tm-color-picker"),Mt.getElementFromFieldCache[i][e];case"cpf-type-range":return Mt.getElementFromFieldCache[i]=[],Mt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-range"),Mt.getElementFromFieldCache[i][e];case"cpf-type-date":return Mt.getElementFromFieldCache[i]=[],Mt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-date"),Mt.getElementFromFieldCache[i][e];case"cpf-type-variations":return Mt.getElementFromFieldCache[i]=[],Mt.getElementFromFieldCache[i][e]=r.closest(".cpf-section").find(".tm-epo-field.tm-epo-variation-element"),Mt.getElementFromFieldCache[i][e]}else;}}function d(t){var e="input[name^='variation_id']";return t.find("input.variation_id").length>0&&(e="input.variation_id"),e}function s(t,e){var a=d(t),i=t.find(a);return e&&(i=i.not(e)),i}function p(t){return t.find(d(t)).val()||0}function m(t){return t.find(Mt.qtySelector).last()}function _(t){return parseFloat(m(t).val())}function f(t,e,a){$t[$t.length]={name:t,selector:e,func:a}}function u(t,e){var i;return i=a(t).is(".cpf_hide_element")?a(t):a(t).closest(".cpf_hide_element"),!1!==a(i).data("isactive")&&!1!==a(i).closest(".cpf-section").data("isactive")?(a(t).prop("disabled",!1),"yes"!==Ut.tm_epo_show_only_active_quantities?a(t).is(":radio, .cpf-type-radio")||a(t).is(":checkbox, .cpf-type-checkbox")?a(t).is(":checked")?t.closest(".tmcp-field-wrap").find(".tm-qty").prop("disabled",!1):t.closest(".tmcp-field-wrap").find(".tm-qty").prop("disabled",!0):a(t).is("select, .cpf-type-select")?a(t).val()?i.find(".tm-qty").prop("disabled",!1):i.find(".tm-qty").prop("disabled",!0):i.find(".tm-qty").prop("disabled",!1):e||i.find(".tm-quantity").trigger("showhide.cpfcustom"),a(t).is(".cpf_hide_element")||(a(t).removeClass("tcdisabled").addClass("tcenabled"),a(t).is(".tmcp-upload")&&a(t).next(".tmcp-upload-hidden").length&&a(t).next(".tmcp-upload-hidden").removeClass("tcdisabled").addClass("tcenabled").prop("disabled",!1)),a(t).trigger({type:"tm-field-is-active",field:t,value:!0}),!0):(a(t).is(".cpf_hide_element")||(a(t).prop("disabled",!0),a(t).removeClass("tcenabled").addClass("tcdisabled"),i.find(".tm-qty").prop("disabled",!0),a(t).is(".tmcp-upload")&&a(t).next(".tmcp-upload-hidden").length&&a(t).next(".tmcp-upload-hidden").removeClass("tcenabled").addClass("tcdisabled").prop("disabled",!0)),a(t).trigger({type:"tm-field-is-active",field:t,value:!1}),!1)}function g(t,e,i){var o,r,n=a(t),c=n.attr("data-epo_id"),l=n.attr("data-product_id"),d=a(".variations_form[data-epo_id='"+c+"'][data-product_id='"+l+"']"),s="input[name^='variation_id']";if(0===d.length)return!1;switch(0===(r=d.find(s)).length&&(s="input.variation_id",0===(r=d.find(s)).length&&(r=d.closest(".tc-epo-element-product-li-container").find(".product-variation-id"))),null!==t&&null!==e&&void 0!==t&&void 0!==e&&!1!==t&&!1!==e&&(e=e?parseInt(e,10):-1),o=parseInt(r.val(),10),Number.isFinite(o)||(o=""),Number.isFinite(e)||(e=""),i){case"is":return""!==o&&o===e;case"isnot":return""!==o&&o!==e;case"isempty":return""===o||0===o;case"isnotempty":return""!==o&&0!==o;case"startswith":return o.toString().startsWith(e);case"endswith":return o.toString().endsWith(e);case"greaterthan":return parseFloat(o)>parseFloat(e);case"lessthan":return parseFloat(o)<parseFloat(e)}return!1}function h(t,e,i){if(null===t||null===e)return!1;switch(t=encodeURIComponent(t),e=a.qtranxj_split?encodeURIComponent(a.qtranxj_split(decodeURIComponent(e))[Jt.language]):encodeURIComponent(decodeURIComponent(e)),t=t?t.toLowerCase():"",e=e?e.toLowerCase():"",t=t.toString(),e=e.toString(),i){case"is":return null!==t&&t===e;case"isnot":return null!==t&&t!==e;case"isempty":return!(void 0!==t&&""!==t);case"isnotempty":return void 0!==t&&""!==t;case"startswith":return t.startsWith(e);case"endswith":return t.endsWith(e);case"greaterthan":return parseFloat(t)>parseFloat(e);case"lessthan":return parseFloat(t)<parseFloat(e)}return!1}function v(t,e){var i,o,r,n=!0,c=t.find(".cpf_hide_element");return a(c).each(function(t,c){var l;if(c=a(c),u(c))if((l=c.attr("class").split(" ").map(function(t){if(-1!==t.indexOf("cpf-type-",0))return t}).filter(function(t){if(null!==t&&void 0!==t)return t})).length>0){switch(l=l[0]){case"cpf-type-radio":o=c.find("input.tm-epo-field.tmcp-radio:checked"),"isnotempty"===e?n=n&&o.length>0:"isempty"===e&&(n=n&&0===o.length);break;case"cpf-type-checkbox":r=c.find("input.tm-epo-field.tmcp-checkbox:checked"),"isnotempty"===e?n=n&&r.length>0:"isempty"===e&&(n=n&&0===r.length);break;case"cpf-type-select":(i=c.find("select.tm-epo-field.tmcp-select").val())&&(i=i.slice(0,i.lastIndexOf("_")));break;case"cpf-type-textarea":i=c.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":i=c.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-color":i=c.find("input.tm-epo-field.tm-color-picker").val();break;case"cpf-type-range":i=c.find("input.tm-epo-field.tmcp-range").val()}n=n&&h(i,"",e)}else n=n&&!1}),n}function y(t){var e,i,o,r,n,c=a(t.element),l=t.operator,d=t.value;if(!c.length)return!1;if(c.is(".cpf-section"))return v(c,l);if((n=c.attr("class").split(" ").map(function(t){if(-1!==t.indexOf("cpf-type-",0))return t}).filter(function(t){if(null!==t&&void 0!==t)return t})).length>0){switch(n=n[0]){case"cpf-type-radio":if(c.find("input.tm-epo-field.tmcp-radio"),i=c.find("input.tm-epo-field.tmcp-radio:checked"),"is"===l||"isnot"===l){if(0===i.length)return!1;(e=c.find("input.tm-epo-field.tmcp-radio:checked").val())&&(e=e.slice(0,e.lastIndexOf("_")))}if("isnotempty"===l)return i.length>0;if("isempty"===l)return 0===i.length;break;case"cpf-type-checkbox":if(c.find("input.tm-epo-field.tmcp-checkbox"),o=c.find("input.tm-epo-field.tmcp-checkbox:checked"),"is"===l||"isnot"===l)return 0!==o.length&&(r=!1,o.each(function(t,i){if((e=a(i).val())&&(e=e.slice(0,e.lastIndexOf("_"))),h(e,d,l))r=!0;else if("isnot"===l)return r=!1,!1}),r);if("isnotempty"===l)return o.length>0;if("isempty"===l)return 0===o.length;break;case"cpf-type-select":(e=c.find("select.tm-epo-field.tmcp-select").val())&&(e=e.slice(0,e.lastIndexOf("_")));break;case"cpf-type-textarea":e=c.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":e=c.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-color":e=c.find("input.tm-epo-field.tm-color-picker").val();break;case"cpf-type-range":e=c.find("input.tm-epo-field.tmcp-range").val();break;case"cpf-type-variations":return g(c,d,l)}return h(e,d,l)}return!1}function b(t,e){t.each(function(){var t=a(this),i=parseInt(t.data("matches"),10),o=t.data("toggle"),r=t.data("what"),n=t.data("fields"),c=0,l=!1;switch(o){case"show":l=!1;break;case"hide":l=!0}a.each(n,function(t,i){var o=!0;"cpflogic"===e&&(o=u(a(i.element))),o&&y(i)&&(c=parseInt(c,10)+1)}),"all"===r?i===c&&(l=!l):c>0&&(l=!l),l?("cpflogic"===e&&t.find(".tm-epo-field").each(function(e,i){!u(i=a(i))||i.data("initial_activation")||t.closest(".cpf-section").is(".tc-hidden")||(i.trigger("tc_element_epo_rules"),i.data("initial_activation",1))}),t.removeClass("tc-hidden")):t.addClass("tc-hidden"),t.data("isactive",l)})}function w(t){var e,i=[];a(t).length||(t="body"),(e=(t=a(t)).find(".iscpfdependson")).each(function(t,e){a(e).each(function(t,e){b(a(e))})}),e.each(function(t,e){a(e).each(function(t,e){b(a(e),"cpflogic")})}),e.each(function(t,e){a(e).each(function(t,e){(e=a(e)).is(".cpf-section")&&(e=e.find(".cpf_hide_element")),e.each(function(t,e){u(a(e).find(".tm-epo-field"))})})}),a().selectric&&a(".tm-extra-product-options select").selectric("refresh"),setTimeout(function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})},200),t.find(".tm-product-image:checked,select.tm-product-image").each(function(){var t=a(this);u(t)&&""!==t.val()&&i.push(t)}),i.length&&i[i.length-1].trigger("tm_trigger_product_image"),Yt.trigger("cpflogicrun"),Yt.trigger("tmlazy"),Yt.trigger("cpflogicdone")}function x(t){return"object"==typeof t&&"toggle"in t&&"what"in t&&"rules"in t&&t.rules.length>0}function k(t){var e,i,o,r,n,c,l,d,s,p,m,_,f=a(t),u=f.find(".cpf-section");e=!f.is(".cpf-section")&&u,f.each(function(t,u){(i=a(u).is(".cpf-section")?a(u):a(u).find(".cpf-section")).each(function(t,i){o=a(i),r=o.data("logic"),n=parseInt(o.data("haslogic"),10),c=[],1===n&&x(r)&&(a.each(r.rules,function(t,a){a&&(l=a.section,d=a.element,s=a.operator,p=a.value,e?(m=e.filter("[data-uniqid='"+l+"']"),_=d!==l?m.find(".cpf_hide_element").eq(d):m):_=d!==l?f.find(".cpf_hide_element").eq(d):m,c.push({element:_,operator:s,value:p}))}),o.data("iscpfdependson")?o.cpfdependson(o.data("cpfdependson-fields"),r.toggle,r.what,!0):(o.data("cpfdependson-fields",c),o.cpfdependson(c,r.toggle,r.what)))})})}function F(t){var e,i,o,r,n,c,l,d,s,p,m=a(t),_=m.find(".cpf-section");e=!m.is(".cpf-section")&&_,m.find(".cpf_hide_element").each(function(t,_){var f=[];i=a(_),o=i.data("logic"),1===(r=parseInt(i.data("haslogic"),10))&&x(o)&&(a.each(o.rules,function(t,a){a&&(n=a.section,c=a.element,l=a.operator,d=a.value,e?(s=e.filter("[data-uniqid='"+n+"']"),p=c!==n?s.find(".cpf_hide_element").eq(c):s):p=c!==n?m.find(".cpf_hide_element").eq(c):s,f.push({element:p,operator:l,value:d}))}),i.data("iscpfdependson")?i.cpfdependson(i.data("cpfdependson-fields"),o.toggle,o.what,!0):(i.data("cpfdependson-fields",f),i.cpfdependson(f,o.toggle,o.what)))})}function I(t,e){var a,i,o,r;return e&&(a=e.attr("data-taxable"),i=e.attr("data-tax-rate"),o=e.attr("data-tax-display-mode"),r=e.attr("data-prices-include-tax"),a&&"incl"===o&&"1"!==r&&(t=parseFloat(t)/(1+i/100))),t}function C(t,e,a,i,o){var c,l="",d="";return a||(t=r(t,e,o)),c=Math.abs(t),e&&i&&(l=e.attr("data-tax-string")),void 0===l&&(l=""),t<0&&(d=Ut.minus_sign+" "),n(c,d,l)}function A(t,e,a,i,o){P(t,e,a,i,o,!0)}function P(t,e,i,o,r,n){var c,l,d,s,p=a(t);0!==p.length&&(s=(c=p.closest(".tmcp-field-wrap")).find(".tm-epo-field"),!n&&"1"===s.attr("data-no-price-change")&&s.data("price-changed")||(e=a.epoAPI.applyFilter("tc_adjust_update_price_price",e),i=a.epoAPI.applyFilter("tc_adjust_update_price_formated_price",i,e),o=a.epoAPI.applyFilter("tc_adjust_update_price_original_price",o),r=a.epoAPI.applyFilter("tc_adjust_update_price_original_formated_price",r,o),Number.isFinite(parseFloat(o))||(o=0),Number.isFinite(parseFloat(e))||(e=0),l=c.find(".before-amount,.after-amount"),d={price:i,original_price:r},"yes"===Ut.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(e)||"yes"!==Ut.tm_epo_auto_hide_price_if_zero?!n&&s.length>0&&("1"===s.attr("data-no-price")||"variable"===s.attr("data-type")&&!s.data("price")||s.is(".tmcp-select")&&!s.children("option:selected").data("price"))?(p.empty(),l.addClass("tm-hidden")):(o&&void 0!==o&&parseFloat(o)!==parseFloat(e)?p.html(a.epoAPI.template.html(Mt.templateEngine.sale_price,{price:d})):p.html(a.epoAPI.template.html(Mt.templateEngine.price,{price:d})),l.removeClass("tm-hidden")):(p.empty(),l.addClass("tm-hidden"))))}function S(t,e){var i={};return t.find(".variations select, .tc-epo-variable-product-selector").each(function(){var t,e;t=void 0!==a(this).data("attribute_name")?a(this).data("attribute_name"):a(this).attr("name"),e=a(this).val(),i[t]=e}),i}function q(t,e,i){var o=[],r=S(t,i),n=!0;t.find(".cpf-type-variations").each(function(i,n){var c,l,d=a(n).find(".tm-epo-variation-element"),s=!1;o[i]=!0,d.is("select")?(c=a.epoAPI.dom.id(d.attr("data-tm-for-variation")),(l=d.val())&&(o[i]=!1),d.children("option").each(function(e,i){s=!1,t.find("[data-attribute_name='attribute_"+c+"']").children("option").each(function(){if(a(this).attr("value")===a(i).attr("value"))return s=!0,!1}),s?a(i).removeAttr("disabled").show():a(i).attr("disabled","disabled").hide()})):d.each(function(t,n){var d,s,p=a(n),m=p.closest("li"),_=m.find(".tm-epo-variation-element"),f=a.extend(!0,{},r);c=p.attr("data-tm-for-variation"),l=p.val(),p.is(":checked")&&(o[i]=!1),f["attribute_"+c]=l,s=(d=a.fn.tm_find_matching_variations(e,f).shift())&&"is_in_stock"in d&&d.is_in_stock,d&&s?(p.removeAttr("disabled").removeClass("tm-disabled"),m.removeClass("tm-attribute-disabled").fadeTo("fast",1,function(){a(this).css("opacity","")}),_.removeAttr("disabled"),_.removeAttr("data-tm-disabled")):(p.attr("disabled","disabled").addClass("tm-disabled"),_.attr("disabled","disabled"),_.attr("data-tm-disabled","disabled"),m.addClass("tm-attribute-disabled").fadeTo("fast",.5),s||m.find("label").off())})}),o&&(o.shift(),a.each(o,function(t,e){if(!1===e)return n=!1,!1}),n&&t.find(".cpf-type-variations").first().each(function(t,e){var i,o,r;(i=a(e).find(".tm-epo-variation-element")).is("select")||i.each(function(t,e){e=a(e),o=e.closest("li"),r=o.find(".tm-epo-variation-element"),e.removeAttr("disabled").removeClass("tm-disabled"),o.removeClass("tm-attribute-disabled").stop().css("opacity",""),r.removeAttr("disabled"),r.removeAttr("data-tm-disabled")})}))}function E(e,i){var o,r=e.data("product_variations"),n=parseInt(e.data("product_id"),10),c=e.data("globalVariationObject")||!1;n||(n=e.data("tc_product_id")),!n&&e.is(Mt.compositeSelector)&&(n=(o=e.find(".component_options").data("options_data"))[0].option_id,r||(r=e.find(".details.component_data").data("product_variations"))),i.is_associated||(!r&&t.product_variations&&t.product_variations.product_id&&(r=t.product_variations.product_id),!r&&t.product_variations&&(r=t.product_variations),!r&&t["product_variations_"+n]&&(r=t["product_variations_"+n])),r?q(e,r,i):c?q(e,c.variations,i):(o={action:"woocommerce_tm_get_variations_array",post_id:n},a.post(Ut.ajax_url,o,function(t){c=t,e.data("globalVariationObject",t),q(e,c.variations,i)},"json"))}function T(t,e){var i,o;return void 0!==e&&(t=a(t),i=t.find(".tm-epo-variation-element").first(),o=i.closest(".tm-epo-variation-section"),i.length?(o.find(".tm-stock").remove(),o.append('<div class="tm-stock">'+e+"</div>"),!0):(t.find(".tm-stock").remove(),t.find(".variations").after('<div class="tm-stock">'+e+"</div>"),!0))}function z(t,e){var a;"no"!==Ut.tm_epo_global_move_out_of_stock&&((a=t.find(".woocommerce-variation-availability").last()).length||(a=t.find(".stock").last()),a.length?(e.find(".tm-stock").remove(),T(e,a.prop("outerHTML"))&&a.remove()):e.find(".tm-stock").remove())}function j(t,e,a){var i,o="";return a&&(o=o+"[value='"+a+"']"),e||(e=t),0===(i=e.find(Mt.addToCartSelector+o)).length&&(i=e.find(Mt.tcAddToCartSelector+o)),i.last()}function O(t,e,a,i){return a||(a="form"),j(t,e,i).closest(a)}function D(t,e,a,i){return O(t,e,a,i)}function N(t){var e=a.epoAPI.applyFilter("tcGetNativePricesBlockSelector",".single_variation .price",t);return a(t).find(e).not(".tc-price")}function B(){Kt.on("click.cpfurl change.cpfurl tmredirect",".use_url_container .tmcp-radio, .use_url_container .tmcp-radio+label",function(e){var i=a(this).attr("data-url");i&&t.location!==i&&(e.preventDefault(),t.location=i)}),Kt.on("change.cpfurl tmredirect",".use_url_container .tmcp-select",function(e){var i=a(this).children("option:selected").attr("data-url");i&&t.location!==i&&(e.preventDefault(),t.location=i)})}function H(t,e,i){a.tcFloatingTotalsBox(t,e,i)}function L(t,e,a){var i;e&&"yes"===Ut.tm_epo_hide_add_cart_button&&(i=t.find(Mt.addToCartButtonSelector).first(),a?i.removeClass("tc-hide-add-to-cart-button"):i.addClass("tc-hide-add-to-cart-button"))}function M(e,i){var o,r,n,c,l=a.tcepo.errorObject[i]||e;l&&("yes"!==Ut.tm_epo_disable_error_scroll&&(r=(o=l.closest(".cpf-section")).find(".tm-section-link"),n=l.closest(".cpf_hide_element"),o.find(".tm-toggle").length&&o.find(".tm-toggle").trigger("openwrap.tmtoggle"),t.tc_validation_offset||(t.tc_validation_offset=-100),o.is(".section_popup")?(te.tcScrollTo(r,300,t.tc_validation_offset),r.trigger("click.tmsectionpoplink")):o.is(".tm-owl-slider-section")?(c=l.closest(".owl-item").index(),o.find(".tcowl-carousel").trigger("to.owl.carousel",[c,100]),setTimeout(function(){o.find(".tcowl-carousel").trigger("refresh.owl.carousel"),n.length>0&&te.tcScrollTo(n,300,t.tc_validation_offset)},200)):n.length>0&&te.tcScrollTo(n,300,t.tc_validation_offset)),e||(a.tcepo.errorObject[i]=!1))}function U(t,e){var i,o,r,n=parseInt(t.attr("data-limit"),10),c=!1;return!(n>0&&(c=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){o=a(this),(r=o.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((i=parseInt(r.val(),10))<=0&&(i=1),c=parseInt(c,10)+i):c=parseInt(c,10)+1}),c>n))||(e&&t.prop("checked","").trigger("change"),!1)}function R(t,e){var i,o,r,n=parseInt(t.attr("data-exactlimit"),10),c=!1;return!(n>0&&(c=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){o=a(this),(r=o.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((i=parseInt(r.val(),10))<=0&&(i=1),c=parseInt(c,10)+i):c=parseInt(c,10)+1}),c>n))||(e&&t.prop("checked","").trigger("change"),!1)}function J(t,e,i){var o,r,n,c,l,d,s,p,m,_,f=!0,g=!1;return t.each(function(){_=a(this),(o=_.find("[type='checkbox'][data-limit]")).length&&u(o)&&(r=parseInt(o.attr("data-limit"),10),n=0,_.find("input.tm-epo-field[type='checkbox']:checked").each(function(){c=a(this),(d=c.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((l=parseInt(d.val(),10))<=0&&(l=1),n=parseInt(n,10)+l):n=parseInt(n,10)+1}),s=_.closest(".cpf_hide_element"),p=s.find("div.tm-error-min"),r<n?(f=!1,g=_,m=1===r?Ut.tm_epo_global_validator_messages.epolimitsingle.replace("{0}",r):Ut.tm_epo_global_validator_messages.epolimit.replace("{0}",r),p.length&&p.remove(),"before"===Ut.tm_epo_global_error_label_placement?_.before('<div class="tm-error-min tm-error">'+m+"</div>"):_.after('<div class="tm-error-min tm-error">'+m+"</div>"),e.find(Mt.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").removeAttr("disabled")):p.remove())}),g&&(a.tcepo.errorObject[i]=g),f}function Q(t,e,i){a.tcepo.formSubmitEvents[i][a.tcepo.formSubmitEvents[i].length]={trigger:function(){return J(t,e,i)},on_true:function(){return!0},on_false:function(){return M(a(t).find(".tm-epo-field").first(),i),!0}}}function Z(t,e,i){var o,r,n,c,l,d,s,p,m,_,f=!0,g=!1;return t.each(function(){_=a(this),(o=_.find("[type='checkbox'][data-exactlimit]")).length&&u(o)&&(r=parseInt(o.attr("data-exactlimit"),10),n=0,_.find("input.tm-epo-field[type='checkbox']:checked").each(function(){c=a(this),(d=c.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((l=parseInt(d.val(),10))<=0&&(l=1),n=parseInt(n,10)+l):n=parseInt(n,10)+1}),s=_.closest(".cpf_hide_element"),p=s.find("div.tm-error-min"),r!==n?(f=!1,g=_,m=1===r?Ut.tm_epo_global_validator_messages.epoexactsingle.replace("{0}",r):Ut.tm_epo_global_validator_messages.epoexact.replace("{0}",r),p.length&&p.remove(),"before"===Ut.tm_epo_global_error_label_placement?_.before('<div class="tm-error-min tm-error">'+m+"</div>"):_.after('<div class="tm-error-min tm-error">'+m+"</div>"),e.find(Mt.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").removeAttr("disabled")):p.remove())}),g&&(a.tcepo.errorObject[i]=g),f}function W(t,e,i){a.tcepo.formSubmitEvents[i][a.tcepo.formSubmitEvents[i].length]={trigger:function(){return Z(t,e,i)},on_true:function(){return!0},on_false:function(){return M(a(t).find(".tm-epo-field").first(),i),!0}}}function $(t,e){var i,o,r,n,c,l,d,s,p,m=!0,_=!1;return t.each(function(){var t;(t=(p=a(this)).find("[type='checkbox'][data-minimumlimit]")).length&&u(t)&&(i=parseInt(t.attr("data-minimumlimit"),10),o=0,p.find("input.tm-epo-field[type='checkbox']:checked").each(function(){r=a(this),(c=r.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((n=parseInt(c.val(),10))<=0&&(n=1),o=parseInt(o,10)+n):o=parseInt(o,10)+1}),l=p.closest(".cpf_hide_element"),d=l.find("div.tm-error-min"),i>o?(m=!1,_=p,s=1===i?Ut.tm_epo_global_validator_messages.epominsingle.replace("{0}",i):Ut.tm_epo_global_validator_messages.epomin.replace("{0}",i),d.length&&d.remove(),"before"===Ut.tm_epo_global_error_label_placement?p.before('<div class="tm-error-min tm-error">'+s+"</div>"):p.after('<div class="tm-error-min tm-error">'+s+"</div>")):d.remove())}),_&&(a.tcepo.errorObject[e]=_),m}function X(t,e){a.tcepo.formSubmitEvents[e][a.tcepo.formSubmitEvents[e].length]={trigger:function(){return $(t,e)},on_true:function(){return!0},on_false:function(){return M(!1,e),!0}}}function G(t,e,i,o){return null===t?0:("object"==typeof t&&(t=t[0]),Number.isFinite(parseFloat(t))||(t=0),i&&(t=a.epoAPI.applyFilter("tc_apply_dpd",t,e,i,o)),t)}function V(t,e){var i=0;return t.length>0&&(i=t.data("price")),i=a.epoAPI.applyFilter("tc_calculate_product_price",i,t),(!e||!1!==i)&&(i=parseFloat(i),Number.isFinite(i)||(i=0),i)}function Y(t,e,i){var o,r,n,c,l,d,s,p,m,_=t.toString(),f=0,g=0,h=e.closest(".cpf_hide_element"),v=i.this_epo_totals_container.data("tc_totals_ob"),y=h.find(".tmcp-field, .tmcp-fee-field").filter(":checked").index(e),b=h.find(".tmcp-field, .tmcp-fee-field").index(e),w=i.is_associated?i.this_epo_container:i.this_epo_container.not(Mt.epoSelector+" "+Mt.associatedEpoSelector);-1!==y||e.is(".tmcp-checkbox, .tmcp-radio")||(y=0),void 0===e.data("tcmathownchangeevent")&&(h.find(".tmcp-field, .tmcp-fee-field").add(i.this_epo_totals_container.data("qty_element")).on("change.cpfmath",function(){K(i,e)}),h.find(".tm-qty").on("cpf-changed",function(){K(i,e)}),e.data("tcmathownchangeevent",1)),void 0===e.data("price_set")&&Yt.one("tcEpoBeforeOptionPriceCalculation",function(){K(i,e)}),e.is(".tmcp-field")?(p=qt(i,h,".tmcp-field",0,0,[],!0),m=qt(i,h,".tmcp-field",0,0,[],!0,!0)):e.is(".tmcp-fee-field")&&(p=qt(i,h,".tmcp-fee-field",0,0,[],!0),m=qt(i,h,".tmcp-fee-field",0,0,[],!0,!0)),void 0!==v?(_=_.replace(/{quantity}/g,v.qty),_=_.replace(/{product_price}/g,v.product_price)):(_=_.replace(/{quantity}/g,0),_=_.replace(/{product_price}/g,0)),_=void 0!==m.floatingBoxData&&void 0!==m.floatingBoxData[b]?_.replace(/{this.value}/g,m.floatingBoxData[b].valueText).replace(/{this.value.length}/g,m.floatingBoxData[b].valueText.length):_.replace(/{this.value}/g,"").replace(/{this.value.length}/g,0),(_=_.replace(/{this.count}/g,p.floatingBoxData.length).replace(/{this.count.quantity}/g,p.floatingBoxData.map(function(t){return t.quantity}).reduce(function(t,e){return a.epoAPI.math.toFloat(t)+a.epoAPI.math.toFloat(e)},0)).replace(/{this.quantity}/g,e.data("tm-quantity"))).match(/\{(\s)*?field\.([^}]*)}/)&&_.match(/\{(\s)*?field\.([^}]*)}/g).forEach(function(t){if(void 0!==(o=t.match(/\{(\s)*?field\.([^}]*)}/))[2]&&"string"==typeof o[2]&&-1!==(l=o[2].lastIndexOf("."))&&(s=o[2].substr(0,l),d=o[2].substr(l+1),-1!==a.inArray(d,["price","value","quantity","count"]))){if((r=w.find("[data-uniqid='"+a.epoAPI.util.escapeSelector(s)+"']")).length){if(n=r.find(".tmcp-field, .tmcp-fee-field"),void 0===e.data("tcmathchangeevent")&&(n.on("change.cpfmath",function(){K(i,e)}),r.find(".tm-qty").on("cpf-changed",function(){K(i,e)}),e.data("tcmathchangeevent",1)),void 0===n.data("price_set")&&Yt.one("tcEpoBeforeOptionPriceCalculation",function(){K(i,e)}),n=n.first(),f=0,u(r)){switch(n.is(".tmcp-field")?f=qt(i,r,".tmcp-field",0,0,[],!0):n.is(".tmcp-fee-field")&&(f=qt(i,r,".tmcp-fee-field",0,0,[],!0)),d){case"price":f=f.total;break;case"value":f.floatingBoxData&&(f=f.floatingBoxData.map(function(t){return t.valueText}).reduce(function(t,e){return a.epoAPI.math.toFloat(t)+a.epoAPI.math.toFloat(e)},0));break;case"quantity":f.floatingBoxData&&(f=f.floatingBoxData.map(function(t){return t.quantity}).reduce(function(t,e){return a.epoAPI.math.toFloat(t)+a.epoAPI.math.toFloat(e)},0));break;case"count":f.floatingBoxData&&(f=f.floatingBoxData.length)}f=a.epoAPI.math.toFloat(f),Number.isFinite(f)||(f=0)}}else f=0;c=new RegExp(o[0]),_=Number.isFinite(f)?_.replace(c,f):_.replace(c,"'"+f+"'")}});try{g=ee.eval(_)}catch(t){g=0}return g}function K(t,e,i,o,n){var l,d,s,p,m,_,f,u,g,h,v,y,b,w,x,k,F,I,C,A,S,q,E,T=a(e),z=T,j=T.is(".tmcp-range"),O=t.main_product,D=t.epoEventId,N=t.this_epo_totals_container;if(!T.data("associated_price_set")&&(i?(l=i.cart,d=i.current_variation,s=i.bundleid,p=i.epoTotalsContainer,_=i.product_price,m=i.apply_dpd):(S="input[name^='variation_id']",(l=T.closest(".cart")).find("input.variation_id").length>0&&(S="input.variation_id"),d=l.find(S).val(),s=a.epoAPI.applyFilter("tc_get_bundleid",l.attr("data-product_id"),l),d||(d=0),_=V(p=a.epoAPI.applyFilter("tc_get_totals_container",N,T,O,s)),m=p.data("fields-price-rules")),!1!==(_=a.epoAPI.applyFilter("tc_alter_product_price",_,T,l)))){switch(T.is("select")&&(z=T.find("option:selected")),o&&(z=o),f=a.epoAPI.util.parseJSON(z.attr("data-rules")),u=a.epoAPI.util.parseJSON(z.attr("data-rulestype")),void 0===(g=a.epoAPI.util.parseJSON(z.attr("data-original-rules")))&&(g=f),b="","object"==typeof f?(d in f?(w=f[d],x=g[d]):(h=a.epoAPI.util.parseJSON(T.closest(".tmcp-ul-wrap").attr("data-rules")),y=T.closest(".tmcp-ul-wrap").data("original-rules"),w="object"==typeof h&&d in h?h[d]:f[0],x="object"==typeof y&&d in y?y[d]:g[0]),"object"==typeof u?b=d in u?u[d]:"object"==typeof(v=a.epoAPI.util.parseJSON(T.closest(".tmcp-ul-wrap").attr("data-rulestype")))&&d in v?v[d]:u[0]:"object"==typeof(u=a.epoAPI.util.parseJSON(T.closest(".tmcp-ul-wrap").attr("data-ulestype")))&&(b=d in u?u[d]:u[0])):(q=T.closest(".tmcp-ul-wrap"),f=a.epoAPI.util.parseJSON(q.attr("data-rules")),g=a.epoAPI.util.parseJSON(q.attr("data-original-rules")),"object"==typeof f&&(w=d in f?f[d]:f[0],x="object"==typeof g?d in g?g[d]:g[0]:w,"object"==typeof u?b=d in u?u[d]:"object"==typeof(v=a.epoAPI.util.parseJSON(q.attr("data-rulestype")))&&d in v?v[d]:u[0]:"object"==typeof(u=a.epoAPI.util.parseJSON(q.attr("data-rulestype")))&&(b=d in u?u[d]:u[0]))),"object"==typeof b&&(b=b[0]),T.is(".tmcp-fee-field")&&(-1!==a.inArray(b,["fee","stepfee","currentstepfee"])&&(b=""),m=0),void 0===n&&(T.is("select")?T.find("option").removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"):z.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate")),b){case"":w=G(w,p,m),x=G(x,p,m);break;case"math":w=G(w=Y(w,T,t),p,m),x=G(x,p,m);break;case"percent_cart_total":E=parseFloat(Ut.cart_total),Number.isFinite(E)||(E=0),w=G(w,p,m)/100*E,x=G(x,p,m)/100*E;break;case"percent":w=G(w,p,m)/100*_,x=G(x,p,m)/100*_;break;case"percentcurrenttotal":w=G(w,p,m),a.tcepo.lateFieldsPrices[D].push({setter:z,price:w,original_price:x,bundleid:s}),z.data("tm-price-for-late",w).data("tm-original-price-for-late",x).data("islate",1).addClass("tm-epo-late-field"),w=0,x=0;break;case"word":w=G(w,p,m)*(z.val().split(/\w+/).length-1),x=G(x,p,m)*(z.val().split(/\w+/).length-1);break;case"wordpercent":w=w/100*_*(z.val().split(/\w+/).length-1),x=x/100*_*(z.val().split(/\w+/).length-1);break;case"wordnon":C=parseInt(z.attr("data-freechars"),10),Number.isFinite(C)||(C=0),(I=z.val().split(/\w+/).length-1-C)<0&&(I=0),w=G(w,p,m)*I,x=G(x,p,m)*I;break;case"wordpercentnon":C=parseInt(z.attr("data-freechars"),10),Number.isFinite(C)||(C=0),(I=z.val().split(/\w+/).length-1-C)<0&&(I=0),w=w/100*_*I,x=x/100*_*I;break;case"char":w=G(w,p,m)*z.val().length,x=G(x,p,m)*z.val().length;break;case"charpercent":w=w/100*_*z.val().length,x=x/100*_*z.val().length;break;case"charnospaces":w=G(w,p,m)*z.val().replace(/\s/g,"").length,x=G(x,p,m)*z.val().replace(/\s/g,"").length;break;case"charnofirst":(I=z.val().length-1)<0&&(I=0),w=G(w,p,m)*I,x=G(x,p,m)*I;break;case"charnon":C=parseInt(z.attr("data-freechars"),10),Number.isFinite(C)||(C=0),(I=z.val().length-C)<0&&(I=0),w=G(w,p,m)*I,x=G(x,p,m)*I;break;case"charpercentnon":C=parseInt(z.attr("data-freechars"),10),Number.isFinite(C)||(C=0),(I=z.val().length-C)<0&&(I=0),w=w/100*_*I,x=x/100*_*I;break;case"charnonnospaces":C=parseInt(z.attr("data-freechars"),10),Number.isFinite(C)||(C=0),(I=z.val().replace(/\s/g,"").length-C)<0&&(I=0),w=G(w,p,m)*I,x=G(x,p,m)*I;break;case"charpercentnonnospaces":C=parseInt(z.attr("data-freechars"),10),Number.isFinite(C)||(C=0),(I=z.val().replace(/\s/g,"").length-C)<0&&(I=0),w=w/100*_*I,x=x/100*_*I;break;case"charpercentnofirst":(I=z.val().length-1)<0&&(I=0),w=w/100*_*I,x=x/100*_*I;break;case"step":j?(w=G(w,p,m)*z.val(),x=G(x,p,m)*a.epoAPI.math.toFloat(z.val())):(w=G(w,p,m)*a.epoAPI.math.toFloat(z.val()),x=G(x,p,m)*a.epoAPI.math.toFloat(z.val()));break;case"currentstep":j?(w=G(z.val(),p,m),x=G(z.val(),p,m)):(w=G(a.epoAPI.math.toFloat(z.val()),p,m),x=G(a.epoAPI.math.toFloat(z.val()),p,m));break;case"intervalstep":j&&(A=parseFloat(a('.tm-range-picker[data-field-id="'+z.attr("id")+'"]').attr("data-min")),w=G(w,p,m)*(z.val()-A),x=G(x,p,m)*(z.val()-A));break;case"row":w=G(w,p,m)*((z.val().match(/(\r\n|\n|\r)/gm)||[]).length+1),x=G(x,p,m)*((z.val().match(/(\r\n|\n|\r)/gm)||[]).length+1)}T.data("tm-quantity")&&(w*=parseFloat(T.data("tm-quantity")),x*=parseFloat(T.data("tm-quantity"))),k=c(w,p,!1,!1,z),F=c(x,p,!1,!1,z),T.data("price_set",1),z.data("price_set",1),z.data("raw_price",w),z.data("raw_original_price",x),z.data("price",r(w,p,z)),z.data("original_price",r(x,p,z)),o||(P(z.closest(".tmcp-field-wrap").find(".tc-price"),w,k,x,F),T.data("price-changed",1))}}function tt(t,e){var i,o,n,l,d,s,p,m,_,f,g,h,v,y,b,w,x,k,F=t.main_product,I=t.epoEventId,C=t.this_epo_container,A=t.this_epo_totals_container;(i=e||F.find(".cart")).length<=0||(a.tcepo.lateFieldsPrices[I]=[],i.toArray().forEach(function(e){if(e=a(e),o="input[name^='variation_id']",e.find("input.variation_id").length>0&&(o="input.variation_id"),n=a.epoAPI.applyFilter("tc_get_per_product_pricing",!0,e),l=e.find(o).val(),d=a.epoAPI.applyFilter("tc_get_bundleid",e.attr("data-product_id"),e),l||(l=0),s=a.epoAPI.applyFilter("tc_get_epo_container",C,e,F,d),p=a.epoAPI.applyFilter("tc_get_totals_container",A,e,F,d),m=p.data("fields-price-rules"),s.data("tm_rules_init_done")||(p.data("force-quantity")&&e.find(Mt.qtySelector).val(p.data("force-quantity")),s.toArray().forEach(function(t){a(t).closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",a(t).val())}),s.find(".tmcp-attributes, .tmcp-elements").toArray().forEach(function(t){t=a(t),_=a.epoAPI.util.parseJSON(t.attr("data-rules")),f=a.epoAPI.util.parseJSON(t.attr("data-original-rules")),"object"!=typeof _&&(_={0:"0"}),"object"!=typeof f&&(f={0:"0"}),"object"==typeof _&&(g=G(_[a.epoAPI.math.toFloat(l)],p,m),h=c(g,p),v=G(f[a.epoAPI.math.toFloat(l)],p,m),y=c(v,p),t.find(".tmcp-field, .tmcp-fee-field ").toArray().forEach(function(t){t=a(t),n?(t.data("raw_price",g),t.data("raw_original_price",v),t.data("price",r(g,p,t)),t.data("original_price",r(v,p,t)),P(t.closest(".tmcp-field-wrap").find(".tc-price"),g,h,v,y)):(t.data("price",0),t.data("original_price",0),t.closest(".tmcp-field-wrap").find(".amount").empty())}))}),s.data("tm_rules_init_done",1)),!n)return!0;b=V(p),k={cart:e,current_variation:l,bundleid:d,epoTotalsContainer:p,product_price:b,apply_dpd:m},w=s.find(".tmcp-field,.tmcp-sub-fee-field,.tmcp-fee-field"),x=w.filter(".tcenabled"),(!a.tcepo.initialActivation[I]||0===x.length&&w.length>0)&&(w.each(function(){u(a(this))}),a.tcepo.initialActivation[I]=!0),w.filter(".tcenabled").each(function(e,a){K(t,a,k)}),w.each(function(e,i){a(i).on("tc_element_epo_rules",function(){K(t,i,k)})})}))}function et(t,e,i,o){var n,l,d,s,p,m,_,f,g,h,v,y,b,w=0,x=0,k=t.epoEventId;return a.tcepo.lateFieldsPrices[k].forEach(function(t){n=t.price,l=t.original_price,d=t.setter,m=t.bundleid,_=d,d.is("option")&&(_=d.closest("select")),s=a.epoAPI.dom.id(_.attr("name")),f=a(".tc-totals-form.tm-totals-form-"+o.attr("data-cart-id")).attr("data-product-id"),g=a(".tc-totals-form.tm-totals-form-"+o.attr("data-cart-id")).attr("data-epo-id"),p=a(".tc-extra-product-options.tm-product-id-"+f+"[data-epo-id='"+g+"']").find("#"+s+"_hidden"),m===i?(n=n/100*e,l=l/100*e,_.data("tm-quantity")&&(n*=parseFloat(_.data("tm-quantity")),l*=parseFloat(_.data("tm-quantity"))),1===d.data("isset")&&u(d)&&(w+=n,x+=l),y=r(n,o,d),b=r(l,o,d),h=c(n,o,!1,!1,d),v=c(l,o,!1,!1,d),d.data("price",y),d.data("pricew",y),d.data("original_price",b),d.data("original_pricew",b),P(d.closest(".tmcp-field-wrap").find(".tc-price"),y,h,b,v),0===p.length&&_.before('<input type="hidden" id="'+s+'_hidden" name="'+s+'_hidden" value="'+I(n,o)+'" />'),d.is(".tm-epo-field.tmcp-radio")?d.is(":checked")&&p.val(I(n,o)):p.val(I(n,o))):void 0!==d.data("pricew")&&(h=c(d.data("pricew"),o,!0,!1,d),v="",void 0!==d.data("original_pricew")&&(v=c(d.data("original_pricew"),o,!0,!1,d)),P(d.closest(".tmcp-field-wrap").find(".tc-price"),d.data("pricew"),h,d.data("original_pricew"),v))}),a.tcepo.lateFieldsPrices[k]=[],[w,x]}function at(t){var e,i,o,r,n=[".tm-variation-ul-color",".tm-variation-ul-image",".tm-variation-ul-radiostart",".tm-variation-ul-radioend","ul.use_images_container","ul.use_colors_container"],c=t.main_product;a(".tc-extra-product-options").addClass("tc-show-hidden"),n.forEach(function(t){c.find(t).toArray().forEach(function(t){a(t).toArray().forEach(function(t){t=a(t),(e=t.find(".tmhexcolorimage-li-nowh")).length&&(i=t.closest(".cpf-section"),o=e.first(),r=100,i.length&&i.find(".tm-collapse-wrap.closed").length?(i.find(".tm-collapse-wrap").removeClass("closed").show(),r=e.is(".tc-mode-endcolor, .tc-mode-startcolor")?o.css("line-height"):o.width()-1+"px",i.find(".tm-collapse-wrap").addClass("closed").hide()):r=e.is(".tc-mode-endcolor, .tc-mode-startcolor")?o.css("line-height"):o.width()-1+"px",e.find(".tmhexcolorimage").css({"min-width":r,"min-height":r}))})})}),a(".tc-extra-product-options").removeClass("tc-show-hidden")}function it(){var t;"yes"!==Ut.tm_epo_no_lazy_load&&((t=Xt?a(Xt).find("img.tmlazy"):a(".tc-extra-product-options img.tmlazy")).lazyLoadXT(),t.on("lazyshow",function(){Yt.trigger("lazyLoadXToncomplete")}))}function ot(t){var e,i;t&&t.find(".tm-owl-slider-section").each(function(){e=a(this),i=e.css("display"),e.find(".tm-slide").first().before('<div class="tm-owl-slider"></div>'),e.find(".tm-slide").appendTo(e.find(".tm-owl-slider")),e=e.find(".tm-owl-slider"),i=e.css("display"),e.show().addClass("tcowl-carousel").tmowlCarousel({dots:!1,nav:!0,items:1,autoHeight:!0,mouseDrag:!1,touchDrag:!0,navText:[Ut.i18n_prev_text,Ut.i18n_next_text],navClass:["owl-prev button","owl-next button"],navElement:"a",loop:!1,navRewind:!1}),e.css("display",i)})}function rt(t){t&&a(t).length&&(a(t).spectrum({showButtons:!0,clickoutFiresChange:!1,chooseText:Ut.closeText,cancelText:Ut.i18n_cancel}),a(t).spectrum("enable"))}function nt(t){var e=t.closest(".tmcp-field-wrap").find("label img"),i=a(e).first().attr("data-original");return t.is("select.tm-product-image")&&(t=t.children("option:selected")),i||(i=a(e).first().attr("src")),i||(i=t.attr("data-image")),t.attr("data-imagep")&&(i=t.attr("data-imagep")),!!i}function ct(e){var i,o,r,n,c=e.is_associated?e.this_epo_container.find(".tm-epo-field.tmcp-upload"):e.this_epo_container.find(".tm-epo-field.tmcp-upload").not(Mt.epoSelector+" "+Mt.associatedEpoSelector+" .tm-epo-field.tmcp-upload");try{c.not(Mt.epoSelector+" "+Mt.associatedEpoSelector+" .tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").toArray().forEach(function(t){i=a(t),(Zt||Wt)&&((o=new Zt("").clipboardData||new Wt).items.add(new File([i.attr("data-file")],i.attr("data-filename"))),t.files=o.files),r=i.attr("name"),n=i.attr("data-file"),i.trigger("change.tcupload"),i.after('<input type="hidden" class="tmcp-upload-hidden" name="'+r+'" value="'+n+'" />'),i.removeAttr("data-file data-filename")})}catch(e){t.console.log(e),a(".tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").addClass("tc-nodt"),Ht=e}}function lt(t){var e=t.epoEventId,i=t.this_epo_container;"yes"===Ut.tm_epo_upload_popup&&(a.tcepo.formSubmitEvents[e][a.tcepo.formSubmitEvents[e].length]={trigger:function(){return!0},on_true:function(){var t=i.data("num_uploads");return t&&Object.keys(t).length&&a.tcFloatBox({fps:1,ismodal:!0,refresh:"fixed",width:"50%",height:"300px",classname:"flasho tm_wrapper",data:a.epoAPI.template.html(Mt.templateEngine.tc_upload_messages,{files:t,title:Ut.i18n_uploading_files,message:Ut.i18n_uploading_message})}),!0},on_false:function(){return!0}})}function dt(t){var e=t.this_epo_container,i=t.main_product,o=t.epoEventId,r=e.find(".tm-limit"),n=e.find(".tm-exactlimit"),c=e.find(".tm-minimumlimit");e.on("change.cpflimit","input.tm-epo-field.tmcp-checkbox",function(){var t=a(this);U(t,!0),R(t,!0)}),r.length&&Q(r,i,o),n.length&&W(n,i,o),c.length&&X(c,o)}function st(e){var i,o,r=e.this_epo_totals_container,n=e.this_epo_container,c=r.attr("data-theme-name");if(c){switch(c=c.toLowerCase(),i=n.find("select"),c){case"flatsome":case"flatsome-child":case"flatsome child":i.wrap('<div class="custom select-wrapper"/>');break;case"avada":case"avada-child":case"avada child":i.wrap('<div class="avada-select-parent tm-select-parent"></div>'),a('<div class="select-arrow">&#xe61f;</div>').appendTo(n.find(".tm-select-parent")),t.calc_select_arrow_dimensions?(t.calc_select_arrow_dimensions(),Yt.on("tmsectionpoplink cpflogicdone",function(){t.calc_select_arrow_dimensions()})):t.calcSelectArrowDimensions&&(t.calcSelectArrowDimensions(),Yt.on("tmsectionpoplink cpflogicdone",function(){t.calcSelectArrowDimensions()}));break;case"bazar":case"bazar-child":case"bazar child":i.wrap('<div class="tm-select-wrapper select-wrapper"/>');break;case"blaszok":case"blaszok-child":case"blaszok child":o=function(){setTimeout(function(){a(".tm-extra-product-options select").not(".hasCustomSelect").filter(":visible").each(function(){a(this).is(".mpcthSelect")||(a(this).width(a(this).outerWidth()),a(this).customSelect({customClass:"mpcthSelect"}))})},100)},Yt.on("cpflogicrun",function(){o()}),Yt.on("epo_options_visible",function(){o()});break;case"handmade":case"handmade child theme":a(".tm-owl-slider.tcowl-carousel").addClass("manual")}Yt.trigger("tm-theme-specific-actions",{epo:{theme_name:c,all_epo_selects:i}})}Kt.off("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus").on("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus",function(){a(this).closest(".quantity").find(Mt.qtySelector).trigger("change.cpf")})}function pt(t,i,o,r,n){var c,l,d,s,p,m,_,f,u,g=t.epoEventId,h="input[name^='variation_id']",v=t.is_associated?"tc_variation_form.tmlogic":"wc_variation_form.tmlogic",y=t.is_associated?"tc_":"",b=t.variations_form,w=t.is_associated?b.find(".tc-epo-element-variations"):b.find(".variations"),x=t.is_associated?".tc-epo-element-variable-reset-variations":".reset_variations";if(b.attr("data-epo_id",t.epo_id),i.find("input.variation_id").length>0&&(h="input.variation_id"),n.find(".tm-epo-variation-element").length||n.data("tm-epo-variation-element")){if((c=n.find(".tm-epo-variation-section").first()).find(".cpf-type-variations").attr("data-epo_id",t.epo_id).attr("data-product_id",b.attr("data-product_id")),n.data("tm-epo-variation-element",c.find(".tm-epo-variation-element")),o&&"main"!==o&&!t.is_associated)l=c.closest("li.tm-extra-product-options-field"),c.is(".tm-hidden")||w.hide(),w.after(c.addClass("tm-extra-product-options nopadding").removeClass("tc-cell")),l.is(":empty")&&l.hide(),d=!1,i.off(v).on(v,function(){for(d=!0,b.on("click.tmlogic",".reset_variations",function(){c.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),c.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1).closest("li").show(),Yt.trigger("tmlazy"),c.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),c.find("li").removeClass("tc-active")}),i.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){E(i,t)}),u=0;u<$t.length;u+=1)s=$t[u],"object"===(p=typeof s)&&(m="string"==typeof s.name||!1,_="string"==typeof s.selector||!1,f="function"==typeof s.func||!1,m&&f&&("input[name='variation_id']"===_&&(_=h),s.selector?i.data("tm-styled-variations",1).off(y+s.name,s.selector).on(y+s.name,s.selector,s.func):i.data("tm-styled-variations",1).off(y+s.name).on(y+s.name,s.func)));$t=[],c.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")}),Kt.ready(function(){!1===d&&i.trigger(v)});else{for(c.is(".tm-hidden")||w.hide(),l=c.closest("li.tm-extra-product-options-field"),w.after(c.addClass("tm-extra-product-options nopadding").removeClass("tc-cell")),l.is(":empty")&&l.hide(),b.off("click.tmlogic",x).on("click.tmlogic",x,function(){c.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),c.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1).closest("li").show(),Yt.trigger("tmlazy"),c.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),c.find("li").removeClass("tc-active")}),b.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){E(b,t)}),u=0;u<$t.length;u+=1)s=$t[u],"object"===(p=typeof s)&&(m="string"==typeof s.name||!1,_="string"==typeof s.selector||!1,f="function"==typeof s.func||!1,m&&f&&("input[name='variation_id']"===_&&(_=h),s.selector?b.data("tm-styled-variations",1).off(y+s.name,s.selector).on(y+s.name,s.selector,s.func):b.data("tm-styled-variations",1).off(y+s.name).on(y+s.name,s.func)));$t=[],c.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")}a.tcepo.formSubmitEvents[g][a.tcepo.formSubmitEvents[g].length]={trigger:function(){return!0},on_true:function(){return c.find(".tm-epo-variation-element").attr("disabled","disabled"),!0},on_false:function(){c.find(".tm-epo-variation-element").removeAttr("disabled")}},a(e.body).on("added_to_cart",function(){c.find(".tm-epo-variation-element").removeAttr("disabled")})}}function mt(t,e){var i=e.find(".flex-control-nav li:eq(0) img"),o=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=t,n=t.closest("a");r.attr("data-o_src",a.tc_product_image_store[0].src),r.attr("data-o_srcset",a.tc_product_image_store[0].srcset),r.attr("data-o_sizes",a.tc_product_image_store[0].sizes),r.attr("data-o_title",a.tc_product_image_store[0].title),r.attr("data-o_alt",a.tc_product_image_store[0].alt),r.attr("data-o_data-src",a.tc_product_image_store[0]["data-src"]),r.attr("data-o_data-large_image",a.tc_product_image_store[0]["data-large_image"]),r.attr("data-o_data-large_image_width",a.tc_product_image_store[0]["data-large_image_width"]),r.attr("data-o_data-large_image_height",a.tc_product_image_store[0]["data-large_image_height"]),o.attr("data-o_data-thumb",a.tc_product_image_store[1]["data-thumb"]),a.tc_product_image_store[2]&&i.attr("data-o_src",a.tc_product_image_store[2].src),n.attr("data-o_href",a.tc_product_image_store[3].href),n.attr("data-o_title",a.tc_product_image_store[3].title)}function _t(t,e){var i=e.find(".flex-control-nav li:eq(0) img"),o=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=t,n=t.closest("a");a.isEmptyObject(a.tc_product_image)?a.tc_product_image_store=a.tc_populate_store(t,e):(a.tc_product_image_store=a.tc_pre_populate_store(),a.tc_product_image_store=a.tc_maybe_copy_object_values(a.tc_product_image_store,a.tc_product_image)),r.tc_update_attr("src",0),r.tc_update_attr("srcset",0),r.tc_update_attr("sizes",0),r.tc_update_attr("title",0),r.tc_update_attr("alt",0),r.tc_update_attr("data-src",0),r.tc_update_attr("data-large_image",0),r.tc_update_attr("data-large_image_width",0),r.tc_update_attr("data-large_image_height",0),o.tc_update_attr("data-thumb",1),i.tc_update_attr("src",2),n.tc_update_attr("href",3),n.tc_update_attr("title",3)}function ft(t,e,a){var i=a.find(".flex-control-nav li:eq(0) img"),o=a.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=e,n=e.closest("a");t&&t.image_link&&t.image_link&&t.image_link.length>1?(null===t.full_src&&(t.full_src=t.image_link),null===t.full_src_w&&(t.full_src_w=r.attr("data-large_image_width")),null===t.full_src_h&&(t.full_src_h=r.attr("data-large_image_height")),r.length&&(t.image_srcset||(t.image_sizes=!1),t.image_sizes||(t.image_srcset=!1),r.tc_set_attr("src",t.image_link,0),r.tc_set_attr("srcset",t.image_srcset,0),r.tc_set_attr("sizes",t.image_sizes,0),r.tc_set_attr("title",t.image_title,0),r.tc_set_attr("alt",t.image_alt,0),r.tc_set_attr("data-src",t.full_src,0),r.tc_set_attr("data-large_image",t.full_src,0),r.tc_set_attr("data-large_image_width",t.full_src_w,0),r.tc_set_attr("data-large_image_height",t.full_src_h,0),o.tc_set_attr("data-thumb",t.image_link,1)),i.length&&i.tc_set_attr("src",t.image_link,2),n.length&&(n.tc_set_attr("href",t.full_src,3),n.tc_set_attr("title",t.image_caption,3))):(r.length&&(r.tc_reset_attr("src",0),r.tc_reset_attr("srcset",0),r.tc_reset_attr("sizes",0),r.tc_reset_attr("title",0),r.tc_reset_attr("alt",0),r.tc_reset_attr("data-src",0),r.tc_reset_attr("data-large_image",0),r.tc_reset_attr("data-large_image_width",0),r.tc_reset_attr("data-large_image_height",0),o.tc_reset_attr("data-thumb",1)),i.length&&i.tc_reset_attr("src",2),n.length&&(n.tc_reset_attr("href",3),n.tc_reset_attr("title",3)))}function ut(t,e){var i;return t.is_associated?i=e.find(".tc-product-image .wp-post-image").first():""!==Ut.tm_epo_global_product_image_selector?i=a(Ut.tm_epo_global_product_image_selector):(0===(i=e.find(".woocommerce-product-gallery__image:not(.clone), .woocommerce-product-gallery__image--placeholder:not(.clone)").eq(0).find(".wp-post-image").first()).length&&(i=e.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img").first()),0===i.length&&(i=e.find(".elementor-widget-ae-post-image .wp-post-image").first())),a(i).length>1&&(i=a(i).first()),i}function gt(t){var e,a,i;return t.is_associated?t.main_product.closest(".tc-epo-element-product-container"):(e=t.main_product,a=t.product_id,(i=e.closest("#product-"+a)).length<=0&&(i=e.closest(".post-"+a)),i)}function ht(e,i,o,r,n,c,l){var d,s,p,m,_,f;for(d in e)if(e.hasOwnProperty(d)&&(d=e[d]).enabled)switch(d.type){case"yith":i?(i.attr("srcset",o).attr("src-orig",o),d.element.data("yith_magnifier")&&d.element.yith_magnifier("destroy"),s={elements:{zoom:a(".yith_magnifier_zoom"),zoomImage:i,gallery:a(".yith_magnifier_gallery li a")}},d.element.yith_magnifier(a.extend(!0,{},t.yith_magnifier_options,s))):(r?d.yith_wcmg_zoom.attr("href",d.yith_wcmg_default_zoom):d.yith_wcmg_zoom.attr("href",d._yith_wcmg_default_zoom),d.element.data("yith_magnifier")&&d.element.yith_magnifier("destroy"),d.element.yith_magnifier(t.yith_magnifier_options));break;case"iosslider":setTimeout(function(t){t.element.iosSlider("update")}.bind(null,d),150);break;case"flexslider":Yt.trigger("resize");break;case"elevatezoom":d.element.each(function(t,e){var a=e(this).data("elevateZoom");void 0!==a&&a.swaptheimage(t,t)}.bind(null,o,a));break;case"easyzoom":d.element.swap(null,o);break;case"easyzoom-flatsome":d.element.swap(o,o);break;case"woocommerce":d.element.flexslider(0),p=d.element,t.setTimeout(function(t,e){t.trigger("woocommerce_gallery_init_zoom"),e.trigger("resize")}.bind(null,p,Yt),10);break;case"zoom":l&&(m=l.find(".woocommerce-product-gallery--with-images").width(),_=!1,d.element.find("img.wp-post-image").attr("data-large_image_width")>m&&(_=!0),_?(f={touch:!1},"ontouchstart"in t&&(f.on="click"),d.element.trigger("zoom.destroy"),d.element.zoom(f)):d.element.trigger("zoom.destroy"))}Yt.trigger("tm_gallery_compatibility_actions",{event_data:n,product_element:l,form:c})}function vt(e,i,o){var r,n,c,l,d,s,p,m,_,f,u,g,h,v,y,b,w,x,k,F,I,C,A;return e.is_associated?{}:(r=!1,n=a(".images"),c=a(".yith_magnifier_zoom"),l=n.find(".yith_magnifier_zoom").first().attr("href"),d=l,s=n.find(".yith_magnifier_zoom img").first().attr("src"),p=!1,m=a(".iosSlider.product-gallery-slider,.iosSlider.product-slider"),_=!1,f=o.find(".images .fusion-flexslider"),u=i.data("elevateZoom")||!1,g=o.find("div.product-images .woocommerce-main-image"),h=!1,v=o.find(".images .easyzoom"),y=!1,b=o.find(".images .easyzoom"),w=!1,x=o.find(".woocommerce-product-gallery"),k=!1,F=t.wc_single_product_params,C="function"==typeof a.fn.zoom&&F&&F.zoom_enabled,A=!1,t.yith_magnifier_options&&n.data("yith_magnifier")&&(r=!0),m.length&&m.iosSlider&&(p=!0),f.length&&f.flexslider&&(_=!0),v.length&&v.filter(".images .easyzoom.first").data("easyZoom")&&(v=v.filter(".images .easyzoom.first").data("easyZoom"),h=!0),h||(b=o.find(".images .has-image-zoom .slide")).length&&b.filter(".images .has-image-zoom .slide.first").data("easyZoom")&&(b=b.filter(".images .has-image-zoom .slide.first").data("easyZoom"),y=!0),Yt.on("load",function(){setTimeout(function(){v.length&&v.data("easyZoom")&&(v=v.data("easyZoom"),h=!0),b.length&&b.data("easyZoom")&&(b=b.data("easyZoom"),y=!0)},150)}),x.length&&x.data("flexslider")&&(w=!0,"function"==typeof a.fn.zoom&&F&&F.zoom_enabled&&(I=i.closest(".woocommerce-product-gallery__image")).length>0&&i.width()>a(".woocommerce-product-gallery").width()&&(k=I,i.data.wc27_zoom_target=k)),!w&&C&&(A=o.find(".woocommerce-product-gallery__image")),{is_yith_wcmg:{type:"yith",enabled:r,element:n,yith_wcmg_zoom:c,_yith_wcmg_default_zoom:d,yith_wcmg_default_image:s},is_iosSlider:{type:"iosslider",enabled:p,element:m},is_flexslider:{type:"flexslider",enabled:_,element:f},is_elevateZoom:{type:"elevatezoom",enabled:u,element:g},is_easyzoom:{type:"easyzoom",enabled:h,element:v},is_easyzoom_flatsome:{type:"easyzoom-flatsome",enabled:y,element:b},is_wc27_gallery:{type:"woocommerce",enabled:w,element:x},is_zoom_enabled:{type:"zoom",enabled:!w&&C,element:A}})}function yt(t){var e,i,o,r,n,c,l,d,s=t.is_associated?t.this_epo_container:t.this_epo_container.not(Mt.epoSelector+" "+Mt.associatedEpoSelector),p=t.variations_form,m=t.main_product,_=t.form,f=gt(t),g=[],h=t.is_associated?"tc_":"";e=ut(t,f),i=vt(t,e,f),a(e).length>0&&(_.on(h+"reset_image.tcpi",function(){a.tc_product_image=a.tc_replace_object_values(a.tc_product_image,a.tc_product_image_store),g=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(o=a(this))&&""!==o.val()&&g.push(o)}),g.length?g[g.length-1].trigger("tm_trigger_product_image"):a.tc_product_image_store=a.tc_populate_store(e,f)}),_.on(h+"found_variation.tcpi",function(){_t(e,f),g=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(o=a(this))&&""!==o.val()&&g.push(o)}),g.length&&(mt(e,f),g[g.length-1].trigger("tm_trigger_product_image"))}),a.tc_product_image_store=a.tc_maybe_copy_object_values_from_img(a.tc_product_image_store,e,f),m.off("tm_change_product_image").on("tm_change_product_image",function(t,m){if(t.stopImmediatePropagation(),r=m.element,n=m.element_current,r&&n){if(c=r.data("imagep"),l=""!==c?"imagep":"image",(d=m.element_current.data("image-variations"))&&(d=d[l]),void 0===d)return;if(g=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){(o=a(this)).is("option")&&(o=o.closest("select")),u(o)&&""!==o.val()&&g.push(o)}),g.length&&!g[g.length-1].is(r))return;ft(d,e,f),ht(i,e,d.image_link,!1,m,_,f)}}),m.off("tm_restore_product_image").on("tm_restore_product_image",function(t,n){t.stopImmediatePropagation(),r=n.element,g=[],r&&(a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(o=a(this))&&""!==o.val()&&g.push(o)}),g.length&&!g[g.length-1].is(r))?g[g.length-1].trigger("tm_trigger_product_image"):(ft(!1,e,f),ht(i,!1,e.attr("src"),!1,n,_,f))}),g=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(o=a(this))&&""!==o.val()&&g.push(o)}),g.length&&g[g.length-1].trigger("tm_trigger_product_image")),Yt.trigger("tm_product_image_loaded")}function bt(e){var i,o,r,n,c,l,d,s=e.is_associated?e.this_epo_container:e.this_epo_container.not(Mt.epoSelector+" "+Mt.associatedEpoSelector),p=e.main_product,m=e.product_id,_=e.form,f=gt(e),g=[];e.is_associated;i=ut(e,f),o=vt(e,i,f),a(i).length>0&&(i.data("tm-current-image",!1),r=i.closest("a"),n=i.attr("src"),c=i.width(),l=i.height(),p.off("tm_change_product_image").on("tm_change_product_image",function(e,r){var n,s,p,f,g,h,v,b,w,x,k,F,I,C,A,P=[];s=(n=r.element.closest(".cpf-section")).is(".tm-epo-variation-section"),p=r.epo_holder,s&&(p=n),f=p.find(".tm-product-image:checked,select.tm-product-image"),P=[],g=r.element.attr("id"),h=!0,v=r.main_product,b=v.closest("#product-"+m),w=c,x=l,F=a("<div class='blockUI blockOverlay tm-preloader-img'></div>"),b.length<=0&&(b=v.closest(".post-"+m)),0===(k=b.find("#"+g+"_tmimage")).length&&(k=i),A=function(){F.remove(),_.tc_image_update(!1),i.data("tm-current-image",!1),b.find(".tm-clone-product-image").hide(),i.show()},r.src===k.attr("src")&&k.is(":visible")||(!1!==r.src?(F.css({width:w,height:x}),f.each(function(){u(d=a(this))&&nt(d)&&y({element:d.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&P.push(d)}),P.length&&(f=P[P.length-1]),f.attr("id")!==r.element.attr("id")&&(h=!1),I=i.tcClone(),C=new Image,I.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),h&&i.before(F),o.is_yith_wcmg.yith_wcmg_default_zoom=o.is_yith_wcmg.element.find(".yith_magnifier_zoom").first().attr("href"),o.is_yith_wcmg.yith_wcmg_default_image=o.is_yith_wcmg.element.find(".yith_magnifier_zoom img").first().attr("src"),C.onerror=function(){A()},C.onload=function(){if("naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();b.find("#"+g+"_tmimage").remove(),b.find(".tm-clone-product-image").hide(),I.prop("src",C.src).hide(),i.hide().after(I),I.css("opacity",0).show(),ht(o,I,C.src),F.animate({opacity:0},750,"easeOutExpo",function(){F.remove()}),I.animate({opacity:1},t.tc_epo_image_animation_delay||1500,"easeOutExpo",function(){}),Yt.trigger("tm_change_product_image_loaded",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})},I.attr("id",g+"_tmimage").addClass("tm-clone-product-image").hide(),I.attr("src-orig")&&I.attr("src-orig",r.src),h?(C.src=r.src,_.tc_image_update(r.element,I),i.data("tm-current-image",g),Yt.trigger("tm_change_product_image_show",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})):(I.prop("src",r.src).hide(),i.after(I)),Yt.trigger("tm_change_product_image_end",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})):A())}),p.off("tm_restore_product_image").on("tm_restore_product_image",function(t,e){var a,c,l,d,s,p,f,u,g,h,v,y,b,w;if(Yt.trigger("tm_restore_product_image_pre",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder}),a=e.element.attr("id"),c=e.main_product,l=c.closest("#product-"+m),d=e.element.closest(".cpf-section"),s=d.is(".tm-epo-variation-section"),u=!1,y=n,b=e.epo_holder,s&&(b=d),l.length<=0&&(l=c.closest(".post-"+m)),g=l.find("#"+a+"_tmimage").is(":visible"),l.find("#"+a+"_tmimage").remove(),0===l.find(".tm-clone-product-image").length)i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1);else{if(!g)return void Yt.trigger("tm_restore_product_image_loaded_exit",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder});for(h=l.find(".tm-clone-product-image").length,a=i.data("tm-current-image"),w=h-1;w>=0;w-=1){if(f=l.find(".tm-clone-product-image").eq(w),p=f.attr("id").replace("_tmimage",""),(v=b.find("[id='"+p+"']")).is(":checked")&&v.closest(".cpf_hide_element").is(":visible")){l.find(".tm-clone-product-image").eq(w).show(),r.attr("href",l.find(".tm-clone-product-image").eq(w).prop("src")),i.data("tm-current-image",p),u=!0;break}l.find(".tm-clone-product-image").eq(w).hide()}u?l.find("#"+a+"_tmimage").remove():(i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1))}u&&(y=f.attr("src")),ht(o,!1,y,l.find(".tm-clone-product-image").filter(":visible").length),Yt.trigger("tm_restore_product_image_loaded",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})}),p.off("tm_attempt_product_image").on("tm_attempt_product_image",function(t,e){var c,l,s,p,f,g,h,v,b,w,x,k,F,I,C,A,P;if(c=e.main_product,l=c.closest("#product-"+m),s=e.element?e.element.closest(".cpf-section"):a(c.find(".tm-epo-variation-section").first(),e.epo_holder),p=s.is(".tm-epo-variation-section"),f=e.epo_holder,p&&(f=s),g=f.find(".tm-product-image:checked,select.tm-product-image"),h=[],v="",x=!1,k=i.data("tm-current-image"),I=n,l.length<=0&&(l=c.closest(".post-"+m)),f=c.find(".tm-epo-variation-section").first().add(e.epo_holder),(g=f.find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(d=a(this))&&nt(d)&&y({element:d.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&h.push(d)}),h.length&&(v=(g=h[h.length-1]).attr("id")),!h.length||!g.length||k&&v===k){if(A=f.find("[id='"+k+"']").closest(".cpf_hide_element"),k&&(!1===A.data("isactive")||!1===A.closest(".cpf-section").data("isactive"))){if(l.find("#"+k+"_tmimage").remove(),0===(F=l.find(".tm-clone-product-image").length))i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1);else{for(P=F-1;P>=0;P-=1){if(b=l.find(".tm-clone-product-image").eq(P),w=b.attr("id").replace("_tmimage",""),(C=f.find("[id='"+w+"']")).is(":checked")&&C.closest(".cpf_hide_element").is(":visible")){l.find(".tm-clone-product-image").eq(P).show(),r.attr("href",l.find(".tm-clone-product-image").eq(P).prop("src")),i.data("tm-current-image",w),x=!0;break}l.find(".tm-clone-product-image").eq(P).hide()}x||(i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1))}x&&(I=b.attr("src")),ht(o,!1,I,l.find(".tm-clone-product-image").filter(":visible").length)}}else g.last().trigger("tm_trigger_product_image")}),a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(d=a(this))&&""!==d.val()&&g.push(d)}),g.length&&g[g.length-1].trigger("tm_trigger_product_image")),Yt.trigger("tm_product_image_loaded")}function wt(e){setTimeout(function(){"inline"===Ut.tm_epo_global_product_image_mode?bt(e):yt(e)},t.tc_epo_product_image_setup_delay||0)}function xt(t){Yt.trigger("tm-epo-compatibility",{epo:t})}function kt(t){Qt&&t.find(".tm-range-picker").toArray().forEach(function(e){var i,o=a(e),r=o.attr("data-step").split("."),n=t.find("#"+a.epoAPI.dom.id(o.attr("data-field-id"))),c=parseFloat(o.attr("data-min")),l=parseFloat(o.attr("data-max")),d=parseFloat(o.attr("data-start")),s=parseFloat(o.attr("data-step")),p=o.attr("data-show-picker-value"),m=o.closest("li").find(".tm-show-picker-value"),_=parseFloat(o.attr("data-noofpips")),f=null;o.data("tc-picker-init")||(o.data("tc-picker-init",1),r=1===r.length?0:r[1].length,Number.isFinite(c)||(c=0),Number.isFinite(l)||(l=0),l<=c&&(l=parseFloat(l)+1),d=a.epoAPI.math.unformat(d,Mt.localDecimalSeparator),Number.isFinite(d)||(d=0),d=a.epoAPI.math.format(d,{decimal:Mt.localDecimalSeparator,thousand:Mt.localThousandSeparator,precision:r}),Number.isFinite(s)||(s=0),Number.isFinite(_)||(_=10),_<2&&(_=2),"yes"===o.attr("data-pips")&&(f={mode:"count",values:_,filter:function(t,e){return t=parseFloat(a.epoAPI.math.toFixed(t,r)),s<=0?0:1!==e||Number.isInteger(t)?e:2},format:{from:function(t){return a.epoAPI.math.unformat(t,Mt.localInputDecimalSeparator)},to:function(t){return a.epoAPI.math.format(t,{decimal:Mt.localDecimalSeparator,thousand:Mt.localThousandSeparator,precision:r})}},density:2}),Qt.create(o.get(0),{direction:Ut.text_direction,start:d,step:s,connect:"lower",behaviour:"tap",format:{from:function(t){return a.epoAPI.math.unformat(t,Mt.localInputDecimalSeparator)},to:function(t){return a.epoAPI.math.format(t,{decimal:Mt.localDecimalSeparator,thousand:Mt.localThousandSeparator,precision:r})}},range:{min:[c],max:[l]},pips:f}),i=o.find(".noUi-handle-lower"),o.get(0).noUiSlider.on("slide",function(){i.trigger("tmmovetooltip"),n.trigger("change.cpf")}),o.get(0).noUiSlider.on("update",function(t,e){t[e]=a.epoAPI.math.unformat(t[e],Mt.localDecimalSeparator),e=0,"left"!==p&&"right"!==p&&i.attr("title",a.epoAPI.math.format(t[e],{decimal:Mt.localDecimalSeparator,thousand:Mt.localThousandSeparator,precision:r})),n.val(t[e]).trigger("change"),""!==p&&m.html(a.epoAPI.math.format(t[e],{decimal:Mt.localDecimalSeparator,thousand:Mt.localThousandSeparator,precision:r}))}),""!==p&&m.html(d),"left"!==p&&"right"!==p&&(i.attr("title",d),a.tcToolTip(i)))})}function Ft(t,e){var i,o=a(e),r=a.tm_datepicker._getInst(o[0]),n=o.data("tc-enabled_only_dates"),c=o.data("tc-disabled_weekdays"),l=o.data("tc-disabled_months"),d=o.data("tc-disabled_dates"),s=o.data("tc-format"),p=t.getDay(),m=t.getDay()+1;return!!a.tm_datepicker._isInRange(r,t)&&(""!==n?(i=a.tm_datepicker.formatDate(s,t),-1!==n.indexOf(i)):-1===c.indexOf(p.toString())&&(-1===l.indexOf(m.toString())&&(""===d||(i=a.tm_datepicker.formatDate(s,t),-1===d.indexOf(i)))))}function It(i){var o;a.tm_datepicker&&(o=a("input").map(function(){return this.id}).get().join(" "),i.find(".tm-epo-timepicker").toArray().forEach(function(t){var e=a(t),i=null,r=null,n=e.attr("data-time-format").trim(),c=e.attr("data-time-theme").trim(),l=e.attr("data-time-theme-size").trim(),d=e.attr("data-time-theme-position").trim(),s=e.attr("data-tranlation-hour").trim(),p=e.attr("data-tranlation-minute").trim(),m=e.attr("data-tranlation-second").trim();""!==e.attr("data-min-time").trim()&&(i=e.attr("data-min-time").trim()),""!==e.attr("data-max-time").trim()&&(r=e.attr("data-max-time").trim()),""!==e.attr("data-custom-time-format").trim()&&(n=e.attr("data-custom-time-format").trim()),s||(s=Ut.hourText),p||(p=Ut.minuteText),m||(m=Ut.secondText),e.tm_timepicker({isRTL:Ut.isRTL,hourText:s,minuteText:p,secondText:m,timeFormat:n,minTime:i,maxTime:r,closeText:Ut.closeText,showOn:"both",buttonText:"",beforeShow:function(t,i){a(i.dpDiv).removeClass(o).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+c+" tm-timepicker tm-datepicker tm-datepicker-"+d+" tm-datepicker-"+l).appendTo("body"),Kt.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){e.tm_timepicker("hide")}),Vt.addClass("tm-static"),e.prop("readonly",!0),Yt.trigger({type:"tm-timepicker-beforeShow",input:t,inst:i})},onClose:function(){Vt.removeClass("tm-static"),e.prop("readonly",!1),e.trigger("change")}}),a("#ui-tm-datepicker-div").hide()}),i.find(".tm-epo-datepicker").toArray().forEach(function(t){var e,r,n=a(t),c=parseInt(n.attr("data-start-year").trim(),10),l=parseInt(n.attr("data-end-year").trim(),10),d=n.attr("data-min-date").trim(),s=n.attr("data-max-date").trim(),p=n.attr("data-disabled-dates").trim(),m=n.attr("data-enabled-only-dates").trim(),_=n.attr("data-disabled-weekdays").trim().split(","),f=n.attr("data-disabled-months").trim().split(","),u=n.attr("data-date-format").trim(),g=n.attr("data-date-showon").trim(),h=n.attr("data-date-defaultdate").trim(),v=n.attr("data-date-theme").trim(),y=n.attr("data-date-theme-size").trim(),b=n.attr("data-date-theme-position").trim();""!==p&&(e=p.split(","),-1!==p.indexOf(",")&&e.length>0&&(p=e)),""!==m&&(r=m.split(","),-1!==m.indexOf(",")&&r.length>0&&(m=r)),""===d&&(d=""===c?null:new Date(c,0,1)),""===s&&(s=""===l?null:new Date(l,11,31)),n.data("tc-enabled_only_dates",m),n.data("tc-disabled_weekdays",_),n.data("tc-disabled_months",f),n.data("tc-disabled_dates",p),n.data("tc-format",u),n.tm_datepicker({monthNames:Ut.monthNames,monthNamesShort:Ut.monthNamesShort,dayNames:Ut.dayNames,dayNamesShort:Ut.dayNamesShort,dayNamesMin:Ut.dayNamesMin,isRTL:Ut.isRTL,showOtherMonths:!0,selectOtherMonths:!0,showOn:g,defaultDate:h,buttonText:"",showButtonPanel:!0,firstDay:Ut.first_day,closeText:Ut.closeText,currentText:Ut.currentText,dateFormat:u,minDate:d,maxDate:s,onSelect:function(){var t,e,o=a(this),r="#"+a.epoAPI.dom.id(o.attr("id")),n=o.tm_datepicker("getDate"),c="",l="",d="",s=i.find(r+"_day"),g=i.find(r+"_month"),h=i.find(r+"_year");n&&(c=n.getDate(),l=n.getMonth()+1,d=n.getFullYear(),t=a.tm_datepicker.formatDate(u,n),(-1!==f.indexOf(l.toString())||-1!==_.indexOf(n.getDay().toString())||-1!==p.indexOf(t)||""!==m&&-1===m.indexOf(t))&&(e=o.data("tm-last-date"),e=o.data("tm-last-date")?o.data("tm-last-date"):"",o.val(e),o.tm_datepicker("setDate",e),e?(c=(n=o.tm_datepicker("getDate")).getDate(),l=n.getMonth()+1,d=n.getFullYear()):(c="",l="",d=""))),s.val(c),g.val(l),h.val(d),o.data("tm-last-date",o.val())},beforeShow:function(t,e){a(e.dpDiv).removeClass(o).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+v+" tm-datepicker tm-datepicker-"+b+" tm-datepicker-"+y).appendTo("body"),Kt.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){n.tm_datepicker("hide")}),Kt.off("click",".ui-tm-datepicker-current").on("click",".ui-tm-datepicker-current",function(){var t,i=new Date,o=a.tm_datepicker._daylightSavingAdjust(new Date(i.getFullYear(),i.getMonth(),i.getDate())),r=o.getDay(),c=o.getMonth()+1,l="#"+e.id.replace(/\\\\/g,"\\"),d=!1,s=n.tm_datepicker("getDate");if(""!==m)t=a.tm_datepicker.formatDate(u,s),d=-1!==m.indexOf(t);else if(-1!==f.indexOf(c.toString())||-1!==_.indexOf(r.toString()))d=!1;else{if(""!==p)return t=a.tm_datepicker.formatDate(u,s),[-1===p.indexOf(t),""];d=!0}d&&(a.tm_datepicker._setDate(e,o),a.tm_datepicker._gotoToday(l))}),Vt.addClass("tm-static"),n.prop("readonly",!0),Yt.trigger({type:"tm-datepicker-beforeShow",input:t,inst:e})},onClose:function(){Vt.removeClass("tm-static"),n.prop("readonly",!1),n.removeAttr("readonly"),n.trigger("change")},beforeShowDay:function(t){var e,i=t.getDay(),o=t.getMonth()+1;return""!==m?(e=a.tm_datepicker.formatDate(u,t),[-1!==m.indexOf(e),""]):-1!==f.indexOf(o.toString())||-1!==_.indexOf(i.toString())?[!1,""]:""!==p?(e=a.tm_datepicker.formatDate(u,t),[-1===p.indexOf(e),""]):[!0,""]}}),a("#ui-tm-datepicker-div").hide()}),i.find(".tmcp-date-select").on("change.cpf",function(){var t="#"+a.epoAPI.dom.id(a(this).attr("data-tm-date")),e=i.find(t),o=e.attr("data-date-format"),r=i.find(t+"_day").val(),n=i.find(t+"_month").val(),c=i.find(t+"_year").val(),l=a.tm_datepicker.formatDate(o,new Date(c,parseInt(n,10)-1,r));r>0&&n>0&&c>0?(e.tm_datepicker("setDate",l),e.trigger("change")):(e.val(""),e.trigger("change.cpf"))}).on("focus.cpf",function(){var e="#"+a.epoAPI.dom.id(a(this).attr("data-tm-date")),o=i.find(e),r=i.find(e+"_day"),n=i.find(e+"_month"),c=i.find(e+"_year"),l=r.val(),d=n.val(),s=c.val(),p=a(this);""!==s&&""!==d&&""!==l||""!==s&&""!==d&&""===l||""!==l&&""!==s&&""===d||""!==l&&""!==d&&""===s?p.find("option").toArray().forEach(function(e){var i,r=a(e),n=r.val(),c=s+"-"+d+"-"+l;if(p.is(".tmcp-date-day")){if(""===s||""===d)return;c=s+"-"+d+"-"+n}else if(p.is(".tmcp-date-month")){if(""===s||""===l)return;c=s+"-"+n+"-"+l}else if(p.is(".tmcp-date-year")){if(""===l||""===d)return;c=n+"-"+d+"-"+l}if(""!==n)try{(i=a.tm_datepicker.parseDate("yy-mm-dd",c))&&(Ft(i,o)?r.prop("disabled",!1):r.prop("disabled",!0))}catch(e){t.console.log(e),r.prop("disabled",!0),Ht=e}}):(r.find("option").prop("disabled",!1),n.find("option").prop("disabled",!1),c.find("option").prop("disabled",!1))}),Yt.on("resizestart",function(){var i=a(e.activeElement);if(i.is(".hasDatepicker")){if(i.data("resizestarted",!0),a(t).width()<768)return void i.data("resizewidth",!0);i.tm_datepicker("hide")}}),Yt.on("resizestop",function(){var t=a(e.activeElement);t.is(".hasDatepicker")&&t.data("resizestarted")&&(t.data("resizewidth")&&t.tm_datepicker("hide"),t.tm_datepicker("show")),t.data("resizestarted",!1),t.data("resizewidth",!1)}))}function Ct(t){var e,i=t.epoEventId,o=t.main_product,r=!a.tcepo.formSubmitEvents[i].some(function(t){return typeof t&&("function"==typeof t.trigger||!1)&&!t.trigger()});return a.tcepo.formSubmitEvents[i].forEach(function(t){"object"===(e=typeof t)&&(r?t.on_true():t.on_false())}),r||setTimeout(function(){o.find(Mt.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled")},100),Yt.trigger("tm-apply-submit-events",{epo:{form_is_submit:r}}),r}function At(t){var i,o,r=t.form,n=t.this_epo_container,c=t.main_product,l=t.epoEventId;return"yes"===Ut.tm_epo_global_enable_validation&&(i={},n.find(".tmcp-ul-wrap").toArray().forEach(function(t){var e,r,n,c;t=a(t),(o=t.data("tm-validation"))&&"object"===a.tmType(o)&&(r=(e=t.find(".tm-epo-field")).first().attr("name"),t.is(".tm-extra-product-options-radio.tm-element-ul-radio")?(r=e.last().attr("name"),i[r]=o):t.is(".tm-extra-product-options-checkbox.tm-element-ul-checkbox")?e.each(function(r,n){"required"in o&&(o.required=function(i){var o=t.find("input.tm-epo-field.tmcp-checkbox:checked").length;return 0===o?e.last().attr("name")===a(i).attr("name"):o<=0}),i[a(n).attr("name")]=o}):t.is(".tm-extra-product-options-product.tm-element-ul-product")?("required"in o&&(n=t.find(".product-variation-id").first().attr("name"),c={required:function(t){return!(!e.is("select")||"variable"!==e.children(":selected").attr("data-type"))}},i[n]=c),i[r]=o):i[r]=o)}),r.removeData("tc_validator"),r.tc_validate({focusInvalid:!1,ignore:Mt.qtySelector+",#wc_bookings_field_duration,input.tm-qty:hidden[type='number'],input.input-text.qty,.ignore,.variations select,.tc-epo-variable-product-selector,.tm-extra-product-options-variations input,.tm-extra-product-options-variations select,input:not(.tc-extra-product-options input),select:not(.tc-extra-product-options select)",rules:i,errorClass:"tm-error",validClass:"tm-valid",errorElement:"label",errorPlacement:function(t,e){return e.is(".tm-epo-field.tmcp-radio")||e.is(".tm-epo-field.tmcp-checkbox")||e.is(".tm-epo-field.tmcp-radio")?"before"===Ut.tm_epo_global_error_label_placement?t.prependTo(e.closest(".tmcp-ul-wrap").parent()):t.appendTo(e.closest(".tmcp-ul-wrap").parent()):"before"===Ut.tm_epo_global_error_label_placement?t.prependTo(e.closest(".tmcp-field-wrap")):t.appendTo(e.closest(".tmcp-field-wrap")),!1},invalidHandler:function(t,e){Yt.trigger("tm-invalidHandler",{epo:{validator:e}}),setTimeout(function(){c.find(Mt.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled")},100),e.errorList&&e.errorList[0]&&e.errorList[0].element&&M(a(e.errorList[0].element),l)},submitHandler:function(){return t.is_quickview||c.find(Mt.addToCartButtonSelector).first().addClass("disabled"),Ct(t)}}),a(e).on("click",".single_add_to_cart_button",function(t){r.tc_validate().form()||(t.preventDefault(),t.stopImmediatePropagation())}),!0)}function Pt(t){var e=t.form,i=t.epoEventId;Yt.trigger("tm-from-submit",{epo:t,functions:{tm_apply_validation:At,apply_submit_events:Ct}}),!At(t)&&a.tcepo.formSubmitEvents[i].length&&e.on("submit",function(){Ct(t)})}function St(t){var e,i=t.totalsHolder,o=t.totalsHolderContainer,r=t.currentCart,n=t.variationForm,c=t.variation,l=i.data("variations");i.data("current_variation",c),l&&c&&c.variation_id&&void 0!==l[c.variation_id]?(e=l[c.variation_id],i.data("price",e),i.removeData("tcprice")):c&&"display_price"in c?(e=c.display_price,i.data("price",e),i.data("priceIsWithDiscount","1"),i.removeData("tcprice")):c&&a(c.price_html).find(".amount:last").length&&(e=(e=(e=(e=a(c.price_html).find(".amount:last").text()).replace(Ut.currency_format_thousand_sep,"")).replace(Ut.currency_format_decimal_sep,".")).replace(/[^0-9.]/g,""),e=parseFloat(e),i.data("price",e),i.removeData("tcprice")),o.find(".cpf-product-price").val(e),n.data("tm-styled-variations")||r.trigger({type:"tm-epo-update"})}function qt(t,e,i,o,r,n,c,l){var d=e.find(i);return!1===t.is_associated&&(d=d.not(Mt.associatedEpoSelector+" "+i)),o||(o=0),r||(r=0),n||(n=[]),l||(d=d.filter(".tcenabled")),d.toArray().forEach(function(t){var e,i,d,s,p,m,_,f,u,g,h,v,y=a(t),b="",w=y.closest(".cpf_hide_element"),x=y.closest(".tmcp-field-wrap"),k=w.attr("data-fblabelshow"),F=w.attr("data-fbvalueshow"),I="",C=x.find(".tm-qty").val();""===k&&(I=w.find(".tm-epo-element-label").html()),void 0===C&&(C=""),y.is(":checkbox, :radio, :input")&&(i=0,d=0,s=0,p=0,y.is(".tmcp-checkbox, .tmcp-radio")?l||y.is(":checked")?(i=y.data("raw_price"),d=y.data("price"),s=y.data("raw_original_price"),p=y.data("original_price"),c=!0,y.data("isset",1),_=(m=y.closest("li.tmcp-field-wrap")).find(".checkbox_image,.radio_image"),b="",h="",(f=y.closest("li.tmcp-field-wrap").find(".tm-label")).length&&(h=b=f.html()),_.length&&(b+=_.clone().addClass("tc-img-floating")[0].outerHTML),y.is(".use_images")&&(h=b=m.find(".tc-label").first().html(),_.length&&(b=b+'<img class="tc-img-floating" src="'+y.attr("data-image")+'"')),n.push({title:I,value:b,valueText:h,price:d,original_price:p,quantity:C,label_show:k,value_show:F})):y.data("isset",0):y.is(".tmcp-select")?(i=(v=y.find("option:selected")).data("raw_price"),d=v.data("price"),s=v.data("raw_original_price"),p=v.data("original_price"),""===(u=y.children("option:selected")).val()&&""===u.attr("data-rulestype")||(c=!0),y.find("option").data("isset",0),v.data("isset",1),""===v.val()&&""===v.attr("data-rulestype")||(b=v.attr("data-text"),n.push({title:I,value:b,valueText:b,price:d,original_price:p,quantity:C,label_show:k,value_show:F}))):(e=y.val(),y.is("[type='file']")&&(e=e.replace("C:\\fakepath\\","")),e?y.is(".tmcp-range")&&"0"===e?y.data("isset",0):(i=y.data("raw_price"),d=y.data("price"),s=y.data("raw_original_price"),p=y.data("original_price"),c=!0,y.data("isset",1),b=e,y.is(".tmcp-range")&&(g=1===(g=a(".tm-range-picker[data-field-id='"+y.attr("id")+"']").attr("data-step").split(".")).length?0:g[1].length,b=a.epoAPI.math.format(b,{decimal:Mt.localDecimalSeparator,thousand:Mt.localThousandSeparator,precision:g})),n.push({title:I,value:b,valueText:b,price:d,original_price:p,quantity:C,label_show:k,value_show:F})):y.data("isset",0)),i||(i=0),d||(d=0),s||(s=0),p||(p=0),o=parseFloat(o)+parseFloat(i),r=parseFloat(r)+parseFloat(s))}),{total:o,original_total:r,floatingBoxData:n,showTotal:c}}function Et(t,e,i,o,r,n,c){var l,d=a.extend(!0,{},t),s=i.find(".tc-extra-product-options"),p=(i.find(Mt.associatedEpoSelector),i),m=!0;c.addClass("tm-hidden"),"variable"===o?i.is(".tc-init-variations")?i.trigger("refresh.tc-variation-form"):(i.addClass("variations_form"),setTimeout(function(){l=Dt(p,!1,s.attr("data-product-id"),s.attr("data-epo-id"),r,d),i.addClass("tc-init-variations"),i.tc_product_variation_form(r,n,c,l)},40),m=!1):i.is(".tc-init-product")||(i.addClass("tc-init-product"),c.find(".tc-epo-element-variable-product").removeClass("variations_form"),c.find(".tc-epo-element-variations").removeClass("variations"),setTimeout(function(){Dt(p,!1,s.attr("data-product-id"),s.attr("data-epo-id"),r,d)},20),m=!1),i.removeClass("tm-hidden"),m&&Yt.trigger("cpflogicdone"),Yt.tcScrollTo(i,200,-100)}function Tt(n,l,f){var u,g,h,v,y,b,w,x,k,F,I=n.product_id,S=n.main_product,q=n.main_cart,E=n.this_epo_container,T=n.this_totals_container,j=n.this_epo_totals_container,O=n.epoEventId,B=n.has_epo,H=n.main_epo_inside_form,M=n.epo_id_selector,J=n.epo_id,Q=n.product_id_selector,Z="main",W=n.is_associated?"tc-variation-form":"wc-variation-form",$=n.is_associated?"tc_":"";f&&l?(Z=a.epoAPI.applyFilter("tc_get_item_id",l.attr("data-item_id"),l),u=S.find(".tm-extra-product-options.tm-cart-"+Z),g=S.find(".tm-totals-form-"+Z),h=S.find(".tm-epo-totals.tm-cart-"+Z),w=l.find(".variations_form").first()):(q&&0!==q.length||(q=E.is(".tc-shortcode")?S:D(S,S,"form",I)),l=q.parent(),u=E,g=T,h=j,w=n.variations_form),n.is_associated&&(Z=u.attr("data-cart-id")),v=f||q,h.data("tm_for_cart",v),y=d(v),x=m(v),h.data("variationIdElement",s(v,".wceb_picker_wrap "+y)),h.data("qty_element",x),b=h.data("type"),w.data("tc_product_id",I),k=h.attr("data-tm-epo-final-total-box"),Yt.on("epoCalculateRules",function(t,e){t&&e&&e.currentCart&&tt(n,e.currentCart)}),u.find("select.tm-epo-field").off("tm-select-change-html").on("tm-select-change-html",function(){var t,e,i,o,r,n;f&&q&&void 0!==q.data("per_product_pricing")&&!q.data("per_product_pricing")||(e=c((t=a(this)).find("option:selected").data("price"),h,!1,!1,t),i=c(t.find("option:selected").data("original_price"),h,!1,!1,t),o=t.closest(".tmcp-field-wrap").find(".tc-tooltip"),r=t.closest(".tmcp-field-wrap").find(".tc-inline-description"),P(t.closest(".tmcp-field-wrap").find(".tc-price"),t.find("option:selected").data("price"),e,t.find("option:selected").data("original_price"),i),o.length>0&&o.attr("data-tm-tooltip-html",t.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),r.length>0&&(t.find("option:selected").attr("data-tm-tooltip-html")?r.html(t.find("option:selected").attr("data-tm-tooltip-html")):r.html("")),"0"!==t.find("option:selected").attr("data-hide-amount")&&"yes"!==Ut.tm_epo_show_price_inside_option_hidden_even||"yes"!==Ut.tm_epo_show_price_inside_option||!t.find("option:selected").attr("data-text")||("yes"===Ut.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(t.find("option:selected").data("price"))||"yes"!==Ut.tm_epo_auto_hide_price_if_zero&&""!==t.find("option:selected").attr("data-price"))&&(n="",t.find("option:selected").html(t.find("option:selected").attr("data-text")+" ("+n+e+")")),""===t.val()?o.addClass("tm-hidden"):t.find("option:selected").attr("data-tm-tooltip-html")?o.removeClass("tm-hidden"):o.addClass("tm-hidden"))}).off("tm-select-change-html-all").on("tm-select-change-html-all",function(){var t,e,i,o,r,l;f&&q&&void 0!==q.data("per_product_pricing")&&!q.data("per_product_pricing")||(e=(t=a(this)).closest(".tmcp-field-wrap").find(".tc-tooltip"),i=t.closest(".tmcp-field-wrap").find(".tc-inline-description"),e.length>0&&e.attr("data-tm-tooltip-html",t.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),i.length>0&&(t.find("option:selected").attr("data-tm-tooltip-html")?i.html(t.find("option:selected").attr("data-tm-tooltip-html")):i.html("")),"yes"===Ut.tm_epo_show_price_inside_option&&t.find("option").each(function(){if(!(o=a(this)).val())return!0;o.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"),K(n,t,void 0,o,1),r=1,"yes"!==Ut.tm_epo_multiply_price_inside_option&&(r=t.data("tm-quantity")),r||(r=1),l=c(o.data("price")/r,h,!0,!1,t),"0"!==o.attr("data-hide-amount")&&"yes"!==Ut.tm_epo_show_price_inside_option_hidden_even||!o.attr("data-text")||("yes"===Ut.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(o.data("price"))||"yes"!==Ut.tm_epo_auto_hide_price_if_zero&&""!==o.attr("data-price"))&&o.html(o.attr("data-text")+" ("+l+")")}),""===t.val()?e.addClass("tm-hidden"):t.find("option:selected").attr("data-tm-tooltip-html")?e.removeClass("tm-hidden"):e.addClass("tm-hidden"))}).off("tm-select-change").on("tm-select-change",function(){var t;f&&q&&void 0!==q.data("per_product_pricing")&&!q.data("per_product_pricing")||((t=a(this)).trigger("tm-select-change-html"),t.trigger("tm-select-change-html-all"),v.trigger({type:"tm-epo-update",norules:1,element:t}))}),u.off("focus.cpf",".tm-quantity .tm-qty").on("focus.cpf",".tm-quantity .tm-qty",function(){var t=a(this),e=t.closest(".tmcp-field-wrap").find(".tm-epo-field"),i=parseFloat(t.val()),o=parseFloat(t.attr("max")),r=parseFloat(t.attr("min")),n=t.attr("step"),c=U(e,!1),l=R(e,!1),d=!0;i&&""!==i&&"NaN"!==i||(i=0),""!==o&&"NaN"!==o||(o=""),""!==r&&"NaN"!==r||(r=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),(i<r||i>o)&&(d=!1),c&&l&&d?t.data("tm-prev-value",i):t.data("tm-prev-value",r)}).off("change.cpf",".tm-quantity .tm-qty").on("change.cpf",".tm-quantity .tm-qty",function(){var t=a(this),e=t.closest(".tmcp-field-wrap").find(".tm-epo-field"),i=parseFloat(t.val()),o=parseFloat(t.attr("max")),r=parseFloat(t.attr("min")),n=t.attr("step"),c=U(e,!1),l=R(e,!1),d=!0;i&&""!==i&&"NaN"!==i||(i=0),""!==o&&"NaN"!==o||(o=""),""!==r&&"NaN"!==r||(r=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),(i<r||i>o)&&(d=!1),c&&l&&d?(e.data("tm-quantity",t.val()).trigger("change"),e.trigger("tm-select-change-html-all")):t.data("tm-prev-value")?t.val(t.data("tm-prev-value")):t.val(r),t.trigger("cpf-changed")}).off("tmaddquantity",".tm-quantity .tm-qty").on("tmaddquantity",".tm-quantity .tm-qty",function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",t.val())}),u.find(".tmcp-textfield.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").each(function(){var t=a(this),e=a.epoAPI.template.html(Mt.templateEngine.tc_chars_remanining,{maxlength:t.attr("maxlength"),characters_remaining:Ut.i18n_characters_remaining});t.after(a(e))}),u.find("input.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").off("change.tc_maxlen input.tc_maxlen").on("change.tc_maxlen input.tc_maxlen",function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".tc-chars-remanining").html(parseInt(t.attr("maxlength"),10)-parseInt(t.val().length,10))}),u.find(".tm-epo-field").off("tm_trigger_product_image").on("tm_trigger_product_image",function(){var t,e,i,o,r=a(this);r.is(".tm-product-image:checkbox, .tm-product-image:radio, select.tm-product-image")?(e=r.closest(".tmcp-field-wrap").find("label img"),i=r.closest(".cpf-section").is(".tm-epo-variation-section"),t=r,r.is("select.tm-product-image")&&(t=r.children("option:selected")),(a(e).length>0||i&&void 0!==t.attr("data-image")||void 0!==t.attr("data-image")&&""!==t.attr("data-image")||void 0!==t.attr("data-imagep")&&""!==t.attr("data-imagep"))&&(r.is(":checked")||r.is("select.tm-product-image")&&""!==r.val()&&(""!==r.find("option:selected").attr("data-rules")||r.is(".tm-epo-variation-element")))?((o=a(e).first().attr("data-original"))||i||(o=a(e).first().attr("src")),o||(o=t.attr("data-image")),t.attr("data-imagep")&&(o=t.attr("data-imagep")),o?S.trigger("tm_change_product_image",{src:o,element:r,element_current:t,main_product:S,epo_holder:u}):S.trigger("tm_change_product_image",{src:!1,element:r,element_current:t,main_product:S,epo_holder:u})):S.trigger("tm_restore_product_image",{element:r,element_current:t,main_product:S,epo_holder:u})):S.trigger("tm_attempt_product_image",{element:r,element_current:t,main_product:S,epo_holder:u})}),u.find(".tm-quantity").off("showhide.cpfcustom").on("showhide.cpfcustom",function(){var t,e,i,o=a(this),r=o.closest(".tmcp-field-wrap").find(".tm-epo-field"),n=!1;r.is(".tm-epo-variation-element")||(r.is("select")?""!==r.val()&&(n=!0):r.is(":checkbox")?r.is(":checked")&&(n=!0):r.is(":radio")?r.is(":checked")&&(n=!0,"yes"===Ut.tm_epo_show_only_active_quantities&&r.closest(".cpf_hide_element").find(".tm-epo-field.tmcp-radio").each(function(){a(this).closest(".tmcp-field-wrap").find(".tm-quantity").hide()})):r.val()&&(n=!0),e=(t=o.find(".tm-qty")).val(),i=t.attr("min")||"",n?("yes"===Ut.tm_epo_show_only_active_quantities&&o.show(),t.removeClass("ignore").prop("disabled",!1)):("yes"===Ut.tm_epo_show_only_active_quantities&&(o.hide(),e||t.val(i)),t.addClass("ignore").prop("disabled",!0)),setTimeout(function(){o.closest(".tcowl-carousel").trigger("refresh.owl.carousel")},200))}),u.find(".tm-epo-field").off("change.cpfcustom").on("change.cpfcustom",function(){a(this).closest(".tmcp-field-wrap").find(".tm-quantity").trigger("showhide.cpfcustom")}),u.find(".tm-epo-field").filter(":checkbox:checked, :radio:checked").each(function(){a(this).closest(".tmcp-field-wrap").addClass("tc-active")}),u.find(".tm-epo-field").off("change.cpf").on("change.cpf",function(){var t,e=a(this),i=e.closest(".tmcp-field-wrap"),o=e.closest(".tmcp-ul-wrap");e.is(":checkbox, :radio")&&(e.is(":radio")&&o.find(".tmcp-field-wrap").removeClass("tc-active"),e.is(":checked")?i.addClass("tc-active"):i.removeClass("tc-active")),e.is(".tm-epo-variation-element")||(e.is(".use_images:checkbox, .use_images:radio")&&e.attr("data-imagec")&&(t=i.find(".radio_image,.checkbox_image").first()).length>0&&(e.is(":checked")?t.prop("src",e.attr("data-imagec")):t.prop("src",e.attr("data-image"))),e.is(".use_images:radio")&&e.closest(".cpf-type-radio").find(".use_images:radio").not(e).each(function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".radio_image").first().prop("src",t.attr("data-image"))}),e.is(".tmcp-range")&&e.trigger("change.cpflogic"),e.is("select")?e.trigger("tm-select-change"):(e.is(".tmcp-radio")&&e.closest(".cpf_hide_element").find(".tm-quantity .tm-qty").each(function(){a(this).closest("li.tmcp-field-wrap").find(".tmcp-radio").is(":checked")?a(this).removeAttr("disabled"):a(this).attr("disabled","disabled")}),v.trigger({type:"tm-epo-update",norules:1,element:e}))),e.trigger("tm_trigger_product_image"),setTimeout(function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})},200),S.trigger("tm_attempt_product_image",{element:e,main_product:S,epo_holder:u})}),u.find(".tm-has-clearbutton .tm-epo-field").off("change.cpfclearbutton").on("change.cpfclearbutton cpfclearbutton",function(){var t,e=a(this),i=e.closest(".tmcp-field-wrap");e.is(":checked")&&(t=e.closest(".cpf_hide_element").find(".tm-epo-reset-radio").removeClass("tm-hidden"),i.append(t))}),u.find(".tm-epo-reset-radio").off("click.cpf").on("click.cpf",function(){var t=a(this),e=t.closest(".cpf_hide_element").find(".tm-epo-field.tmcp-radio:checked");e.length&&(e.removeAttr("checked").prop("checked",!1),e.trigger("change.cpflogic"),e.trigger("change.cpf")),t.addClass("tm-hidden")}),u.find(".tm-epo-field.tmcp-textarea,.tm-epo-field.tmcp-textfield").off("input.cpf").on("input.cpf",function(){a(this).trigger("change.cpf")}),u.find(".tm-epo-field.tmcp-upload").off("change.cpfv change.tcupload").on("change.cpfv change.tcupload",function(){var e,i,o=a(this),r=o.closest("label"),n=o.closest(".tmcp-field-wrap"),c=n.find(".cpf-upload-container"),l=n.find(".tm-filename"),d=o.val().replace("C:\\fakepath\\",""),s=o.attr("data-file"),p=t.URL||t.webkitURL,m=this.files[0],_=n.find(".tc-upload-preview");c.length&&l.length<=0&&(l=a('<span class="tm-filename"></span>'),r.after(l)),l.html(d),(e=u.data("num_uploads"))||(e=[]),""!==d&&(e[o.closest(".cpf_hide_element").attr("data-uniqid")]=d),u.data("num_uploads",e),o.next(".tmcp-upload-hidden").remove(),(d||s)&&"yes"===Ut.tm_epo_upload_inline_image_preview&&p&&p.createObjectURL&&m&&(_.length||(_=a('<div class="tc-upload-preview"></div>'),n.find("label.tm-epo-field-label").after(_)),_.empty(),(i=new Image).onload=function(){var t=this.src;_.html('<img src="'+t+'"></div>')},i.src=s||p.createObjectURL(m))}),x.off("change.cpf").on("change.cpf",function(){var t=a(this);v.trigger("tm-epo-check-dpd"),t.data("tm-prev-value",t.val()),v.trigger({type:"tm-epo-update",norules:2})}).data("tm-prev-value",x.val()),u.find(".cpf-type-product .tc-epo-field-product").off("change.cpfproduct").on("change.cpfproduct",function(t,e){var i,o,r,c,l,d,s=a(this),p=s.closest(".cpf_hide_element").find(".tc-epo-element-product-container-wrap"),m=s.closest(".tmcp-field-wrap").find(".tc-epo-element-product-container-wrap"),_=m.length>0;if(void 0===t.isTrigger||!s.data("triggeredonce")){if(s.data("triggeredonce",1),s.is(":radio")){if(!s.is(":checked"))return void(_&&m.addClass("tm-hidden"));_&&(p.addClass("tm-hidden"),m.removeClass("tm-hidden")),i=s.val(),o=s.attr("data-type"),s.closest(".cpf_hide_element").find(".tc-epo-element-product-li-container").removeClass("tm-hidden")}else{if(!s.is("select"))return;r=s.children(":selected"),i=s.val(),o=r.attr("data-type"),s.closest(".cpf_hide_element").find(".tc-epo-element-product-li-container").removeClass("tm-hidden")}c=s.closest(".cpf_hide_element").find(".tc-epo-element-product-container"),l=c.filter('[data-product_id="'+i+'"]'),i?0===l.length?(d={action:"wc_epo_get_associated_product_html",product_id:i,layout_mode:s.closest(".cpf_hide_element").attr("data-product-layout-mode"),uniqid:s.closest(".cpf_hide_element").attr("data-uniqid"),name:s.attr("name"),quantity_min:s.closest(".cpf_hide_element").attr("data-quantity-min"),quantity_max:s.closest(".cpf_hide_element").attr("data-quantity-max")},s.closest(".cpf_hide_element").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.ajax({url:Ut.ajax_url,type:"POST",data:d,dataType:"json",success:function(t){200===t.result&&(l=a(t.html),_?s.closest(".tmcp-field-wrap").find(".tc-epo-element-product-container-wrap").empty().append(l):s.closest(".cpf_hide_element").find(".tc-epo-element-product-container-wrap").append(l),Et(n,S,l,o,s,v,c))},complete:function(){s.closest(".cpf_hide_element").unblock()}})):Et(n,S,l,o,s,v,c):c.addClass("tm-hidden")}}),a(e).off("change.cpfqtyalt",".cpf-type-product input.tm-qty-alt").on("change.cpfqtyalt",".cpf-type-product input.tm-qty-alt",function(t){var e,i,o,r=a(this),n=r.closest(".cpf_hide_element").find(".tm-epo-field"),c=n.filter(":checked");if(n.is(":radio")){if(0===c.length)return;e=c.closest(".tmcp-field-wrap").find("input.tm-qty")}else e=n.closest(".tmcp-field-wrap").find("input.tm-qty");0!==e.length&&(i=a.epoAPI.math.toInt(r.attr("min")),o=a.epoAPI.math.toInt(r.attr("max")),e.attr("min",i).attr("max",o),r.closest(".tc-epo-element-product-container").find(Mt.associatedEpoSelector).trigger("tm-epo-update"),e.val(r.val()).trigger("change"))}),v.off("tm-epo-update").on("tm-epo-update",function(t){var e,i,o,d,s,g,y,w,x,F,I,P,E,T,z,D,M,U,R,J,Q,Z,W,$,X,G,Y,at,it,ot,rt,nt,ct,lt,dt,st,pt,mt,_t,ft,ut,gt,ht,vt,yt,bt,wt=a(this),xt=!1,kt=0,Ft=0,It=0,Ct=!1,At=1,Pt=!0,St=[],Et=0,Tt=0,zt={},jt=0,Ot=!1,Dt=!1,Nt="",Bt=!1,Ht=!1,Lt="",Rt="";if(at=t.epoObject?a.extend(!0,{},t.epoObject):a.extend(!0,{},n)){if(e=a.epoAPI.applyFilter("tc_get_bundleid",wt.attr("data-product_id"),wt),o=h.attr("data-price-override"),i=_(wt),d=p(wt),at.associated_connect&&1===at.associated_connect.length&&(i=parseFloat(at.main_product.find(Mt.associateQtySelector).not(Mt.associatedEpoSelector+" "+Mt.qtySelector).last().val())),t.stopImmediatePropagation(),xt=a.epoAPI.applyFilter("tcGetCurrentProductPrice",V(h,!0),v,h),kt=xt,xt=a.epoAPI.applyFilter("tcCalculateCurrentProductPrice",xt,{epo:at,alternativeCart:f,cart:wt,main_product:S}),Number.isFinite(i)||(h.attr("data-is-sold-individually")||0===m(wt).length)&&(i=1),zt={qty:i,product_price:xt},h.data("tc_totals_ob",zt),t.norules?(1===t.norules&&K(at,t.element),a.tcepo.lateFieldsPrices[O]=[],u.find(".tm-epo-late-field").toArray().forEach(function(t){(t=a(t)).data("price",0),a.tcepo.lateFieldsPrices[O].push({setter:t,price:t.data("tm-price-for-late"),original_price:t.data("tm-original-price-for-late"),bundleid:e})})):tt(at,wt),at.associated_connect&&1===at.associated_connect.length&&(ft=at.associated_connect,at.associated_connect.is("select")&&(ft=at.associated_connect.find("option:selected"))),!1===xt)return h.empty(),void(at.associated_connect&&1===at.associated_connect.length&&A(ft.closest(".tmcp-field-wrap").find(".tc-price").not(Mt.associatedEpoSelector+" .tc-price"),0,"",0,""));At=a.epoAPI.applyFilter("tcAlterElementQty",At,{epo:at,alternativeCart:f,currentCart:v,main_product:S}),Pt=a.epoAPI.applyFilter("tcCalculatePerProductPricing",Pt,{epo:at,alternativeCart:f,cart:wt,main_product:S}),H&&"woocommerce_before_add_to_cart_button"===Ut.tm_epo_totals_box_placement&&("variable"!==b&&"variable-subscription"!==b||h.data("moved_inside")||h.data("moved_inside",1)),Yt.trigger("tcEpoBeforeOptionPriceCalculation",{epo:at,alternativeCart:at,this_product_type:b,cart:wt,totalsHolder:h}),Ft=(_t=qt(at,u,".tmcp-field",Ft,It,St,Ct)).total,It=_t.original_total,St=_t.floatingBoxData,Ct=_t.showTotal,h.data("tm-floating-box-data",St),Et=(_t=qt(at,u,".tmcp-fee-field",Et,Tt,St,Ct)).total,Tt=_t.original_total,St=_t.floatingBoxData,Ct=_t.showTotal,a.tcepo.oneOptionIsSelected[O]=Ct,L(S,B,a.tcepo.oneOptionIsSelected[O]),Ct=a.epoAPI.applyFilter("tcFinalTotalsBoxVisibility",Ct,{epo:at,alternativeCart:f,cart:wt,main_product:S,totalsHolder:h,this_epo_totals_container:j}),Et>0&&(Ct=!0),f&&!Pt&&(Ct=!1),"pxq"!==k&&"hide"!==k&&"normal"!==k&&"options"!==k&&"final"!==k&&"hideoptionsifzero"!==k&&"optionsiftotalnotzero"!==k||(Ct=!0),i>1&&(Ct=!0),"variable"!==b&&"variable-subscription"!==b||a.epoAPI.math.toFloat(d)||(Ct=!1),s=Ft,g=It,y=et(at,parseFloat(xt)+parseFloat(s),e,h),"disable"===k&&(Ct=!1),"disable_change"!==k&&"yes"!==Ut.tm_epo_change_variation_price&&"yes"!==Ut.tm_epo_change_original_price||(Ct=!0),"yes"===Ut.tm_epo_total_price_as_unit_price&&(i=1),T=parseFloat(xt*i),Ft=parseFloat(Ft*i),It=parseFloat(It*i),Ut.extraFee&&(jt=parseFloat(Ut.extraFee),Number.isFinite(jt)||(jt=0)),!1!==(D=a.epoAPI.applyFilter("tcCalculateFinalProductPrice",!1,{alternativeCart:f,product_price:xt,product_total_price:T,v_product_price:kt,tm_set_tax_price:r,main_product:S,totalsHolder:h,cartQty:i}))&&"object"==typeof D&&D.hasOwnProperty("productPrice")&&D.hasOwnProperty("productTotalPrice")&&(xt=D.productPrice,T=D.productTotalPrice),s+=y[0],s=a.epoAPI.applyFilter("tc_adjust_options_price_per_unit",s,T),Ft=parseFloat(s*i*At),Ft=a.epoAPI.applyFilter("tc_adjust_options_total_price",Ft,i,At,s),g+=y[1],g=a.epoAPI.applyFilter("tc_adjust_options_price_per_unit",g,T),It=parseFloat(g*i*At),It=a.epoAPI.applyFilter("tc_adjust_options_total_price",It,i,At,g),"1"===o&&parseFloat(Ft)>0&&(xt=0,kt=0,T=parseFloat(xt*i)),T=a.epoAPI.applyFilter("tc_adjust_product_total_price_without_options",T),Ft=a.epoAPI.applyFilter("tcAdjustTotal",Ft,{epo:at,totalsHolder:h,cart:wt,main_product:S}),It=a.epoAPI.applyFilter("tcAdjustTotal",It,{epo:at,totalsHolder:h,cart:wt,main_product:S}),it=Ft=parseFloat(a.epoAPI.applyFilter("tc_adjust_total",Ft,h)),ot=s,ct=Et=parseFloat(a.epoAPI.applyFilter("tc_adjust_totals_fee",Et,h)),dt=M=Ft+Et,rt=It=parseFloat(a.epoAPI.applyFilter("tc_adjust_total",It,h)),nt=g,lt=Tt=parseFloat(a.epoAPI.applyFilter("tc_adjust_totals_fee",Tt,h)),st=U=It+Tt,pt=T,mt=parseFloat(T+M+jt),parseFloat(T+U+jt),xt=r(xt,h),T=r(T,h),Ft=r(Ft,h),s=r(s,h),Et=r(Et,h),M=r(M,h),It=r(It,h),g=r(g,h),Tt=r(Tt,h),U=r(U,h),jt=r(jt,h),w=C(Ft,h,!0,!0),F=C(Et,h,!0,!0),x=C(It,h,!0,!0),I=C(Tt,h,!0,!0),R=T,T=parseFloat(T+M+jt),T=a.epoAPI.applyFilter("tc_adjust_product_total_price",T,M,jt,Ft,Et,h),z=parseFloat(T+U+jt),z=a.epoAPI.applyFilter("tc_adjust_product_total_price",T,U,jt,It,Tt,h),P=C(T,h,!0,!0),E=C(z,h,!0,!0),J=C(parseFloat(xt+parseFloat(s)),h,!0,!0),Q=C(parseFloat(xt+parseFloat(g)),h,!0,!0),"yes"===Ut.tm_epo_fees_on_unit_price&&(J=C(parseFloat(xt+parseFloat(s)+parseFloat(parseFloat(Et)/i)),h,!0,!0),Q=C(parseFloat(xt+parseFloat(g)+parseFloat(parseFloat(Tt)/i)),h,!0,!0)),"pxq"===k||"final"===k||"hide"===k||0===M&&"hideoptionsifzero"===k||(0===Ft&&"hideoptionsifzero"===k&&"options"!==k||(Ot=!0),0!==Et&&(Dt=!0)),jt&&(Bt=!0,Nt=C(jt,h,!0,!0)),P&&"options"!==k&&"optionsiftotalnotzero"!==k&&(Ht=!0),J=a.epoAPI.applyFilter("tc_adjust_formatted_unit_price",J,xt,s,Et,i),w=a.epoAPI.applyFilter("tc_adjust_formatted_options_total",w,Ft,s,i),F=a.epoAPI.applyFilter("tc_adjust_formatted_fees_total",F,Et),P=a.epoAPI.applyFilter("tc_adjust_formatted_final_total",P,T,R,M,jt,i),J=a.epoAPI.applyFilter("tcAdjustFormattedUnitPrice",J,{epo:at,totalsHolder:h,event:t,productPrice:xt,_total:s,total_plcart_fee_options_totals_fee:Et,cartQty:i}),Q=a.epoAPI.applyFilter("tcAdjustFormattedUnitOriginalPrice",Q,{epo:at,totalsHolder:h,event:t,productPrice:xt,_original_total:g,total_plcart_fee_options_totals_fee:Et,cartQty:i}),w=a.epoAPI.applyFilter("tcAdjustFormattedOptionsTotal",w,{epo:at,totalsHolder:h,event:t,total:Ft,_total:s,total_plus_fee:M,extraFee:jt,cartQty:i}),x=a.epoAPI.applyFilter("tcAdjustFormattedOptionsOriginalTotal",x,{epo:at,totalsHolder:h,event:t,original_total:It,_original_total:g,original_total_plus_fee:U,extraFee:jt,cartQty:i}),F=a.epoAPI.applyFilter("tcAdjustFormattedFeesTotal",F,{epo:at,totalsHolder:h,event:t,cart_fee_options_total:Et,extraFee:jt,cartQty:i}),I=a.epoAPI.applyFilter("tcAdjustFormattedFeesOriginalTotal",I,{epo:at,totalsHolder:h,event:t,cart_fee_options_original_total:Tt,extraFee:jt,cartQty:i}),zt={qty:i,product_price:xt,raw_options_price_per_unit:ot,raw_options_total_price:it,raw_cart_fee_options_total_price:ct,raw_total_plus_fee:dt,raw_options_original_price_per_unit:nt,raw_options_original_total_price:rt,raw_cart_fee_options_original_total_price:lt,raw_original_total_plus_fee:st,raw_product_total_price:mt,raw_product_total_price_without_options:pt,options_price_per_unit:s,options_total_price:Ft,cart_fee_options_total_price:Et,total_plus_fee:M,options_original_price_per_unit:g,options_original_total_price:It,cart_fee_options_total_original_price:Tt,original_total_plus_fee:U,product_total_price:T,product_total_original_price:z,product_total_price_without_options:R,formatted_unit_price:J,formatted_options_total:w,formatted_fees_total:F,formatted_final_total:P=a.epoAPI.applyFilter("tcAdjustFormattedFinalTotal",P,{epo:at,totalsHolder:h,event:t,product_total_price:T,product_total_price_without_options:R,total_plus_fee:M,extraFee:jt,cartQty:i}),formatted_unit_original_price:Q,formatted_options_original_total:x,formatted_fees_original_total:I,formatted_final_original_total:E=a.epoAPI.applyFilter("tcAdjustFormattedFinalOriginalTotal",E,{epo:at,totalsHolder:h,event:t,product_total_original_price:z,product_total_price_without_options:R,original_total_plus_fee:U,extraFee:jt,cartQty:i}),formatted_extra_fee:Nt,show_options_total:Ot,show_fees_total:Dt,show_extra_fee:Bt,show_final_total:Ht,unit_price:Ut.i18n_unit_price,show_unit_price:"yes"===Ut.tm_epo_show_unit_price,options_total:Ut.i18n_options_total,fees_total:Ut.i18n_fees_total,extra_fee:Ut.i18n_extra_fee,final_total:Ut.i18n_final_total},zt=a.epoAPI.applyFilter("tc_adjust_tc_totals_ob",zt,{epo_object:at,showTotal:Ct,epoHolder:u,totalsHolder:h,tm_set_price:c,tm_set_price_totals:C,product_total_price:T,product_price:xt,qty:i}),at.tc_totals_ob=zt,void 0!==zt.showTotal&&(Ct=zt.showTotal),Z=a.epoAPI.template.html(Mt.templateEngine.tc_final_totals,zt),h.data("tm-html",Z),h.data("tc_totals_ob",zt),at.associated_connect&&1===at.associated_connect.length&&(ut=zt.product_price+zt.options_price_per_unit+zt.cart_fee_options_total_price/zt.qty,gt=zt.product_price+zt.raw_options_price_per_unit+zt.raw_cart_fee_options_total_price/zt.qty,ht=zt.product_price+zt.options_original_price_per_unit+zt.cart_fee_options_total_original_price/zt.qty,vt=zt.product_price+zt.raw_options_original_price_per_unit+zt.raw_cart_fee_options_original_total_price/zt.qty,yt=c(ut,at.this_epo_totals_containe,!1,!1,ft),bt=c(ht,at.this_epo_totals_containe,!1,!1,ft),A(ft.closest(".tmcp-field-wrap").find(".tc-price").not(Mt.associatedEpoSelector+" .tc-price"),ut,yt,ht,bt),at.associated_connect.data("tm-quantity",zt.qty),at.associated_connect.data("tm-quantity")&&(ut*=parseFloat(at.associated_connect.data("tm-quantity")),gt*=parseFloat(at.associated_connect.data("tm-quantity")),ht*=parseFloat(at.associated_connect.data("tm-quantity")),vt*=parseFloat(at.associated_connect.data("tm-quantity"))),yt=c(ut,at.this_epo_totals_containe,!1,!1,ft),bt=c(ht,at.this_epo_totals_containe,!1,!1,ft),at.associated_connect.data("price_set",1),ft.data("associated_price_set",1),ft.data("price_set",1),ft.data("raw_price",gt),ft.data("raw_original_price",vt),ft.data("price",r(ut,at.this_epo_totals_containe,ft)),ft.data("original_price",r(ht,at.this_epo_totals_containe,ft)),at.associated_connect.data("price-changed",1),setTimeout(function(){at.mainEpoObject.main_cart.trigger({type:"tm-epo-update",norules:2})},20)),Yt.trigger("tcEpoAfterCalculateTotals",{epo:at,alternativeCart:f,this_product_type:b,cart:wt,bundleid:e,totalsObject:zt,main_product:S,per_product_pricing:Pt}),W=a.epoAPI.applyFilter("hide_native_price",!0),Ct&&i>0?("disable_change"!==k&&"yes"!==Ut.tm_epo_change_variation_price||(!0===W&&"disable"!==k&&"disable_change"!==k?N(wt).hide():N(wt).show()),"disable"===k||"disable_change"===k||("hideifoptionsiszero"===k||"optionsiftotalnotzero"===k)&&0===M||"hide"===k?(Z="",h.html(Z)):(h.html(Z),Yt.trigger("tc-totals-container",{epo:zt,totals_holder:h,data:{epo_object:at,tm_set_price:c,tm_set_price_totals:C,product_total_price:T,product_price:xt,qty:i},tm_epo_js:Ut})),P&&T>=0&&($=N(wt),X=a.epoAPI.math.format(T,{symbol:"",decimal:Mt.localDecimalSeparator,thousand:Mt.localThousandSeparator,precision:Ut.currency_format_num_decimals,format:""}),G="1"===o&&parseFloat(U+jt)>0?parseFloat(U+jt):parseFloat(parseFloat(h.data("regular-price")*i)+M+jt),G=a.epoAPI.math.format(G,{symbol:"",decimal:Mt.localDecimalSeparator,thousand:Mt.localThousandSeparator,precision:Ut.currency_format_num_decimals,format:""}),Ut.customer_price_format&&(Lt=Ut.customer_price_format_wrap_start,Rt=Ut.customer_price_format_wrap_end,X=(Y=Ut.customer_price_format).replace("__PRICE__",X).replace("__CODE__",Ut.current_currency),h.data("is-on-sale")||(G=Y.replace("__PRICE__",G).replace("__CODE__",Ut.current_currency))),X=a.epoAPI.applyFilter("tc_adjust_native_price",X,T),G=a.epoAPI.applyFilter("tc_adjust_native_regular_price",G,T),"disable_change"!==k&&"yes"!==Ut.tm_epo_change_variation_price||(h.data("is-on-sale")?$.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html(Mt.templateEngine.tc_formatted_sale_price,{price:G,sale_price:X,customer_price_format_wrap_start:Lt,customer_price_format_wrap_end:Rt}))).show():$.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html(Mt.templateEngine.tc_formatted_price,{price:X,customer_price_format_wrap_start:Lt,customer_price_format_wrap_end:Rt}))).show()),"disable_change"!==k&&"yes"!==Ut.tm_epo_change_original_price||(f&&0!==S.find(".cpf-bto-price").length||(a(Mt.nativeProductPriceSelector).data("tc-original-html",a(Mt.nativeProductPriceSelector).html()),T>0?!h.data("is-on-sale")||"1"===o&&parseFloat(U+jt)>0?a(Mt.nativeProductPriceSelector).html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html(Mt.templateEngine.tc_formatted_price,{price:X,customer_price_format_wrap_start:Lt,customer_price_format_wrap_end:Rt}))).show():a(Mt.nativeProductPriceSelector).html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html(Mt.templateEngine.tc_formatted_sale_price,{price:G,sale_price:X,customer_price_format_wrap_start:Lt,customer_price_format_wrap_end:Rt}))).show():b&&"composite"!==b&&a(Mt.nativeProductPriceSelector).html(a.epoAPI.util.decodeHTML(Ut.current_free_text))),Yt.trigger("tcEpoMaybeChangePriceHtml",{epo:at,alternativeCart:f,this_product_type:b,cart:wt,bundleid:e,totalsObject:zt,main_product:S,nativePrice:X}))),f?q.trigger({type:"tm-epo-update",norules:1}):j.data("is_active",!0)):(N(wt).each(function(){a(this).data("tm-original-html")?a(this).html(a(this).data("tm-original-html")):a(this).data("tm-original-html",a(this).html())}),0===kt&&"yes"===Ut.tm_epo_remove_free_price_label?N(wt).hide():"disable_change"!==k&&"yes"!==Ut.tm_epo_change_variation_price||!0===W&&"disable"!==k&&"disable_change"!==k||N(wt).show(),h.empty(),f&&q.trigger({type:"tm-epo-update",norules:1})),q.trigger("tm-epo-after-update",{container:l}),Yt.trigger("tc-epo-after-update",{epo:zt,totals_holder:h,data:{epo_object:at,tm_set_price:c,tm_set_price_totals:C,product_total_price:T,product_price:xt,qty:i},tm_epo_js:Ut})}}),"variable"!==b&&"variable-subscription"!==b||((F=u.find(".tm-epo-variation-section").first()).find(".tm-epo-reset-variation").off("click.cpfv").on("click.cpfv",function(){var t=a(this),e=a.epoAPI.dom.id(t.attr("data-tm-for-variation")),i=t.closest(".cpf-type-variations"),o=t.closest(".cpf_hide_element").find(".tm-epo-variation-element"),r=t.closest(".cpf_hide_element").find(".tmcp-field-wrap");o.removeAttr("checked").prop("checked",!1),r.removeClass("tc-active"),w.find("[data-attribute_name='attribute_"+e+"']").val("").trigger("change"),w.find("[data-attribute_name='attribute_"+e+"']").trigger("focusin"),S.find(".cpf-type-variations").not(i).each(function(t,e){w.find("[data-attribute_name='attribute_"+a.epoAPI.dom.id(a(e).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))+"']").trigger("focusin")}),t.blur(),w.trigger("woocommerce_update_variation_values_tmlogic")}),F.find("input.tm-epo-variation-element,input.tm-epo-variation-element + span").off("mouseup.cpfv").on("mouseup.cpfv",function(){var t,e=a(this);e.is("span")&&(e=e.prev("input")),e.attr("disabled")&&w.find(".reset_variations").trigger("click"),t=a.epoAPI.dom.id(e.attr("data-tm-for-variation")),w.find("[data-attribute_name='attribute_"+t+"']").trigger("focusin")}),F.off("click."+W+".tmepo",".reset_variations, .tc-epo-element-variable-reset-variations").on("click."+W+".tmepo",".reset_variations, .tc-epo-element-variable-reset-variations",function(t){"disable_change"!==k&&"yes"!==Ut.tm_epo_change_original_price||f&&0!==S.find(".cpf-bto-price").length||a(Mt.nativeProductPriceSelector).data("tc-original-html")&&a(Mt.nativeProductPriceSelector).html(a(Mt.nativeProductPriceSelector).data("tc-original-html")),w.find(".variations .reset_variations, .tc-epo-element-variable-reset-variations").first().trigger("click")}),F.find(".tm-epo-variation-element").off("change.cpfv tm_epo_variation_element_change").on("change.cpfv tm_epo_variation_element_change",function(t){var e,i=a(this),o=a.epoAPI.dom.id(i.attr("data-tm-for-variation")),r=i.val(),n=i.closest(".cpf-type-variations"),c=w.find("[data-attribute_name='attribute_"+o+"']");t&&t.type&&"tm_epo_variation_element_change"===t.type||(e=!1,c.each(function(){if(this.value===r)return e=!0,!1}),e||c.trigger("focusin"),c.val(r).trigger("change")),r||c.trigger("focusin"),S.find(".cpf-type-variations").not(n).each(function(){w.find("#"+a.epoAPI.dom.id(a(this).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))).trigger("focusin")}),i.blur(),w.trigger("woocommerce_update_variation_values_tmlogic")}).off("focusin.cpfv").on("focusin.cpfv",function(){var t,e=a(this);e.is("select")&&(t=a.epoAPI.dom.id(e.attr("data-tm-for-variation")),w.find("[data-attribute_name='attribute_"+t+"']").trigger("focusin"),w.trigger("woocommerce_update_variation_values_tmlogic"))}),w.off($+"found_variation.tmepo tm_fix_stock",".single_variation_wrap").on($+"found_variation.tmepo tm_fix_stock",".single_variation_wrap",function(){z(a(this),l)}),w.off($+"found_variation.tmepo").on($+"found_variation.tmepo",function(t,e){var i=a(this);h.data("is-on-sale",e.tc_is_on_sale),h.data("regular-price",e.display_regular_price),Yt.trigger("tm-epo-found-variation",{epo:n,totalsHolder:h,totalsHolderContainer:g,currentCart:v,variationForm:i,variation:e}),St({totalsHolder:h,totalsHolderContainer:g,currentCart:v,variationForm:i,variation:e}),z(i,l)}).off($+"hide_variation.tmepo").on($+"hide_variation.tmepo",function(){h.data("price",!1),h.removeData("tcprice"),v.trigger({type:"tm-epo-update",norules:2})}).off($+"check_variations.tmepo").on($+"check_variations.tmepo",function(t){var e={},i=0,o=0,r=F.find(".reset_variations");w.find(".variations select, .tc-epo-variable-product-selector").each(function(){var t=a(this).data("attribute_name")||a(this).attr("name"),r=a(this).val()||"";r.length>0&&o++,i++,e[t]=r}),o>0?"hidden"===r.css("visibility")&&r.css("visibility","visible").hide().fadeIn():r.css("visibility","hidden")}).trigger($+"check_variations"),pt(n,l,Z,S,u)),u.find("select.tm-epo-field").trigger("tm-select-change-html"),u.find(".tm-quantity .tm-qty").trigger("change.cpf"),u.find(".tm-quantity").trigger("showhide.cpfcustom"),u.find(".tm-has-clearbutton .tm-epo-field:checked").trigger("cpfclearbutton"),at(n),Yt.on("tm-do-epo-update",function(){v.trigger({type:"tm-epo-update"})}),Yt.trigger("tm-epo-init-events",{epo:{epo_id:J,form:n.form,currentCart:v,cart_container:l,epo_holder:u,totals_holder_container:g,totals_holder:h,main_cart:q,main_epo_inside_form:H,product_id_selector:Q,epo_id_selector:M,product_id:I,this_epo_container:E,this_totals_container:T,this_epo_totals_container:j}}),Yt.trigger("epoEventHandlers",{epo:n,currentCart:v,cartContainer:l,qtyElement:x,epoHolder:u,totalsHolderContainer:g,totalsHolder:h,variationForm:w,variation_id_selector:y,main_epo_inside_form:H,this_product_type:b,get_price_excluding_tax:o,get_price_including_tax:i}),"disable"!==k&&"disable_change"!==k&&"hide"!==k&&g.addClass("tc-show"),Yt.trigger("epo_options_before_visible"),"yes"===Ut.tm_epo_progressive_display?setTimeout(function(){u.css("opacity",0).addClass("tc-show").animate({opacity:1},Mt.epoAnimationDelay,"easeOutExpo",function(){Yt.trigger("epo_options_visible"),Yt.trigger("tmlazy")})},Mt.epoDelay):(u.addClass("tc-show"),Yt.trigger("epo_options_visible"),Yt.trigger("tmlazy")),S.addClass("tc-init")}function zt(t){var e=t.variations_form,i=t.main_cart,o=t.this_epo_container,r=t.is_associated?"tc_variation_form.cpf":"wc_variation_form.cpf";e.on(r,function(){e.data("epo_loaded")||(k(o),F(o),a.tcepo.lateFieldsPrices[t.epoEventId]=[],Tt(t),ct(t),wt(t),setTimeout(function(){w(o),i.trigger({type:"tm-epo-update"})},10),e.data("epo_loaded",!0))}),Gt&&e.trigger(r),Yt.trigger("epo-after-init",{epo:t})}function jt(t){var e=requestAnimationFrame(function(t){jt(t)}),a=t.variations_form,i=a.data("bound"),o=t.is_associated?"tc_variation_form.cpf":"wc_variation_form.cpf";i&&(cancelAnimationFrame(e),zt(t),a.trigger(o))}function Ot(t,e,i,o,r){var n=a.extend(!0,{},t),c=o.attr("data-product-id"),l=o.attr("data-epo-id"),d=".tm-product-id-"+c,s="[data-epo-id='"+l+"']",p="p"+c+"e"+l;t.isManual=!0,a.tcepo.formSubmitEvents[p]=[],a.tcepo.errorObject[p]=!1,a.tcepo.initialActivation[p]=!1,t.product_id=c,t.product_id_selector=d,t.epo_id=l,t.epo_id_selector=s,t.epoEventId=p,it(),r.find(".tm-collapse").tmtoggle(),r.find(".tm-section-link").tmsectionpoplink(),It(e),kt(e),ot(e),rt(o.find(".tm-color-picker")),k(o),F(o),w(o),a.tcToolTip(e.find(".tm-tooltip")),Tt(t,e,i),i.trigger({type:"tm-epo-update"}),setTimeout(function(){t.main_cart.trigger({type:"tm-epo-update",epoObject:n,norules:1})},200),z(i,e)}function Dt(e,i,o,r,n,c){var l,d,s,p,m,_,f,u,g,h=!1,v=!1,y=!1,b=void 0!==o,x=!1,I=a(".variation_form_section .variations-table").length>0,C=!1;return!!(e=a(e)).is(".tc-init")||(te=i?e:a(t),Yt.trigger("tm-epo-init-start"),b||e.is(".product")&&(x=!0,b=Vt.find(Mt.epoSelector).length),b||"no"!==Ut.tm_epo_enable_final_total_box_all||e.is(".tm-no-options-composite")?(x&&(Yt.trigger("tm-epo-init-no-options"),!e.is(".product")||e.is(".tm-no-options-pxq")||e.is(".tm-no-options-composite")||(e=Vt)),o||((d=e.find(Mt.addToCartSelector).last()).length>0?o=d.val():(d=a(".tc-totals-form.tm-totals-form-main"),o=d.attr("data-product-id")),o||(o="")),r||(r=parseInt(e.find("input.tm-epo-counter").last().val(),10),Number.isFinite(r)||(r="")),s=".tm-product-id-"+o,p="[data-epo-id='"+r+"']",m=a(".tc-extra-product-options"+s+p),_=a(".tc-totals-form"+s+p),f=a(".tc-epo-totals"+s+p),g=e.find(".variations_form").first(),l="p"+o+"e"+r,g&&g.attr("data-product_id")&&g.attr("data-product_id")!==o&&(g=e.find(".variations_form[data-product_id='"+o+"']")),0===(h=D(e,e,"form",o)).length&&(e.is(".tc-shortcode-wrap")?h=D(_,_,".tc-totals-form",o):e.is(".tc-epo-element-product-container")&&(h=m.parent(Mt.associatedEpoSelector),C=!0)),C&&0===g.length&&e.is(".variations_form")&&(g=e),a.tcepo.formSubmitEvents[l]=[],a.tcepo.errorObject[l]=!1,a.tcepo.initialActivation[l]=!1,h.find(Mt.epoSelector).length>0&&(v=!0),h.find(".tc-totals-form").length>0&&(y=!0),y||(a.tcepo.formSubmitEvents[l][a.tcepo.formSubmitEvents[l].length]={trigger:function(){return!0},on_true:function(){var t=a(".tc-totals-form.tm-product-id-"+o+"[data-epo-id='"+r+"']").tcClone(),e=a('<div class="tm-hidden tm-formepo-normal"></div>');return h.find(".tm-formepo-normal").remove(),e.append(t),h.append(e),!0},on_false:function(){setTimeout(function(){a(".tm-formepo").remove()},100)}}),v||(a.tcepo.formSubmitEvents[l][a.tcepo.formSubmitEvents[l].length]={trigger:function(){return!0},on_true:function(){var t=a(Mt.epoSelector+".tm-product-id-"+o+"[data-epo-id='"+r+"']").tcClone(),e=a('<div class="tm-hidden tm-formepo"></div>');return h.find(".tm-formepo").remove(),e.append(t),h.append(e),!0},on_false:function(){setTimeout(function(){a(".tm-formepo").remove()},100)}}),u={main_product:e,main_cart:h,epo_id:r,form:O(e),main_epo_inside_form:v,product_id_selector:s,epo_id_selector:p,product_id:o,this_epo_container:m,this_totals_container:_,this_epo_totals_container:f,qtySelector:Mt.qtySelector,manualInitEPO:Ot,epoEventId:l,variations_form:g,has_epo:b,is_quickview:i,is_associated:C,mainEpoObject:c,associated_connect:n},a(u.form).data("epo_object",u),h.data("product_id",o).data("epo_id",r).data("product_id_selector",s).data("epo_id_selector",p),dt(u),lt(u),It(m),kt(m),B(),a.tcToolTip(m.find(".tm-tooltip")),m.find(".tm-collapse").tmtoggle(),m.find(".tm-section-link").tmsectionpoplink(),g.length>0?I?jt(u):zt(u):(setTimeout(function(){k(m),F(m),w(m),a.tcepo.lateFieldsPrices[l]=[],Tt(u),ct(u),wt(u),Yt.trigger("epo-after-init-in-timeout",{epo:u}),h.trigger("tm-epo-check-dpd"),h.trigger({type:"tm-epo-update"})},20),Yt.trigger("epo-after-init",{epo:u})),it(),ot(m),rt(m.find(".tm-color-picker")),st(u),xt(u),C||(H(f,i,h),Pt(u),L(e,b,a.tcepo.oneOptionIsSelected[l])),Yt.on("cpflogicdone",function(){at(u)}),Yt.trigger("tm-epo-init-end",{epo:u}),u):void Yt.trigger("tm-epo-init-end-no-options"))}function Nt(t){var e=a(t),i=e.attr("data-product-id"),o=e.attr("data-epo-id"),r=e.parent();r.is("form")||(r=e.closest("form")).is("form")||(r=e.parent()),Dt(r,!1,i,o)}function Bt(){var e,i;"no"===Ut.tm_epo_no_lazy_load&&a.extend(a.lazyLoadXT,{autoInit:!1,selector:"img.tmlazy",srcAttr:"data-original",visibleOnly:!1,updateEvent:a.lazyLoadXT.updateEvent+" tmlazy"}),(e=a(".tm-no-options-pxq, .tm-no-options-composite")).length>0&&e.each(function(t,e){Dt(a(e),!1)});try{(i=a(Mt.epoSelector).not(".tm-no-options-pxq, .tm-no-options-composite, .wc-product-table "+Mt.epoSelector)).length>0&&i.each(function(){var t=a(this),e=t.attr("data-product-id"),i=t.attr("data-epo-id"),o=!1,r=a(Mt.addToCartSelector+"[value='"+e+"']").closest("form,.cart").first().parent();r.length<=0&&(r=a(Mt.tcAddToCartSelector+"[value='"+e+"']").closest("form,.cart").first().parent()).length<=0&&((r=t.closest("form,.cart").first().parent(".tm-has-options")).length<=0&&t.is(".tc-shortcode")&&(r=t.wrap('<div class="tc-shortcode-wrap tc-wrap-'+i+'"></div>'),r=t.parent()),r.length>0&&(o=!0,t.closest("form,.cart").first().append(a('<input name="add-to-cart" value="'+e+'" type="hidden" />')),t.closest("form,.cart").first().append(a('<input type="hidden" value="" class="variation_id" name="variation_id">')))),r.length>0&&(r.is("form")&&(r=r.parent()),Dt(r,o,e,i))})}catch(e){t.console.log(e),Ht=e}}var Ht,Lt,Mt={},Ut=t.TMEPOJS,Rt=t.wp,Jt=t.TMEPOQTRANSLATEXJS,Qt=t.noUiSlider,Zt=t.ClipboardEvent,Wt=t.DataTransfer,$t=[],Xt=!1,Gt=!1,Vt=a("body"),Yt=a(t),Kt=a(e),te=a(t),ee=t.tcmexp;Ut&&Rt&&(a.lazyLoadXT&&a.extend(a.lazyLoadXT,{autoInit:!1,updateEvent:a.lazyLoadXT.updateEvent+" tmlazy"}),Mt.localInputDecimalSeparator=""===Ut.tm_epo_global_input_decimal_separator?Ut.currency_format_decimal_sep:a.epoAPI.locale.getSystemDecimalSeparator(),Mt.localDecimalSeparator=""===Ut.tm_epo_global_displayed_decimal_separator?Ut.currency_format_decimal_sep:a.epoAPI.locale.getSystemDecimalSeparator(),Mt.localThousandSeparator=""===Ut.tm_epo_global_displayed_decimal_separator?Ut.currency_format_thousand_sep:a.epoAPI.locale.getSystemDecimalSeparator(),Mt.epoDelay=Ut.tm_epo_start_animation_delay?Ut.tm_epo_start_animation_delay:t.tc_epo_delay?t.tc_epo_delay:500,Mt.epoAnimationDelay=Ut.tm_epo_animation_delay?Ut.tm_epo_start_animation_delay:t.tc_epo_animation_delay?t.tc_epo_animation_delay:500,Mt.getElementFromFieldCache=[],Mt.epoSelector=".tc-extra-product-options",Mt.associatedEpoSelector=".tc-extra-product-options-inline",Mt.addToCartSelector="input[name='add-to-cart']",Mt.tcAddToCartSelector="input.tc-add-to-cart",Mt.qtySelector="input.qty,input[name='quantity'],select.qty,.drop-down-button #qty,.plus-minus-button #qty,.slider-input #amount",Mt.associateQtySelector="input.tm-qty-alt",Mt.addToCartButtonSelector=".add_to_cart_button, .single_add_to_cart_button",Mt.compositeSelector=".bto_item,.component",Mt.nativeProductPriceSelector=".woocommerce div.product p.price",Mt.templateEngine=a.epoAPI.applyFilter("tc_adjust_templateEngine",{price:Rt.template("tc-price"),sale_price:Rt.template("tc-sale-price"),tc_chars_remanining:Rt.template("tc-chars-remanining"),tc_final_totals:Rt.template("tc-final-totals"),tc_floating_box:Rt.template("tc-floating-box"),tc_floating_box_nks:Rt.template("tc-floating-box-nks"),tc_formatted_price:Rt.template("tc-formatted-price"),tc_formatted_sale_price:Rt.template("tc-formatted-sale-price"),tc_lightbox:Rt.template("tc-lightbox"),tc_lightbox_zoom:Rt.template("tc-lightbox-zoom"),tc_section_pop_link:Rt.template("tc-section-pop-link"),tc_upload_messages:Rt.template("tc-upload-messages")}),a.tcAPI=function(){return Mt},a.tcAPIGet=function(t){return Mt[t]},a.tcAPISet=function(t,e){Mt[t]=e},a.tc_validator&&a.extend(a.tc_validator.messages,{required:Ut.tm_epo_global_validator_messages.required,email:Ut.tm_epo_global_validator_messages.email,url:Ut.tm_epo_global_validator_messages.url,number:Ut.tm_epo_global_validator_messages.number,digits:Ut.tm_epo_global_validator_messages.digits,maxlengthsingle:a.tc_validator.format(Ut.tm_epo_global_validator_messages.maxlengthsingle),maxlength:a.tc_validator.format(Ut.tm_epo_global_validator_messages.maxlength),minlengthsingle:a.tc_validator.format(Ut.tm_epo_global_validator_messages.minlengthsingle),minlength:a.tc_validator.format(Ut.tm_epo_global_validator_messages.minlength),max:a.tc_validator.format(Ut.tm_epo_global_validator_messages.max),min:a.tc_validator.format(Ut.tm_epo_global_validator_messages.min),step:a.tc_validator.format(Ut.tm_epo_global_validator_messages.step),lettersonly:a.tc_validator.format(Ut.tm_epo_global_validator_messages.lettersonly),lettersspaceonly:a.tc_validator.format(Ut.tm_epo_global_validator_messages.lettersspaceonly),alphanumeric:a.tc_validator.format(Ut.tm_epo_global_validator_messages.alphanumeric),alphanumericunicode:a.tc_validator.format(Ut.tm_epo_global_validator_messages.alphanumericunicode),alphanumericunicodespace:a.tc_validator.format(Ut.tm_epo_global_validator_messages.alphanumericunicodespace)}),a.tc_validator&&(a.tc_validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},a.tc_validator.messages.alphanumeric),a.tc_validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},a.tc_validator.messages.lettersonly),a.tc_validator.addMethod("lettersspaceonly",function(t,e){return this.optional(e)||/^[a-z,\u0020]+$/i.test(t)},a.tc_validator.messages.lettersspaceonly),a.tc_validator.addMethod("alphanumericunicode",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF\u3040-\u309f\u30a0-\u30ff\u4e00-\u9faf\u3400-\u4dbf]+$/i.test(t)},a.tc_validator.messages.alphanumericunicode),a.tc_validator.addMethod("alphanumericunicodespace",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF\u3040-\u309f\u30a0-\u30ff\u4e00-\u9faf\u3400-\u4dbf,\u0020]+$/i.test(t)},a.tc_validator.messages.alphanumericunicodespace)),a.epoAPI.util.escapeSelector=function(){var t=/([!"$%&'()*+,/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),a.epoAPI.util.unformat=function(t){var e=a.epoAPI.math.unformat(t,Mt.localInputDecimalSeparator),i=parseFloat(e);return Number.isFinite(i)?i:e},a.epoAPI.util.parseParams=function(t,e){return"string"!=typeof t||void 0===t.split?[]:t.split("&").map(function(t){var a={};return!0===e&&(t=decodeURIComponent(t)),(t=t.split("=").map(function(t){var e=t.split("?");return e.length>1?e[1]:t})).length>1&&(a[t[0]]=t[1]),a}).filter(function(t){return null!==t}).reduce(function(t,e){return Object.assign({},t,e)},{})},a.tmempty||(a.tmempty=function(t){var e=1===[void 0,null,!1,0,"","0"].filter(function(e){return t===e}).length,a=!1;return"object"==typeof t?a=0===Object.keys(t).filter(function(e){return t.hasOwnProperty(e)}).length:e||a}),a.tmType||(a.tmType=function(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}),a.is_on_screen||(a.fn.is_on_screen=function(){var e=a(t),i=a.epoAPI.dom.scroll(),o=this.offset(),r={top:i.top,left:i.left};return r.right=r.left+e.width(),r.bottom=r.top+e.height(),o.right=o.left+this.outerWidth(),o.bottom=o.top+this.outerHeight(),!(r.right<o.left||r.left>o.right||r.bottom<o.top||r.top>o.bottom)}),a().tmtoggle||(a.fn.tmtoggle=function(){var e=this,i=!1,o=0;if(0!==e.length)return e.each(function(){var t,e,r,n=a(this);if(!n.data("tm-toggle-init")){if(n.data("tm-toggle-init",1),t=n.find(".tm-toggle"),e=n.find(".tm-collapse-wrap"),r=a(".tm-collapse.tmaccordion").find(".tm-toggle"),0===t.length||0===e.length)return;e.is(".closed")?(a(e).removeClass("closed open").addClass("closed").hide(),a(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down")):(a(e).removeClass("closed open").addClass("open").show(),a(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),i=!0),t.each(function(t,i){a(i).on("closewrap.tmtoggle",function(){n.is(".tmaccordion")&&a(e).is(".closed")||(a(e).removeClass("closed open").addClass("closed"),a(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down"),a(e).removeClass("tm-animated fadeIn"),n.is(".tmaccordion"),a(e).animate({height:"toggle"},100,function(){a(e).hide()}),Yt.trigger("tmlazy"))}),a(i).on("openwrap.tmtoggle",function(){n.is(".tmaccordion")&&a(r).not(a(this)).trigger("closewrap.tmtoggle"),a(e).removeClass("closed open").addClass("open"),a(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),a(e).show().removeClass("tm-animated fadeIn").addClass("tm-animated fadeIn"),setTimeout(function(){Yt.trigger("tmlazy")},200),o&&n.is(".tmaccordion")&&!n.is_on_screen()&&Yt.tcScrollTo(a(i))}),a(i).on("click.tmtoggle",function(t){t.preventDefault(),a(e).is(".closed")?a(this).trigger("openwrap.tmtoggle"):a(this).trigger("closewrap.tmtoggle")}),a(i).find(".tm-qty").closest(".cpf_hide_element").find(".tm-epo-field").on("change.cpf",function(){a(i).trigger("openwrap.tmtoggle")})})}}),void 0===t.tc_accordion_closed_on_page_load&&!i&&e.filter(".tmaccordion").length>0&&e.filter(".tmaccordion").first().find(".tm-toggle").trigger("openwrap.tmtoggle"),o=1,e}),a().tmpoplink||(a.fn.tmpoplink=function(){var t,e=this;if(0!==e.length)return t=function(t){return a.epoAPI.template.html(Rt.template("tc-cart-options-popup"),{title:t.title,id:t.id,html:t.html,close:Ut.i18n_close})},e.each(function(){var e,i,o,r,n=a(this);n.is(".tc-poplink")||(n.addClass("tc-poplink"),e=a(this).attr("href"),i=a(this).attr("data-title"),o=a(e).html(),i||(i=Ut.i18n_addition_options),r=t({id:"temp_for_floatbox_insert",html:o,title:i}),n.on("click.tmpoplink",function(t){a.tcFloatBox({fps:1,ismodal:!1,refresh:100,width:"80%",height:"80%",classname:"flasho tm_wrapper",data:r}),t.preventDefault()}))})}),(Lt=function(t,e,a){return this.this_epo_totals_container=t,this.is_quickview=e,this.main_cart=a,!(e||!Ut.floating_totals_box||"disable"===Ut.floating_totals_box||!a||!t.length)&&(this.init(),this)}).prototype={constructor:Lt,onUpdate:function(){var t,e,i=this.this_epo_totals_container.data("tm-html"),o=this.this_epo_totals_container.data("tm-floating-box-data"),r=[];o&&o.length&&a.each(o,function(t,e){""===e.title&&(e.title="&nbsp;"),""===e.value&&(e.value="&nbsp;"),e.title?(e.title=a("<div>"+e.title+"</div>"),e.title.find("span").remove(),e.title=e.title.html()):e.title="&nbsp;",this.is_nks&&(""!==e.label_show&&(e.title=""),""!==e.value_show&&(e.value="")),r.push({label_show:e.label_show,value_show:e.value_show,title:e.title,value:e.value,quantity:e.quantity,price:c(e.price,this.this_epo_totals_container,!0,!1)})}),i&&""!==i||this.is_nks||(i="",this.floatingBox.hide()),r&&!r.length&&r.push({label_show:"hidden",value_show:"hidden",title:"",value:"",quantity:0,price:0}),t=a.epoAPI.template.html(this.engineTemplate,{html_before:Ut.floating_totals_box_html_before,html_after:Ut.floating_totals_box_html_after,option_label:Ut.i18n_option_label,option_value:Ut.i18n_option_value,option_qty:Ut.i18n_option_qty,option_price:Ut.i18n_option_price,values:r,totals:i}),this.floatingBox.html(t),this.onUpdateScroll(),"yes"===Ut.floating_totals_box_add_button&&(e=this.main_cart.find(Mt.addToCartButtonSelector).first()).tcClone().addClass("tc-add-to-cart-button").on("click",function(){e.trigger("click")}).appendTo(this.floatingBox)},onUpdateScroll:function(){"always"!==Ut.floating_totals_box_visibility?Yt.scrollTop()>100||this.is_nks_alt?this.floatingBox.is(":hidden")&&!this.floatingBox.is(":empty")||this.is_nks_alt?!1===this.is_nks?this.floatingBox.fadeIn():this.floatingBox.show():!this.floatingBox.is(":hidden")&&this.floatingBox.is(":empty")&&(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):this.floatingBox.is(":hidden")||(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):this.floatingBox.show()},addEvents:function(){this.onUpdate(),this.main_cart.on("tm-epo-after-update",this.onUpdate.bind(this)),!1===this.is_nks&&Yt.on("scroll",this.onUpdateScroll.bind(this))},init:function(){this.floatingBox=a('<div class="tm-floating-box '+Ut.floating_totals_box+'"></div>'),this.nks_selector=a(".tm-floating-box-nks").first(),this.alt_selector=a(".tm-floating-box-alt").first(),this.engineTemplate=Mt.templateEngine.tc_floating_box,this.is_nks=!1,this.is_nks_alt=!1,this.nks_selector.length>0?(this.is_nks=!0,this.floatingBox.removeClass("top left right bottom").appendTo(this.nks_selector).show()):this.alt_selector.length>0?this.floatingBox.removeClass("top left right bottom").appendTo(this.alt_selector).hide():this.floatingBox.appendTo("body").hide(),(this.nks_selector.length>0||this.alt_selector.length>0)&&(this.is_nks_alt=!0,this.engineTemplate=Mt.templateEngine.tc_floating_box_nks),this.addEvents()}},a.tcFloatingTotalsBox=function(t,e,a){var i=!1;return t&&t.length&&void 0===t.data("tcfloatingtotalsbox")&&(i=new Lt(t,e,a),t.data("tcfloatingtotalsbox",i)),i},a.tc_product_image={},a.tc_product_image_store={},a.tc_replace_object_values=function(t,e){return Object.keys(t).forEach(function(a){Object.keys(t[a]).forEach(function(i){void 0!==e[a]&&void 0!==e[a][i]&&e[a].hasOwnProperty(i)&&(t[a][i]=e[a][i])})}),t},a.tc_maybe_copy_object_values=function(t,e){return Object.keys(e).forEach(function(a){Object.keys(e[a]).forEach(function(i){void 0===e[a]||!e[a].hasOwnProperty(i)||void 0===e[a][i]||void 0!==t[a]&&void 0!==t[a][i]||(void 0===t[a]&&(t[a]={}),t[a][i]=e[a][i])})}),t},a.tc_pre_populate_store=function(){var t={};return t[0]={},t[1]={},t[2]={},t[3]={},t[0].src="",t[0].srcset="",t[0].sizes="",t[0].title="",t[0].alt="",t[0]["data-src"]="",t[0]["data-large_image"]="",t[0]["data-large_image_width"]="",t[0]["data-large_image_height"]="",t[1]["data-thumb"]="",t[2].src="",t[3].href="",t[3].title="",t},a.tc_populate_store=function(t,e){var a=e.find(".flex-control-nav li:eq(0) img"),i=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),o=t,r=t.closest("a"),n={};return n[0]={},n[1]={},n[2]={},n[3]={},n[0].src=o.attr("src"),n[0].srcset=o.attr("srcset"),n[0].sizes=o.attr("sizes"),n[0].title=o.attr("title"),n[0].alt=o.attr("alt"),n[0]["data-src"]=o.attr("data-src"),n[0]["data-large_image"]=o.attr("data-large_image"),n[0]["data-large_image_width"]=o.attr("data-large_image_width"),n[0]["data-large_image_height"]=o.attr("data-large_image_height"),n[1]["data-thumb"]=i.attr("data-thumb"),n[2].src=a.attr("src"),n[3].href=r.attr("href"),n[3].title=r.attr("title"),n},a.tc_maybe_copy_object_values_from_img=function(t,e,i){var o,r,n=i.find(".flex-control-nav li:eq(0) img"),c=[["src","srcset","sizes","title","alt","data-src","data-large_image","data-large_image_width","data-large_image_height","large-image"],["data-thumb"],["src"],["href","title"]];return[e,i.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),n,e.closest("a")].forEach(function(e,i){void 0!==e&&void 0!==e[0]&&(o=e[0].attributes,a.each(o,function(){this.specified&&(r=this.name,-1!==a.inArray(r,c[i])&&(void 0===t[i]||void 0!==t[i]&&void 0===t[i][r])&&(void 0===t[i]&&(t[i]={}),t[i][r]=this.value))}))}),t},a.fn.tc_set_attr=function(t,e,i){void 0===i&&(i=0),(void 0===a.tc_product_image[i]||void 0!==a.tc_product_image[i]&&void 0===a.tc_product_image[i][t])&&(void 0===a.tc_product_image[i]&&(a.tc_product_image[i]={}),a.tc_product_image[i][t]="",this.attr(t)&&(a.tc_product_image[i][t]=this.attr(t))),!1===e?this.removeAttr(t):this.attr(t,e)},a.fn.tc_reset_attr=function(t,e){void 0===e&&(e=0),void 0!==a.tc_product_image[e]&&(void 0!==a.tc_product_image[e][t]&&this.attr(t,a.tc_product_image[e][t]),delete a.tc_product_image[e][t])},a.fn.tc_update_attr=function(t,e){void 0===e&&(e=0),void 0!==a.tc_product_image[e]&&(a.tc_product_image[e][t]=this.attr(t))},a.fn.tc_image_update=function(t,e){var i,o,r,n,c=a(t),l=this,d=a(e),s=l.data("epo_object"),p=s.main_product.closest("#product-"+s.product_id),m=p;p.length<=0&&(m=s.main_product.closest(".post-"+s.product_id)),c.is("select")&&(c=c.children("option:selected")),i=c.data("image-variations"),r=(o=""!==Ut.tm_epo_global_product_image_selector?a(Ut.tm_epo_global_product_image_selector):m.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img,img.emoji,a.woocommerce-product-gallery__trigger img").first()).closest("a"),o.length>1&&(o=o.first()),c&&i&&d.length>0?(d.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),n=i.imagep,i.imagep.image_link||(n=i.image),d.attr("title",n.image_title),d.attr("alt",n.image_alt),n.image_srcset&&d.attr("srcset",n.image_srcset),n.image_sizes&&d.attr("sizes",n.image_sizes),o.tc_set_attr("title",n.image_title),o.tc_set_attr("alt",n.image_alt),o.tc_set_attr("data-large-image",n.image_link),o.data.wc27_zoom_target&&(o.data.wc27_zoom_target.tc_set_attr("data-thumb",n.image_link),m.find(".flex-control-nav li:eq(0) img").tc_set_attr("src",n.image_link)),r.tc_set_attr("href",n.image_link),r.tc_set_attr("title",n.image_caption)):(o.tc_reset_attr("title"),o.tc_reset_attr("alt"),o.tc_reset_attr("data-large-image"),o.data.wc27_zoom_target&&(o.data.wc27_zoom_target.tc_reset_attr("data-thumb"),m.find(".flex-control-nav li:eq(0) img").tc_reset_attr("src")),r.tc_reset_attr("href"),r.tc_reset_attr("title"))},a.fn.tm_find_matching_variations=function(t,e){var i,o,r=[];if(t)for(i=0;i<t.length;i+=1)o=t[i],a.fn.tm_variations_match(o.attributes,e)&&r.push(o);return r},a.fn.tm_variations_match=function(t,e){var a,i,o=!0;return Object.keys(t).forEach(function(r){t.hasOwnProperty(r)&&(a=t[r],i=e[r],void 0!==a&&void 0!==i&&0!==a.length&&0!==i.length&&a!==i&&(o=!1))}),o},a().tclightbox||(a.fn.tclightbox=function(){var t=this;if(0!==t.length)return t.each(function(){var t,e,i,o,r,n,c=a(this);c.is(".tcinit")||(t=c.attr("src")||c.attr("data-original"),i=(e=c.closest("label")).closest(".tmcp-field-wrap").find(".tm-epo-field[id='"+e.attr("for")+"']"),(t=i.attr("data-imagel")||i.attr("data-imagep")||i.attr("data-image")||t)&&(c.addClass("tcinit").before(a.epoAPI.template.html(Mt.templateEngine.tc_lightbox,{})),o=c.prev(),c.wrap("<div class='tc-lightbox-image-wrap'/>"),c.after(o),r=o.find(".tc-lightbox-button"),(n=new Image).src=t,n.onload=function(){r.addClass("tcinit").on("click.tclightbox",function(e){var i,o;a(".tc-closing.tc-lightbox").length>0||(i=a.epoAPI.dom.size(),o=a("<img>").addClass("tc-lightbox-img").attr("src",t).css("maxHeight",i.visibleHeight+"px").css("maxWidth",i.visibleWidth+"px"),a.tcFloatBox({fps:1,ismodal:!1,refresh:"fixed",width:"auto",height:"auto",top:"0%",left:"0%",classname:"flasho tc-lightbox",animateIn:"tc-lightbox-zoomIn",animateOut:"tc-lightbox-zoomOut",data:a.epoAPI.template.html(Mt.templateEngine.tc_lightbox_zoom,{img:o[0].outerHTML}),zIndex:102001,cancelClass:".tc-lightbox-img, .tc-lightbox-button-close",unique:!0}),e.preventDefault())})}))})},Kt.ready(function(){a(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio_image").tclightbox()})),a().tmsectionpoplink||(a.fn.tmsectionpoplink=function(){var t=this;if(0!==t.length)return t.each(function(){var t=a(this),e=t.attr("data-sectionid"),i=Ut.i18n_addition_options,o=t.closest(".cpf-section[data-uniqid='"+e+"']"),r=!1,n=a('<div class="fl-overlay"></div>').css({zIndex:parseInt(t.zIndex,10)-1,opacity:.8}),c=function(){var t=a("#tm-section-pop-up");t.parents().removeClass("noanimated"),n.unbind().remove(),t.after(o),t.remove(),o.find(".tm-section-link").show(),o.find(".tm-section-pop").hide()};t.attr("data-title")&&(i=t.attr("data-title")),t.on("click.tmsectionpoplink",function(t){var e;t.preventDefault(),r=!1,n.appendTo("body").on("click",c),o.before(a.epoAPI.template.html(Mt.templateEngine.tc_section_pop_link,{title:i,close:Ut.i18n_close})),(e=a("#tm-section-pop-up")).find(".float_editbox").prepend(o),o.find(".tm-section-link").hide(),o.find(".tm-section-pop").show(),e.parents().addClass("noanimated"),e.find(".floatbox-cancel").on("click",function(){r||(r=!0,c())}),Yt.trigger("tmlazy"),Yt.trigger("tmsectionpoplink")})})}),a().cpfdependson||(a.fn.cpfdependson=function(t,e,i,o){var r=this,n=0;if(0!==r.length&&"object"==typeof t)return e||(e="show"),i||(i="all"),a.each(t,function(e,i){var r,c;if("object"!=typeof t)return!0;(r=l(i.element))&&r.length>0&&(r.each(function(t,e){var i,r,n=a(e),l="change.cpflogic";c||(i=".tm-product-id-"+n.closest(".tc-extra-product-options").attr("data-product-id"),r="[data-epo-id='"+n.closest(".tc-extra-product-options").attr("data-epo-id")+"']",c=a(".tc-extra-product-options"+i+r)),e&&n.length>0&&(!n.data("tmhaslogicevents")||o)&&(n.is(".tm-epo-variation-element")?(f("found_variation.tmlogic",!1,function(t){w(c),Yt.trigger("tm-do-epo-update")}),f("hide_variation.tmlogic",!1,function(){w(c),Yt.trigger("tm-do-epo-update")})):((n.is(":text")||n.is("textarea"))&&(l="change.cpflogic"),n.off(l).on(l,function(){w(c)})),n.data("tmhaslogicevents",1))}),n=parseInt(n,10)+1)}),r.each(function(){var o=a(this),r=!1;switch(o.data("matches",n).data("toggle",e).data("what",i).data("fields",t),e){case"show":r=!1;break;case"hide":r=!0}r?o.removeClass("tc-hidden"):o.addClass("tc-hidden"),o.data("isactive",r)}),r.addClass("iscpfdependson").data("iscpfdependson",1),r.each(function(){a(this).addClass("is-epo-depend")})},a.fn.run_cpfdependson=function(){w()}),a.tcepo={formSubmitEvents:{},oneOptionIsSelected:{},initialActivation:{},lateFieldsPrices:{},errorObject:{}},a.tcepo.tm_init_epo=function(t,e,a,i){Dt(t,e,a,i)},Yt.on("tc_manual_init",function(t,e){Nt(e)}),Kt.ready(function(){Mt=a.epoAPI.applyFilter("tc_api",Mt),Yt.on("lazyLoadXToncomplete",function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})}),Yt.on("tc_init_epo_plugin",function(t){Bt()}),Yt.on("tcShowLastError",function(){t.console.log(Ht)}),a.ajaxPrefilter(function(t,e){var i,o,r,n,c,l,d,s,p,m,_,f=!1;if("yes"===Ut.tm_epo_enable_in_shop&&(i=t.url.split("?"))&&i.length>=1&&(i=i[1])){for(o=i.split("&"),r=0;r<o.length;r+=1)(n=o[r].split("=")).length>=1&&n[0]&&n[1]&&"wc-ajax"===n[0]&&"add_to_cart"===n[1]&&(f=!0);f&&(t.originalsuccess=t.success,t.success=function(i){i&&i.error&&i.product_url?((c=a(".ajax_add_to_cart[data-product_id='"+e.data.product_id+"']")).removeClass("added"),c.removeClass("loading")):t.originalsuccess.call(null,i)})}e.data&&(l=e.data,"string"==typeof e.data&&(l=a.epoAPI.util.parseParams(e.data)),d=[],e.url&&e.url.indexOf&&(d=a.epoAPI.util.parseParams(e.url.slice(e.url.indexOf("?")+1))),"quantity"in l&&(l.product_id||l["add-to-cart"]||d.product_id||d["add-to-cart"]||l.tcaddtocart)&&(s=l.product_id||l["add-to-cart"]||d.product_id||d["add-to-cart"]||l.tcaddtocart,1===(p=a(".tc-extra-product-options.tm-product-id-"+s)).length&&(_={tcajax:1,tcaddtocart:s,cpf_product_price:a(".tc-totals-form.tm-product-id-"+s).find(".cpf-product-price").val()},(m=a(".tc-totals-form.tm-product-id-"+s).find(".tc_form_prefix").val())&&(_.tc_form_prefix=m),t.data=t.data+"&"+a.param(a.extend(p.tcSerializeObject(),_),!1))))}),Kt.ajaxSuccess(function(t,e,i){var o,r,n,c,l,d,s,p=Ut.quickview_array||"null",m=Ut.quickview_container||"null",_={};a(".tm-cart-link").tmpoplink(),p=a.epoAPI.util.parseJSON(p),m=a.epoAPI.util.parseJSON(m);for(o in m)m.hasOwnProperty(o)&&(_[m[o][0]]=a(m[o][1]));a.extend(p,_),Object.keys(p).forEach(function(t){l=!1,r=a(p[t]),"woodmart_quick_shop"===t&&"woodmart_quick_shop"===(s=a.epoAPI.util.parseParams(i.url)).action&&(d=a(a.epoAPI.util.escapeSelector(p[t]+".post-"+s.id))).length&&(r=d,l=!0),"woodmart_quick_view"===t&&"woodmart_quick_view"===(s=a.epoAPI.util.parseParams(i.url)).action&&(d=a(a.epoAPI.util.escapeSelector(p[t]+".post-"+s.id))).length&&(r=d,l=!0),"quickview_pro"===t&&(s=i.url.split("/")).length&&(d=a(a.epoAPI.util.escapeSelector(p[t]+" .post-"+s[s.length-1]))).length&&(r=d,l=!0),"wp_food"===t&&(l=!0),"woofood"===t&&i.data&&"woofood_quickview_ajax"===(s=a.epoAPI.util.parseParams(i.data)).action&&(d=d=r.find("form").parent()).length&&(r=d,l=!0),"yith_quick_view_plugin"!==t&&r.length&&(r.find(".product").length>0||l)&&(r.removeClass("tc-init"),"wp_food"!==t&&"woodmart_quick_shop"!==t&&"fwoodmart_quick_view"!==t&&"lightboxpro"!==t&&"jckqv_quick_view"!==t&&"yith_quick_view_plugin"!==t&&"theme_flatsome"!==t||(Gt=!0),n=(Xt=r).find(Mt.epoSelector).attr("data-product-id"),c=Xt.find(Mt.epoSelector).attr("data-epo-id"),"woodmart_quick_shop"===t&&r.addClass("has-options"),Mt.getElementFromFieldCache=[],Dt(Xt,!0,n,c),Yt.trigger("tmlazy"),Yt.trigger("tm_epo_loaded_quickview"),a.jMaskGlobals&&Xt.find(a.jMaskGlobals.maskElements).each(function(){var t=a(this);t.attr("data-mask")&&t.mask(t.attr("data-mask"))}))})}),Bt(),a(".tm-cart-link").tmpoplink(),Vt.on("updated_checkout",function(){a(".tm-cart-link").tmpoplink()}),Yt.trigger("tmlazy"),Yt.trigger("tm_epo_loaded")}),Kt.ready(function(){Kt.on("click",".quantity .jckqv-qty-spinner, .quantity .ui-spinner-button",function(){a(this).closest(".quantity").find("input.qty").trigger("change")}),Vt.on("sober_quickview_opened",function(){var t,e;t=(Xt=a("#quick-view-modal")).find(Mt.epoSelector).attr("data-product-id"),e=Xt.find(Mt.epoSelector).attr("data-epo-id"),Dt(Xt,!0,t,e),Yt.trigger("tmlazy"),Yt.trigger("tm_epo_loaded_quickview"),a.jMaskGlobals&&Xt.find(a.jMaskGlobals.maskElements).each(function(){var t=a(this);t.attr("data-mask")&&t.mask(t.attr("data-mask"))})}),a("#wholesale_form").on("submit",function(){var t=a("form.cart").find(Mt.addToCartSelector).val(),e=a(Mt.epoSelector+".tm-cart-main[data-product-id='"+t+"']").tcClone(),i=a(".tm-totals-form-main[data-product-id='"+t+"']").tcClone(),o=a("<div class='tm-hidden tm-formepo'></div>");return o.append(e),o.append(i),a(this).append(o),!0}),Kt.on("click","#add_to_quote",function(t){var e,i,o;Ut&&"yes"===Ut.tm_epo_global_enable_validation&&(e=a(this).parents("form"),i=e.find(".tm-epo-counter").val(),o=a(Mt.epoSelector+"[data-epo-id='"+i+"']"),e.length>0&&o.length>0&&!e.tc_validate().form())&&t.stopImmediatePropagation()}),a(".single_add_to_cart_button.paypal_checkout_button").on("click",function(t){var e=a(".cart");e.data("tc_validator")&&e.data("tc_validator").errorList&&t.stopImmediatePropagation()}),a(".wc-product-table").on("init.wcpt",function(e,i){i.$table.find(Mt.epoSelector).addClass("hidden"),i.$table.find("thead tr").append("<th>&nbsp;</th>"),setTimeout(function(){i.$table.find(".cart:not(.cart_group)").each(function(){var e=a(this).find(Mt.epoSelector),i=e.closest("tr");a("<td class='wc-product-table-epo'></td>").appendTo(i).append(e),a(t).trigger("tc_manual_init",e),e.removeClass("hidden")})},500)})}))}(window,document,window.jQuery);