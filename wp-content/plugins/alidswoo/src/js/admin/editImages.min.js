!function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=95)}({95:function(e,t,i){e.exports=i(96)},96:function(e,t){jQuery((function(e){window.editImages=function(){var t={src:null,type:null,active:!1,$el:null};function i(){e("#ads_image_toolbar").show()}function a(){e("#ads_image_toolbar").hide()}function n(e){var t=document.createElement("a");return t.href=e,t}function r(e){return e?e.replace(/_\d+x\d+\.jpe?g/,"").replace(/-\d+x\d+\./,"."):e}function o(n,r,o){if(r=r||0,o=o||0,"reload"!==n&&function(i){if(t.$el=i,t.$el){var a=e(t.$el).attr("src");a=(a=a||e(t.$el).data("src"))||e(t.$el).find("img").attr("src"),t.src=a}else t.src=null}(n),n){i();var c=e(t.$el).offset();"woogallery"!=t.type&&(c.left+=e(t.$el).width()-e("#ads_image_toolbar").width()),c.left+=r,c.top+=o,c.top=Math.round(c.top),e("#ads_image_toolbar").attr("class",t.type).offset(c)}else a()}function c(e,t){if(t[0]&&e){var i=t[0].getBoundingClientRect(),a=i.x,n=i.y,r=i.x+i.width,o=i.y+i.height;return e.clientX>=a&&e.clientX<=r&&e.clientY>=n&&e.clientY<=o}}function l(){new Promise((function(e,i){return n(r(t.src)).hostname!==n(window.location.href).hostname?(window.ADS.coverShow(),window.ADS.getBASE64(t.src).then((function(t){window.ADS.coverHide(),e(t)})).catch((function(){i()}))):e(r(t.src))})).then((function(i){var a={lang:window.imager_ops.lang};imager(i,0,(function(i,a){if(i){var n=e("#post_ID").val();window.ADS.attachmentImage64(i,n).then((function(i){setTimeout((function(){d(!1)}),500),e.event.trigger({type:"imager:"+t.type,src:t.src,url:i.url,id:i.id}),function(i,a){var n;switch(i){case"gallery":(n=e(t.$el)).data("src",a.url),n.attr("data-src",a.url),n.css({"background-image":"url("+a.url+")"}),n.closest(".inner-item").find('[name="gallery[]"]').val(a.id);break;case"woogallery":(n=e(t.$el)).attr("data-attachment_id",a.id),n.data("attachment_id",a.id),n.attr("data-src",a.id),n.find(".adsw_cover-image").remove(),n.removeClass("external-image"),image=n.find("img"),image.attr("src",a.url),image.removeAttr("srcset"),image.removeAttr("sizes"),image.show(),n.find('input[name="adsw_product_gallery[]"]').val(a.id);var r=e("#product_images_container").find("ul.product_images"),o="";r.find("li.image:not(.external-image)").each((function(){o?""!=e(this).data("attachment_id")&&(o=o+","+e(this).data("attachment_id")):o=e(this).data("attachment_id")})),n.closest("#product_images_container").find("#product_image_gallery").val(o);break;case"variations":(n=e(t.$el)).attr("src",a.url),n.closest(".upload_image").find(".upload_image_id").val(a.id).change();break;case"featured":(n=e(".inside img","#postimagediv")).attr("src",a.url),n.removeAttr("srcset"),n.removeAttr("sizes"),n.closest("#postimagediv").find("#_thumbnail_id").val(a.id)}}(t.type,{src:t.src,url:i.url,id:i.id})})).catch((function(){d(!1),window.ADS.coverHide(),window.ADS.notify("error: attachment image")}))}else d(!1)}),a)})).catch((function(){d(!1),window.ADS.coverHide()}))}function d(e){t.active=e,t.active?window.ADS.coverShow():window.ADS.coverHide()}return{init:function(){e("body").on("click","#edit_image",(function(){void 0!==t.src&&(t.active||(d(!0),l()))})),e("body").on("click","#add_to_gallery",(function(){var i;void 0!==t.src&&(t.active||(i={url:t.src,post_id:e("#post_ID").val()},e.ajaxQueue({url:ajaxurl,data:{action:"ads_actions",ads_action:"add_image_to_gallery",ads_controller:"adsProduct",args:i},type:"POST",dataType:"json",success:function(i){if(i.hasOwnProperty("error"))window.ADS.notify(i.error,"danger");else if(i.hasOwnProperty("message")){var a={gallery:"#product_images_container .product_images",input:"#product_image_gallery"};if(""!=i.html&&e(a.gallery).append(i.html),"false"!=i.image.id){var n=e(a.input).val();""!=n?e(a.input).val(n+","+i.image.id):e(a.input).val(i.image.id),""!=i.image.url&&(item=e(t.$el),item.attr("src",i.image.url))}window.ADS.notify(i.message,"success")}}})))})),e("body").on("click","#add_to_description",(function(){var e;void 0!==t.src&&(t.active||null!==(e=tinyMCE.get("content"))&&e.dom.add(e.getBody(),"img",{src:r(t.src)}))}));var i=null;function a(i){if(!e(".supports-drag-drop").is(":visible"))if(t.active)o("reload");else{var a=!1;e("#ads-gallery .cover-image","body").each((function(){c(i,e(this))&&(a=!0,t.type="gallery",o(this))})),e("#product_images_container li.image","body").each((function(){c(i,e(this))&&(a=!0,t.type="woogallery",o(this))})),e(".woocommerce_variable_attributes .upload_image .upload_image_button img","body").each((function(){c(i,e(this))&&(a=!0,t.type="variations",o(this))})),c(i,e("#set-post-thumbnail img"))&&(a=!0,t.type="featured",o("#set-post-thumbnail img")),c(i,e(".featured-custom"))&&(a=!0,t.type="featured",o(".featured-custom")),c(i,e("#ads_image_toolbar"))&&(a=!0),a||"content"===t.type||o(!1)}}e(window).mousemove((function(e){i=e,a(e)})),e(window).scroll((function(){a(i)}))},render_edit_image:function(e,t,i){o(e,t,i)},params:function(e,i){t.src=e,t.type=i},show:function(){i()},hide:function(){a()},get isActive(){return t.active},get $el(){return t.$el}}}(),window.editImages.init()}))}});