"use strict";!function(){jQuery(function(e){var o=0,c="pending",n="Product,Parent,Value at Retail,Value at Cost,Units in stock,Stock status\n",s=e(".export_product_valuation_csv"),r=e(".wc-cog-product-valuation-progress"),u=function(){return e.ajax({type:"POST",url:ajaxurl,data:{action:"wc_cog_do_ajax_product_valuation",offset:o,status:c,security:wc_cog_product_valuation.product_valuation_nonce},dataType:"json",success:function(t){var a;if(t.success)return o=t.data.offset,c=t.data.status,""!==(a=t.data.product_data)&&(n+=a+"\n"),e(".wc-cog-progress").val(t.data.percentage),"done"===c?setTimeout(function(){var t;return s.removeClass("hide"),r.addClass("hide").removeClass("show"),(t=document.createElement("a")).download=s.data("filename"),t.href=URL.createObjectURL(new Blob([n],{type:"text/csv"})),document.body.appendChild(t),t.click(),document.body.removeChild(t)},500):u()}})};return s.on("click",function(t){return t.preventDefault(),s.addClass("hide"),r.removeClass("hide").addClass("show"),u()})})}.call(void 0);