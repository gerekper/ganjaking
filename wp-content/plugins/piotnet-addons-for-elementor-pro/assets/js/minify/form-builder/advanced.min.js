jQuery(document).ready(function($){function resizeSignature(){$(document).find("[data-pafe-signature] canvas").each(function(){var e=parseInt($(this).css("max-width").replace("px","")),a=(parseInt($(this).css("height").replace("px","")),parseInt($(this).closest(".elementor-form-fields-wrapper").width()));0<a&&(a<e||Number.isNaN(e)?$(this).attr("width",a):$(this).attr("width",e),$(this).attr("height",$(this).css("height")))})}function parseFloatWithRemoveSepChar(e,a,t){return"string"==typeof e&&(e=e.replace(".","~"),"string"==typeof a&&(e=e.replaceAll(a,"")),"string"==typeof t&&"."!==t&&(e=e.replaceAll(t,".")),e=e.replace("~",".")),parseFloat(e)}function pafeConditionalLogicFormCheck(e){e.each(function(){var e,a,t,i,r=$(this),l=$(this).data("pafe-form-builder-conditional-logic-not-field"),d=r.data("pafe-form-builder-conditional-logic-speed"),o=r.data("pafe-form-builder-conditional-logic-easing"),f=r.data("pafe-form-builder-conditional-logic"),n=!0,p=$(this).closest("[data-pafe-form-builder-repeater-id]");if(f){i=null!=l?(a=(e=$(this)).closest(".elementor-location-popup").length,(t=$(this)).data("pafe-form-builder-conditional-logic-not-field-form-id")):(a=(e=$(this).closest(".elementor-element")).closest(".elementor-location-popup").length,(t=r.find("[data-pafe-form-builder-form-id]")).data("pafe-form-builder-form-id"));var s=!1;0<$(this).closest(".pafe-multi-step-form__content-item-button").length&&(s=!0,(e=$(this).closest(".pafe-multi-step-form__content-item-button")).find("[data-pafe-form-builder-conditional-logic]").css({display:"block"}));var m,c=JSON.stringify(f);-1!==c.indexOf("pafe")&&-1==c.indexOf("show")&&(n=!1),m=null!=l?(n=!0,1):t.attr("name").replace("[]","").replace("form_fields[","").replace("]","");for(var u=0,h=0,b="",g="",v=0;v<f.length;v++){N=null!=l?1:t.attr("name").replace("form_fields[","").replace("[]","").replace("]","");var _,k=f[v].pafe_conditional_logic_form_if.trim().replace('[field id="',"").replace('"]',""),y=f[v].pafe_conditional_logic_form_comparison_operators,C=f[v].pafe_conditional_logic_form_value,w=f[v].pafe_conditional_logic_form_type,F=u;if("number"==w&&(C=parseFloat(C)),m==N&&(h++,b=f[v].pafe_conditional_logic_form_and_or_operators,""!=k)){0<p.length&&0!=(_=p.find('[name="form_fields['+k+']"][data-pafe-form-builder-form-id="'+i+'"]')).length||(_=$(document).find('[name="form_fields['+k+']"][data-pafe-form-builder-form-id="'+i+'"]'));var x,D,N=_.attr("type");if(0<_.length){if(null!=(D=("radio"==N||"checkbox"==N?(0<p.length?p:$(document)).find('[data-pafe-form-builder-form-id="'+i+'"][name="form_fields['+k+']"]:checked'):_).val())&&-1!==D.indexOf(";")&&(D=(D=D.split(";"))[0]),"number"==w&&(null==D?D=0:(D=parseFloat(D),isNaN(D)&&(D=0))),"not-empty"==y&&(""!=D&&0!=D||(u+=1)),"empty"==y&&(""==D&&0==D||(u+=1)),"="==y&&D!=C&&(u+=1),"!="==y&&D==C&&(u+=1),">"==y&&D<=C&&(u+=1),">="==y&&D<C&&(u+=1),"<"==y&&C<=D&&(u+=1),"<="==y&&C<D&&(u+=1),"unchecked"==y&&_.prop("checked")&&(u+=1),"checked"==y){let e=!1;$.each(_,function(){$(this).prop("checked")&&(e=!0)}),e||(u+=1)}"contains"==y&&(D&&-1!==D.indexOf(C)||(u+=1))}if(0<p.length&&0!=(x=p.find('[data-pafe-form-builder-form-id="'+i+'"][name="form_fields['+k+'][]"]')).length||(x=$(document).find('[data-pafe-form-builder-form-id="'+i+'"][name="form_fields['+k+'][]"]')),0<x.length){D=(0<p.length?p:$(document)).find('[data-pafe-form-builder-form-id="'+i+'"][name="form_fields['+k+'][]"]').attr("type");var S=x.val(),S=[];if("checkbox"==D?(0<p.length?p:$(document)).find('[data-pafe-form-builder-form-id="'+i+'"][name="form_fields['+k+'][]"]:checked').each(function(){S.push($(this).val())}):null==(S=x.val())&&(S=[]),"checked"==y&&S.length<=0&&(u+=1),"unchecked"==y&&0<S.length&&(u+=1),"not-empty"==y&&0==S.length&&(u+=1),"empty"==y&&0<S.length&&(u+=1),"="!=y&&"!="!=y&&">"!=y&&">="!=y&&"<"!=y&&"<="!=y||0==S.length&&(u+=1),"="==y&&(S.includes(C)||(u+=1)),"!="==y)for(var I=0;I<S.length;I++)S[I]==C&&(u+=1);if(">"==y)for(I=0;I<S.length;I++)S[I]<=C&&(u+=1);if(">="==y)for(I=0;I<S.length;I++)S[I]<C&&(u+=1);if("<"==y)for(I=0;I<S.length;I++)S[I]>=C&&(u+=1);if("<="==y)for(I=0;I<S.length;I++)S[I]>C&&(u+=1);"contains"==y&&-1===S.join().indexOf(C)&&(u+=1)}}var O,L=t;F==u&&null!=f[v]&&null!=f[v].pafe_conditional_logic_form_set_value&&-1!==f[v].pafe_conditional_logic_form_action.indexOf("set_value")&&(g=f[v].pafe_conditional_logic_form_set_value,null!=f[v].pafe_conditional_logic_form_set_value_for&&""!=f[v].pafe_conditional_logic_form_set_value_for?null==(O=0<p.length?(L=p.find('[data-pafe-form-builder-form-id="'+i+'"][name^="form_fields['+f[v].pafe_conditional_logic_form_set_value_for+']"]'),p.find('[data-pafe-form-builder-form-id="'+i+'"][name^="form_fields['+f[v].pafe_conditional_logic_form_set_value+']"]').val()):(L=$(document).find('[data-pafe-form-builder-form-id="'+i+'"][name^="form_fields['+f[v].pafe_conditional_logic_form_set_value_for+']"]'),$(document).find('[data-pafe-form-builder-form-id="'+i+'"][name^="form_fields['+f[v].pafe_conditional_logic_form_set_value+']"]').val()))&&(O=f[v].pafe_conditional_logic_form_set_value):(L=t,0))}var R=t.find("option:first"),T=!1;"radio"!=L.attr("type")&&"checkbox"!=L.attr("type")||(T=!0);var q,W,M=t.data("pafe-form-builder-default-value"),c="or"==b&&u<h||"and"==b&&0==u;if(c)0<a?("hidden"!=t.attr("type")?e.hasClass("pafe-form-builder-conditional-logic-hidden")&&(s=!0,e.show().removeClass("pafe-form-builder-conditional-logic-hidden")):void 0!==t.attr("data-date-format")&&e.hasClass("pafe-form-builder-conditional-logic-hidden")&&(s=!0,e.show().removeClass("pafe-form-builder-conditional-logic-hidden")),L.each(function(){var e;""!=g&&T&&(g==$(this).val()&&!0!==$(this).prop("checked")&&(s=!0,$(this).prop("checked",!0)),"unchecked"==g||"checked"==g?"unchecked"==g?!1!==$(this).prop("checked")&&(s=!0,$(this).prop("checked",!1)):!0!==$(this).prop("checked")&&(s=!0,$(this).prop("checked",!0)):g==$(this).val()&&!0!==$(this).prop("checked")&&(s=!0,$(this).prop("checked",!0))),""==g||T||(e="or"==b?O:g,$(this).val()!==e&&(s=!0,$(this).val(e)))})):("hidden"!=t.attr("type")||null!=t.data("time-format")?($paypal_element_button=e.closest(".elementor-widget-pafe-form-builder-submit").find(".pafe-form-builder-paypal"),0<$paypal_element_button.length?!$paypal_element_button.hasClass("pafe-form-builder-conditional-logic-hidden")&&"block"===$paypal_element_button.css("display")||(s=!0,$paypal_element_button.slideDown(d,o,function(){$(this).attr("style","display: block;")}).removeClass("pafe-form-builder-conditional-logic-hidden")):!e.hasClass("pafe-form-builder-conditional-logic-hidden")&&"block"===e.css("display")||(s=!0,e.slideDown(d,o,function(){void 0!==e.attr("pafe-form-builder-submit")?$(this).attr("style","display: inline-block;"):"container"==e.attr("data-element_type")?$(this).attr("style","display: flex;"):$(this).attr("style","display: block;")}).removeClass("pafe-form-builder-conditional-logic-hidden"))):void 0!==t.attr("data-date-format")&&(!e.hasClass("pafe-form-builder-conditional-logic-hidden")&&"block"===e.css("display")||(s=!0,e.slideDown(d,o,function(){$(this).attr("style","display: block;")}).removeClass("pafe-form-builder-conditional-logic-hidden"))),L.each(function(){var e;""!=g&&T&&(g==$(this).val()&&!0!==$(this).prop("checked")&&(s=!0,$(this).prop("checked",!0)),"unchecked"==g||"checked"==g?"unchecked"==g?!1!==$(this).prop("checked")&&(s=!0,$(this).prop("checked",!1)):!0!==$(this).prop("checked")&&(s=!0,$(this).prop("checked",!0)):g==$(this).val()&&!0!==$(this).prop("checked")&&(s=!0,$(this).prop("checked",!0))),""==g||T||(e="or"==b?O:g,$(this).val()!==e&&(s=!0,$(this).val(e)))}));else if(0<a){if(n&&(e.hasClass("pafe-form-builder-conditional-logic-hidden")&&"none"===e.css("display")||(s=!0,e.hide().addClass("pafe-form-builder-conditional-logic-hidden")),null!=l&&(null!=(q=r.data("pafe-form-builder-repeater-id"))&&(s=!0,r.siblings('[data-pafe-form-builder-repeater-id="'+q+'"]').remove()),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),a=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(a=!0);var t,i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?a?(t=i==$(this).val(),($(this).prop("checked")!==t||$(this).hasClass("pafe-checked")||$(this).hasClass("pafe-checked-setvalue"))&&(s=!0,$(this).prop("checked",t).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"))):$(this).val()!==$(this).attr("data-pafe-form-builder-default-value")&&(s=!0,$(this).val(i)):0!=e.length?$(this).val()!==e.val()&&(s=!0,$(this).val(e.val())):a?(!1!==$(this).prop("checked")||$(this).hasClass("pafe-checked")||$(this).hasClass("pafe-checked-setvalue"))&&(s=!0,$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue")):""!==$(this).val()&&(s=!0,$(this).val(""))}))),null==l)if(null!=M&&""!=M||Number.isInteger(M))T?(W=M==t.val(),(t.prop("checked")!==W||t.hasClass("pafe-checked")||t.hasClass("pafe-checked-setvalue"))&&(s=!0,t.prop("checked",W).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"))):t.val()!==t.attr("data-pafe-form-builder-default-value")&&(s=!0,t.val(M));else if(0!=R.length)t.val()!==R.val()&&(s=!0,t.val(R.val()));else if(T){let e=!1;t.each(function(){!1!==$(this).prop("checked")&&(e=!0)}),(e||t.hasClass("pafe-checked")||t.hasClass("pafe-checked-setvalue"))&&(s=!0,t.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"))}else""!==t.val()&&(s=!0,t.val(""))}else if(n&&($paypal_element_button=e.closest(".elementor-widget-pafe-form-builder-submit").find(".pafe-form-builder-paypal"),0<$paypal_element_button.length?$paypal_element_button.hasClass("pafe-form-builder-conditional-logic-hidden")&&"none"===$paypal_element_button.css("display")||(s=!0,$paypal_element_button.slideUp(d,o).addClass("pafe-form-builder-conditional-logic-hidden")):e.hasClass("pafe-form-builder-conditional-logic-hidden")&&"none"===e.css("display")||(s=!0,e.slideUp(d,o).addClass("pafe-form-builder-conditional-logic-hidden")),null!=l&&(null!=(q=r.data("pafe-form-builder-repeater-id"))&&(s=!0,r.siblings('[data-pafe-form-builder-repeater-id="'+q+'"]').remove()),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),a=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(a=!0);var t,i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?a?(t=i==$(this).val(),($(this).prop("checked")!==t||$(this).hasClass("pafe-checked")||$(this).hasClass("pafe-checked-setvalue"))&&(s=!0,$(this).prop("checked",t).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"))):$(this).val()!==$(this).attr("data-pafe-form-builder-default-value")&&(s=!0,$(this).val(i)):0!=e.length?$(this).val()!==e.val()&&(s=!0,$(this).val(e.val())):a?(!1!==$(this).prop("checked")||$(this).hasClass("pafe-checked")||$(this).hasClass("pafe-checked-setvalue"))&&(s=!0,$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue")):""!==$(this).val()&&(s=!0,$(this).val(""))}))),null==l)if(null!=M&&""!=M||Number.isInteger(M))T?(W=M==t.val(),(e.prop("checked")!==W||e.hasClass("pafe-checked")||e.hasClass("pafe-checked-setvalue"))&&(s=!0,t.prop("checked",W).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"))):t.val()!==t.attr("data-pafe-form-builder-default-value")&&(s=!0,t.val(M));else if(0!=R.length)t.val()!==R.val()&&(s=!0,t.val(R.val()));else if(T){let e=!1;t.each(function(){!1!==$(this).prop("checked")&&(e=!0)}),(e||t.hasClass("pafe-checked")||t.hasClass("pafe-checked-setvalue"))&&(s=!0,t.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"))}else""!=t.val()&&(s=!0,t.val(""));s&&(0<(R=$(this).closest("[data-pafe-form-builder-repeater-form-id]")).length?($repeaterCalculatedFields=R.find("[data-pafe-form-builder-calculated-fields]"),$repeaterCalculatedFields.each(function(){pafeCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))})):pafeCalculatedFieldsForm("")),$(this).hasClass("elementor-field-type-signature")&&$(this).closest(".elementor-widget-pafe-form-builder-field").hasClass("pafe-form-builder-conditional-logic-hidden")&&resizeSignature()}})}function pafeScanConditionalLogic(){var e=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]");0<e.length&&pafeConditionalLogicFormCheck(e)}function FormatNumberBy3(e,a,t){var i=(e+"").split("."),r=Number(i[0]).toLocaleString("en-US"),l="";return 1<i.length&&(l="."+i[1]),e=(e=(e=(e=r+l).replace(/\./g,"|")).replace(/\,/g,t)).replace(/\|/g,a)}function round(e,a,t,i,r){e=Number(Math.round(e+"e"+a)+"e-"+a);if(""==r)return FormatNumberBy3(e,t,i);e=Number(e.toFixed(a)),i=FormatNumberBy3(e,t,i);return 0<a&&(Number.isInteger(e)?i+=t+"0".repeat(a):"number"!=typeof e||0<a-(t=i.length-i.indexOf(t)-1)&&(i+="0".repeat(a-t))),i}function roundValue(e,a,t){e=Number(Math.round(e+"e"+a)+"e-"+a);return""==t?e:Number(e.toFixed(a))}function evalWithVariables(e,a){try{return new Function("v","with (v) { return ("+e+")}")(a)}catch(e){return}}function pafeCalculatedFieldsForm(e){""!==e&&window["pafe-calculated-data"]||(window["pafe-calculated-data"]={});const T=window["pafe-calculated-data"];""!=e&&(e='[field id="'+e+'"]'),$(document).find("[data-pafe-form-builder-calculated-fields]").each(function(){var e=$(this).closest(".elementor-element"),a=$(this),m=a.data("pafe-form-builder-form-id"),t=a.data("pafe-form-builder-calculated-fields"),i=a.data("pafe-form-builder-calculated-fields-rounding-decimals"),c=a.data("pafe-form-builder-calculated-fields-rounding-decimals-decimals-symbol"),r=a.data("pafe-form-builder-calculated-fields-rounding-decimals-show"),u=a.data("pafe-form-builder-calculated-fields-rounding-decimals-seperators-symbol"),h=$(this).closest("[data-pafe-form-builder-repeater-form-id]");if(-1==t.indexOf("field id"))$(document).find('[name^="form_fields"][data-pafe-form-builder-form-id="'+m+'"]').each(function(e,a){if(null!=$(this).attr("id")){var t,i=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""),r=$(document).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+i+']"]'),l=$(document).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+i+']"]').attr("type"),d=$(this).closest("[data-pafe-form-builder-repeater-form-id]");if(0<r.length&&("radio"==l||"checkbox"==l?t=(0<d.length?$(a.closest("[data-pafe-form-builder-repeater-form-id]")):$(document)).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+i+']"]:checked').val():null!==r.val()&&(t=r.val().trim()),null==t?t=0:(t=parseFloatWithRemoveSepChar(t,u,c),isNaN(t)&&(t=0)),0<d.length?(f=$(document).find('[data-pafe-form-builder-repeater-form-id="'+h.data("pafe-form-builder-repeater-form-id")+'"]'),n=h.index()-f.index(),T["pafe_"+i+"_piotnetpafe"+n+"x"]=t):T[i]=t),-1!==i.indexOf("[]")){i=i.replace("[]","");if(0<(r=(0<d.length?d:$(document)).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+i+'][]"]')).length){b=$(document).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+i+'][]"]').attr("type");var o=[];"checkbox"==b?0<d.length?d.find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+i+'][]"]:checked').each(function(e,a){o.push($(this).val())}):$(document).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+i+'][]"]:checked').each(function(e,a){o.push($(this).val())}):null==(o=r.val())&&(o=[]);for(var f,n,p=0,s=0;s<o.length;s++)t=parseFloatWithRemoveSepChar(o[s],u,c),isNaN(t)&&(t=0),p+=t;0<d.length?(f=$(document).find('[data-pafe-form-builder-repeater-form-id="'+h.data("pafe-form-builder-repeater-form-id")+'"]'),n=h.index()-f.index(),T["pafe_"+i+"_piotnetpafe"+n+"x"]=p):T[i]=p}}}});else if(null!=(k=t.match(/\"(.*?)\"/g)))for(var l=0;l<k.length;l++){var d=k[l].replace('"',"").replace('"',""),o=$(document).find('[data-pafe-form-builder-form-id="'+m+'"][name^="form_fields['+d+']"]'),d=$(document).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+d+']"]');if(0<o.length){var f,n=o.attr("name").replace("form_fields[","").replace("]",""),p=o.attr("type");if(1<=d.length&&0==d.closest("[data-pafe-form-builder-repeater-id]").length&&("radio"==p||"checkbox"==p?f=$(document).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+n+']"]:checked').val():null!==d.val()&&(f=d.val().trim()),d.closest(".pafe-form-builder-conditional-logic-hidden").length&&(f=0),null==f?f=0:(f=parseFloatWithRemoveSepChar(f,u,c),isNaN(f)&&(f=0)),null!=d.attr("data-pafe-form-builder-date-range-days")&&(f=d.attr("data-pafe-form-builder-date-range-days")),null!=d.attr("data-pafe-form-builder-date-calculate")&&(f=d.attr("data-pafe-form-builder-date-calculate")),null!=d.attr("data-pafe-form-builder-time-calculate")&&(f=d.attr("data-pafe-form-builder-time-calculate")),null!=d.attr("data-pafe-form-builder-form-booking-price")&&(f=d.attr("data-pafe-form-builder-form-booking-price")),T[n]=parseFloatWithRemoveSepChar(f,u,c),0<d.closest("[data-pafe-form-builder-conditional-logic]").length&&"none"==d.closest(".elementor-element").css("display")&&(T[n]=0)),(1<d.length||1==d.length&&0<d.closest("[data-pafe-form-builder-repeater-id]").length)&&($repeater_field=d.closest("[data-pafe-form-builder-repeater-id]"),0<$repeater_field.length&&d.each(function(e,a){var t;null==(t="radio"==p||"checkbox"==p?$(a.closest("[data-pafe-form-builder-repeater-id]")).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+n+']"]:checked').val():$(this).val().trim())?t=0:(t=parseFloatWithRemoveSepChar(t,u,c),isNaN(t)&&(t=0)),null!=$(this).attr("data-pafe-form-builder-date-range-days")&&(t=$(this).attr("data-pafe-form-builder-date-range-days"));a=$(document).find('[data-pafe-form-builder-repeater-form-id="'+h.data("pafe-form-builder-repeater-form-id")+'"]'),a=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-a.index();0<$(this).closest("[data-pafe-form-builder-conditional-logic]").length&&"none"==$(this).closest(".elementor-element").css("display")&&(t=0),T["pafe_"+n+"_piotnetpafe"+a+"x"]=parseFloatWithRemoveSepChar(t,u,c)})),-1!==n.indexOf("[]")){n=n.replace("[]","");var s=$(document).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+n+'][]"]'),b=$(document).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+n+'][]"]').attr("type");if($repeater_field=$(this).closest("[data-pafe-form-builder-repeater-id]"),1==s.length||1<s.length&&0==$repeater_field.length){var g=[];"checkbox"==b?$(document).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+n+'][]"]:checked').each(function(e,a){null!=$(this).attr("data-pafe-form-builder-form-booking-price")?g.push($(this).attr("data-pafe-form-builder-form-booking-price")):g.push($(this).val())}):null==(g=s.val())&&(g=[]);for(var v=0,_=0;_<g.length;_++)f=parseFloatWithRemoveSepChar(g[_],u,c),isNaN(f)&&(f=0),v+=f;0<s.closest("[data-pafe-form-builder-conditional-logic]").length&&s.closest(".elementor-element").hasClass("pafe-form-builder-conditional-logic-hidden")&&(void(v=0)!==(d=s.attr("data-pafe-form-builder-image-select"))&&!1!==d&&s.imagepicker({show_label:!0})),T[n]=v}0<$repeater_field.length&&(1<s.length||1==s.length&&$repeater_field.length)&&(s=$repeater_field.find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+n+'][]"]')).each(function(){b=$(document).find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+n+'][]"]').attr("type");var t=[];"checkbox"==b?$repeater_field.find('[data-pafe-form-builder-form-id="'+m+'"][name="form_fields['+n+'][]"]:checked').each(function(e,a){t.push($(this).val())}):null==(t=s.val())&&(t=[]);for(var e=v=0;e<t.length;e++)f=parseFloatWithRemoveSepChar(t[e],u,c),isNaN(f)&&(f=0),v+=f;var a=$(document).find('[data-pafe-form-builder-repeater-form-id="'+h.data("pafe-form-builder-repeater-form-id")+'"]'),a=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-a.index();0<$(this).closest("[data-pafe-form-builder-conditional-logic]").length&&"none"==$(this).closest(".elementor-element").css("display")&&(v=0),T["pafe_"+n+"_piotnetpafe"+a+"x"]=v})}}}var k,y=$(document).find('[data-pafe-form-builder-repeater-form-id="'+m+'"]'),C=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-y.index();if(0<y.length){var w;window;for(N in T)0==N.indexOf("piotnet_")&&(T[N]=0);for(N in T)0==N.indexOf("pafe_")&&(w=N.split("_piotnetpafe")[0].replace("pafe_","piotnet_"),null==T[w]&&(T[w]=0),T[w]+=T[N]);for(N in T)0==N.indexOf("piotnet_")&&(w=N.replace("piotnet_",""),T[w]=T[N])}if(null!=(k=t.match(/\"(.*?)\"/g)))for(l=0;l<k.length;l++){var F,x,D,n=k[l].replace('"',"").replace('"',"");$fieldCalc=$(document).find('[data-pafe-form-builder-repeater-id] [data-pafe-form-builder-calculated-fields][name="form_fields['+n+']"]'),0<$fieldCalc.length&&(fieldCalcTotal=0,F=[],$fieldCalc.each(function(){var e=$(this).closest('[data-pafe-form-builder-repeater-form-id="'+m+'"]').attr("data-pafe-form-builder-repeater-number");F.indexOf(e)<0&&(F.push(e),fieldCalcTotal+=parseFloatWithRemoveSepChar($(this).val(),u,c))}),x=n,D=new RegExp(x,"g"),t=t.replace(D,fieldCalcTotal))}if(0<y.length)for(var N in T)0==N.indexOf("pafe_")&&-1!==N.indexOf("_piotnetpafe"+C+"x")&&(x=N.split("_piotnetpafe")[0].split("pafe_")[1],D=new RegExp(x,"g"),t=t.replace(D,N));if(null!=k)for(l=0;l<k.length;l++){n=k[l].replace('"',"").replace('"',"");null==T[n]&&(T[n]=0)}var S=evalWithVariables(t=t.replace(/\[field id=/g,"").replace(/\"]/g,"").replace(/\"/g,"").replace(/--/g,"+"),T);if(null!=$(this).attr("data-pafe-form-builder-calculated-fields-coupon-code")){y=$(document).find('[name="form_fields['+$(this).attr("data-pafe-form-builder-calculated-fields-coupon-code").replace('[field id="',"").replace('"]',"")+']"]');if(0<y.length){var I=y.eq(0),y=I.attr("data-pafe-coupon-code-list");void 0===y&&(y="[]");for(var O=JSON.parse(y),L=0;L<O.length;L++){var R=O[L];I.val()==R.pafe_coupon_code&&("percentage"==R.pafe_coupon_code_discount_type&&(S*=parseFloat((100-R.pafe_coupon_code_coupon_amount)/100)),"flat_amount"==R.pafe_coupon_code_discount_type&&(S-=parseFloat(R.pafe_coupon_code_coupon_amount)))}}}isNaN(S)||(e.find(".pafe-calculated-fields-form__value").html(round(S,i,c,u,r).replace("NaN",0)),e=a.val(),r=roundValue(S,i,r),a.val(r),e!==a.val()&&(0<a.closest(".pafe-form-builder-conditional-logic-hidden").length&&""==e||a.change(),pafeCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))))})}function generateRandomString(e){for(var a="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=t.length,r=0;r<e;r++)a+=t.charAt(Math.floor(Math.random()*i));return a}function checkIsMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)}function isValidJSONString(e){try{JSON.parse(e)}catch(e){return}return 1}function setFieldValue(o,f){var n=o.find("option:first"),p=!1;"radio"!=o.attr("type")&&"checkbox"!=o.attr("type")||(p=!0);var s=o.closest(".elementor-element").find("[data-pafe-form-builder-image-upload]");o.data("pafe-form-builder-default-value");o.each(function(){if(""!=f&&p){for(var e=f.split(","),a=0;a<e.length;a++)e[a]==$(this).val()&&$(this).prop("checked",!0);"unchecked"==f||"checked"==f?"unchecked"==f?$(this).prop("checked",!1):$(this).prop("checked",!0):f==$(this).val()&&$(this).prop("checked",!0)}var t,i;if(""==f||p||0!=n.length||($(this).hasClass("elementor-date-field")&&0!=o.closest(".elementor-section").find("[data-pafe-form-builder-submit-update-user-profile]").length?$(this).attr("data-pafe-form-builder-value",f):$(this).val(f)),0!=n.length&&(t=$(this).find("option"),i=$(this),t.each(function(){$(this).attr("value")!=f&&$(this).html()!=f||(i.val($(this).attr("value")),null!=i.data("picker")&&i.data("picker").sync_picker_with_select())})),0!=s.length&&""!=f&&null!=f){var r,l=f.split(","),d=$(this).closest(".elementor-element").find("[data-pafe-form-builder-image-upload-label]");for(r in null==d.attr("multiple")&&d.addClass("pafe-form-builder-image-upload-label-hidden"),l)d.before('<div class="pafe-form-builder-image-upload-placeholder pafe-form-builder-image-upload-uploaded" style="background-image:url('+l[r]+')" data-pafe-form-builder-image-upload-placeholder=""><input type="text" style="display:none;" data-pafe-form-builder-image-upload-item value="'+l[r]+'"><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--remove" data-pafe-form-builder-image-upload-button-remove><i class="fa fa-times" aria-hidden="true"></i></span><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--uploading" data-pafe-form-builder-image-upload-button-uploading><i class="fa fa-spinner fa-spin"></i></span></div>')}$(this).change()})}function reInitFieldRepeater(e){e.attr("data-pafe-form-builder-repeater-number",generateRandomString(8));var a=e.find("[data-pafe-form-builder-image-upload]");0<a.length&&a.each(function(){$imageUploadedFieldWidget=$(this).closest(".elementor-element"),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-placeholder]").remove(),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-label]").show(0),$imageUploadedFieldWidget.find("[data-pafe-form-builder-form-id]").val("")});a=e.find("[data-pafe-form-builder-image-select]");0<a.length&&a.each(function(){$(this).closest(".elementor-field").find(".image_picker_selector").remove();var i=$(this).data("pafe-form-builder-image-select"),r=$(this).find("option");$(this).closest(".elementor-field").addClass("pafe-image-select-field");var l=$(this);r.each(function(e,a){var t;""==r.eq(0).attr("value").trim()&&0!=e&&(t=i[e-1].url,$(this).html(),$(this).attr("data-img-src",t),l.imagepicker({show_label:!0})),""!=r.eq(0).attr("value").trim()&&(t=i[e].url,$(this).html(),$(this).attr("data-img-src",t),l.imagepicker({show_label:!0}))})});a=e.find("[data-pafe-form-builder-spiner] .nice-number");0<a.length&&a.each(function(){var e=$(this).closest("[data-pafe-form-builder-spiner]"),a=$(this).find(".elementor-field").prop("outerHTML");$(this).after(a),$(this).remove(),e.find(".elementor-field").niceNumber({autoSize:!1})});a=e.find("[data-pafe-form-builder-repeater-id]");0<a.length&&a.each(function(){var e=$(this).data("pafe-form-builder-repeater-id");$(this).siblings('[data-pafe-form-builder-repeater-id="'+e+'"]').remove()}),e.find("[data-mask]").each(function(){$(this).mask($(this).attr("data-mask"))}),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),a=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(a=!0);var t=$(this).data("pafe-form-builder-default-value");null!=t&&""!=t||Number.isInteger(t)?$(this).val(t).change():0!=e.length?$(this).val(e.val()).change():a?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")});a=e.find("[data-pafe-form-builder-select-autocomplete]");0<a.length&&a.each(function(){for(var e=JSON.parse($(this).attr("data-options")),a="",t=0;t<e.length;t++){var i=e[t];0<=i.indexOf("|")?a+='<option value="'+(i=i.split("|"))[0]+'">'+i[1]+"</option>":a+='<option value="'+i+'">'+i+"</option>"}$(this).html(a),$(this).closest(".elementor-field").find(".selectize-control").remove(),$(this).selectize({dropdownParent:"body"})});a=e.find(".elementor-date-field");0<a.length&&a.each(function(){var e,a;(e=$(this)).hasClass("elementor-use-native")||(a={minDate:$(e).attr("min")?flatpickr.parseDate($(e).attr("min"),"Y-m-d"):null,maxDate:$(e).attr("max")?flatpickr.parseDate($(e).attr("max"),"Y-m-d"):null,dateFormat:e.attr("data-date-format")||null,defaultDate:e.attr("data-pafe-form-builder-value")||null,allowInput:!0},e.flatpickr(a))});e=e.find(".elementor-time-field");0<e.length&&e.each(function(){var e;(e=$(this)).hasClass("elementor-use-native")||e.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,defaultDate:e.attr("data-pafe-form-builder-value")||null})})}function pafeRepeaterFillValue(){$("[data-pafe-form-builder-repeater-value]").each(function(){var e=JSON.parse($(this).html().trim()),a=$(this).data("pafe-form-builder-repeater-value-form-id"),t=$(this).data("pafe-form-builder-repeater-value-id"),i=$(document).find('[data-pafe-form-builder-repeater-form-id="'+a+'"][data-pafe-form-builder-repeater-id="'+t+'"]');if(!window["pafeRepeaterFillValue"+t]&&(window["pafeRepeaterFillValue"+t]=!0,2<=e.length&&$('[data-pafe-form-builder-repeater-form-id] [data-pafe-form-builder-repeater-trigger-action="remove"]').show(),0<i.length)){0<$(this).closest("[data-pafe-form-builder-repeater-form-id]").length&&(i=$(this).closest("[data-pafe-form-builder-repeater-form-id]").find('[data-pafe-form-builder-repeater-form-id="'+a+'"][data-pafe-form-builder-repeater-id="'+t+'"]'));for(var r,l=0;l<e.length-1;l++)i.eq(0).after(i.eq(0).prop("outerHTML"));for(r in(i=$(document).find('[data-pafe-form-builder-repeater-form-id="'+a+'"][data-pafe-form-builder-repeater-id="'+t+'"]')).each(function(e,a){0!=e&&reInitFieldRepeater($(this))}),i=$(document).find('[data-pafe-form-builder-repeater-form-id="'+a+'"][data-pafe-form-builder-repeater-id="'+t+'"]'),e){var d,o=e[r];for(d in o)if("object"!=typeof o[d])setFieldValue(i.eq(r).find('[name^="form_fields['+d+']"]'),o[d]);else{for(var f=i.eq(r).find('[data-pafe-form-builder-repeater-form-id="'+a+'"][data-pafe-form-builder-repeater-id="'+d+'"]'),l=0;l<o[d].length-1;l++)f.eq(0).after(f.eq(0).prop("outerHTML"));(f=i.eq(r).find('[data-pafe-form-builder-repeater-form-id="'+a+'"][data-pafe-form-builder-repeater-id="'+d+'"]')).each(function(e,a){0!=e&&reInitFieldRepeater($(this))});var n,p=o[d];for(n in p)for(var s in p[n])"object"!=typeof p[n][s]&&setFieldValue(f.eq(n).find('[name^="form_fields['+s+']"]'),p[n][s])}}t=i.find("[data-pafe-form-builder-conditional-logic]");0<t.length&&pafeConditionalLogicFormCheck(t),pafeCalculatedFieldsForm(""),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+a+'"]').change()}})}function bookingLoad(e){var a,t=e.val(),i=e.attr("data-pafe-form-builder-form-id"),r=$(document).find('[data-pafe-form-booking-item][data-pafe-form-builder-form-id="'+i+'"]');0<r.length&&((a=(r=r.eq(0)).closest("[data-pafe-form-booking]")).addClass("pafe-form-booking--loading"),e=JSON.parse(r.attr("data-pafe-form-booking-item-options")),i={action:"pafe_form_booking",date:t,post_id:0<r.closest("[data-pafe-form-builder-step-item-id]").length?r.closest("[data-pafe-form-builder-step-item-id]").attr("data-pafe-form-builder-step-item-id"):0<r.closest("[data-elementor-id]").length?r.closest("[data-elementor-id]").attr("data-elementor-id"):e.pafe_form_booking_post_id,element_id:e.pafe_form_booking_element_id,form_booking:a.attr("data-pafe-form-booking"),form_id:i},$.post($("[data-pafe-ajax-url]").data("pafe-ajax-url"),i,function(e){a.html(e),pafeCalculatedFieldsForm(""),a.removeClass("pafe-form-booking--loading")}))}function bookingItemLoad(){$(document).find("[data-pafe-form-booking]").each(function(){var e,a=$(this).find("[data-pafe-form-booking-item]").eq(0),t=JSON.parse(a.attr("data-pafe-form-booking-item-options")),i=JSON.parse($(this).attr("data-pafe-form-booking")).pafe_form_booking_form_id,r=a.closest("[data-pafe-form-booking]");void 0!==t.pafe_form_booking_date_field?(e="#form-field-"+t.pafe_form_booking_date_field.replace('[field id="',"").replace('"]',""),(e=$(document).find(e+'[data-pafe-form-builder-form-id="'+i+'"]')).addClass("pafe-form-booking-date"),bookingLoad(e)):(i=t.pafe_form_booking_date,e=a.attr("data-pafe-form-builder-form-id"),t=t,e={action:"pafe_form_booking",date:i,post_id:0<a.closest("[data-pafe-form-builder-step-item-id]").length?a.closest("[data-pafe-form-builder-step-item-id]").attr("data-pafe-form-builder-step-item-id"):0<a.closest("[data-elementor-id]").length?a.closest("[data-elementor-id]").attr("data-elementor-id"):t.pafe_form_booking_post_id,element_id:t.pafe_form_booking_element_id,form_booking:r.attr("data-pafe-form-booking"),form_id:e},$.post($("[data-pafe-ajax-url]").data("pafe-ajax-url"),e,function(e){r.html(e),pafeCalculatedFieldsForm(""),r.removeClass("pafe-form-booking--loading")}))})}function paymentMethodsSelectField(){$("[data-pafe-form-builder-payment-methods-select-field]").each(function(){var e=$(this).attr("type"),a=$(this).attr("data-pafe-form-builder-form-id"),a=$(document).find('[data-pafe-form-builder-submit-form-id="'+a+'"]');(e="radio"==e||"checkbox"==e?$(this).closest(".elementor-element").find("input:checked").val():$(this).val().trim())!=$(this).attr("data-pafe-form-builder-payment-methods-select-field-value-for-stripe")?void 0!==a.attr("data-pafe-form-builder-stripe-currency")&&a.removeAttr("data-pafe-form-builder-stripe-submit"):void 0!==a.attr("data-pafe-form-builder-stripe-currency")&&a.attr("data-pafe-form-builder-stripe-submit",""),e!=$(this).attr("data-pafe-form-builder-payment-methods-select-field-value-for-paypal")?void 0!==a.attr("data-pafe-form-builder-paypal-submit-enable")&&(a.removeAttr("data-pafe-form-builder-paypal-submit"),a.closest(".elementor-element").find(".pafe-form-builder-paypal").hide()):void 0!==a.attr("data-pafe-form-builder-paypal-submit-enable")&&(a.attr("data-pafe-form-builder-paypal-submit",""),a.closest(".elementor-element").find(".pafe-form-builder-paypal").show())})}$(document).on("click","[data-pafe-form-builder-trigger-success]",function(){var e;0!=$(this).closest(".elementor-element").find("[data-pafe-form-builder-submit-update-user-profile]").length||0<(e=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]")).length&&pafeConditionalLogicFormCheck(e),0!==$('[data-pafe-submit-hide="true"]').length&&$(".pafe-form-builder-button").hide()}),pafeScanConditionalLogic(),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(200,function(){pafeScanConditionalLogic();var e=$(document).find("[data-piotnetgrid-grid-carousel]");0<e.length&&e.trigger("grid_carousels")})),$(document).on("elementor/popup/show",function(e,a,t){pafeScanConditionalLogic()}),pafeCalculatedFieldsForm(""),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(200,function(){pafeCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))})),$('[data-pafe-form-builder-form-id][type="hidden"]').each(function(){$(this).closest(".elementor-widget-pafe-form-builder-field").addClass("elementor-widget-pafe-form-builder-field-hidden")}),$(document).on("click","[data-pafe-form-builder-repeater-form-id-trigger]",function(e){e.preventDefault();var formID=$(this).data("pafe-form-builder-repeater-form-id-trigger"),repeaterID=$(this).data("pafe-form-builder-repeater-id-trigger"),repeaterTriggerAction=$(this).data("pafe-form-builder-repeater-trigger-action"),$repeater=$(document).find('[data-pafe-form-builder-repeater-form-id="'+formID+'"][data-pafe-form-builder-repeater-id="'+repeaterID+'"]'),$repeaterParent,$conditionals;if("add"==repeaterTriggerAction){if($(document).find('[data-pafe-form-builder-repeater-id="'+repeaterID+'"] [data-pafe-form-builder-repeater-trigger-action="remove"]').show(),0<$repeater.length){0<$(this).closest("[data-pafe-form-builder-repeater-form-id]").length&&($repeater=$(this).closest("[data-pafe-form-builder-repeater-form-id]").find('[data-pafe-form-builder-repeater-form-id="'+formID+'"][data-pafe-form-builder-repeater-id="'+repeaterID+'"]'));var repeaterLimit=$repeater.eq(0).attr("data-pafe-form-builder-repeater-limit");if(0==repeaterLimit||0<repeaterLimit&&$repeater.eq($repeater.length-1).siblings('[data-pafe-form-builder-repeater-id="'+repeaterID+'"]').length<repeaterLimit-1){$repeater.eq($repeater.length-1).siblings('[data-pafe-form-builder-repeater-id="'+repeaterID+'"]').length==repeaterLimit-2&&$(this).hide(),$repeater.eq($repeater.length-1).after($repeater.eq(0).prop("outerHTML"));var $repeaterNew=$repeater.eq($repeater.length-1).next();$repeaterNew.attr("data-pafe-form-builder-repeater-number",generateRandomString(8));var $radioField=$repeaterNew.find('input[type="radio"]');$radioField.each(function(e,a){var t=$(this).attr("id");$(this).attr("id",t+$repeater.length+e),$(this).siblings("label").attr("for",t+$repeater.length+e)});var $checkboxField=$repeaterNew.find('input[type="checkbox"]');$checkboxField.each(function(e,a){var t=$(this).attr("id");$(this).attr("id",t+$repeater.length+e),$(this).siblings("label").attr("for",t+$repeater.length+e)});var $mapAddress=$repeaterNew.find("[data-pafe-form-builder-address-autocomplete]");0<$mapAddress.length&&pafeAddressAutocompleteInitMap();var $conditionals=$repeaterNew.find("[data-pafe-form-builder-conditional-logic]");0<$conditionals.length&&pafeConditionalLogicFormCheck($conditionals),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+formID+'"]').change();var $imageUploadField=$repeaterNew.find("[data-pafe-form-builder-image-upload]");0<$imageUploadField.length&&$imageUploadField.each(function(){$imageUploadedFieldWidget=$(this).closest(".elementor-element"),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-placeholder]").remove(),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-label]").show(0),$imageUploadedFieldWidget.find("[data-pafe-form-builder-form-id]").val("")}),$repeaterNew.find("[data-mask]").each(function(){$(this).mask($(this).attr("data-mask"))});var $imageSelect=$repeaterNew.find("[data-pafe-form-builder-image-select]");0<$imageSelect.length&&$imageSelect.each(function(){$(this).closest(".elementor-field").find(".image_picker_selector").remove();var i=$(this).data("pafe-form-builder-image-select"),r=$(this).find("option");$(this).closest(".elementor-field").addClass("pafe-image-select-field");var l=$(this);r.each(function(e,a){var t;""==r.eq(0).attr("value").trim()&&0!=e&&(t=i[e-1].url,$(this).html(),$(this).attr("data-img-src",t),l.imagepicker({show_label:!0})),""!=r.eq(0).attr("value").trim()&&(t=i[e].url,$(this).html(),$(this).attr("data-img-src",t),l.imagepicker({show_label:!0}))})});var $signature=$repeaterNew.find("[data-pafe-signature] canvas");$signature.length&&$.each($signature,function(e,a){var t,i=new SignaturePad(a,{onEnd:function(){t=i.toDataURL("image/png")}}),r=$(a).closest("[data-pafe-signature]"),l=r.find("[data-pafe-signature-clear]"),d=r.find("[data-pafe-signature-export]");l.click(function(){i.clear(),t=i.toDataURL("image/png")}),d.click(function(){var e;i.isEmpty()?r.find(".elementor-field").val(""):(e=i.toDataURL(),r.find(".elementor-field").val(e))}),window.addEventListener("resize",function(){var e=Math.max(window.devicePixelRatio||1,1);a.width=a.offsetWidth*e,a.height=a.offsetHeight*e,a.getContext("2d").scale(e,e),i.fromDataURL(t)})});var $rangeSlider=$repeaterNew.find("[data-pafe-form-builder-range-slider]");0<$rangeSlider.length&&$rangeSlider.each(function(){$(this).closest(".elementor-element").find(".irs").remove();for(var e={},a=$(this).data("pafe-form-builder-range-slider").split(","),t=0;t<a.length;t++){var i,r=a[t].trim().split(":");null!=r[0]&&null!=r[1]&&(i=r[1].trim().replace('"',"").replace('"',""),e[r[0]]="false"==i||"true"==i?"false"!=i:i)}e.onStart=function(e){},$(this).ionRangeSlider(e),$(this).addClass("irs-hidden-input")});var $niceNumber=$repeaterNew.find("[data-pafe-form-builder-spiner] .nice-number");0<$niceNumber.length&&$niceNumber.each(function(){var e=$(this).closest("[data-pafe-form-builder-spiner]"),a=$(this).find(".elementor-field").prop("outerHTML");$(this).after(a),$(this).remove(),e.find(".elementor-field").niceNumber({autoSize:!1})});var $repeaterSub=$repeaterNew.find("[data-pafe-form-builder-repeater-id]");0<$repeaterSub.length&&(pafeConditionalLogicFormCheck($repeaterSub),$repeaterSub.each(function(){var e=$(this).data("pafe-form-builder-repeater-id");$(this).siblings('[data-pafe-form-builder-repeater-id="'+e+'"]').remove()}));var $fieldsInside=$repeaterNew.find("[data-pafe-form-builder-form-id]");$fieldsInside.each(function(){var e=$(this).find("option:first"),a=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(a=!0);var t=$(this).data("pafe-form-builder-default-value");null!=t&&""!=t||Number.isInteger(t)?(a&&(t=$(this).attr("data-value")),$(this).val(t).change()):0!=e.length?$(this).val(e.val()).change():a?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")});var $selectAutocomplete=$repeaterNew.find("[data-pafe-form-builder-select-autocomplete]");0<$selectAutocomplete.length&&$selectAutocomplete.each(function(){for(var e=JSON.parse($(this).attr("data-options")),a="",t=0;t<e.length;t++){var i=e[t];0<=i.indexOf("|")?a+='<option value="'+(i=i.split("|"))[1]+'">'+i[0]+"</option>":a+='<option value="'+i+'">'+i+"</option>"}$(this).html(a),$(this).closest(".elementor-field").find(".selectize-control").remove(),$(this).selectize({dropdownParent:"body"})});var $dateField=$repeaterNew.find(".elementor-date-field"),addDatePicker;0<$dateField.length&&!checkIsMobile()&&(addDatePicker=function addDatePicker($element){var minDate,maxDate,options,options;$element.hasClass("elementor-use-native")||(minDate=$($element).attr("min")?flatpickr.parseDate($($element).attr("min"),"Y-m-d"):null,maxDate=$($element).attr("max")?flatpickr.parseDate($($element).attr("max"),"Y-m-d"):null,options={minDate:minDate,maxDate:maxDate,dateFormat:$element.attr("data-date-format")||null,defaultDate:$element.attr("data-pafe-form-builder-value")||null,allowInput:!0,animate:!1,onReady:function(e){e=parseInt(e[0]/864e5,10);$element.attr("data-pafe-form-builder-date-calculate",e)},onChange:function(e){e=parseInt(e[0]/864e5,10);$element.attr("data-pafe-form-builder-date-calculate",e)}},null!=$element.data("pafe-form-builder-date-range")&&(options={minDate:minDate,maxDate:maxDate,dateFormat:$element.attr("data-date-format")||null,defaultDate:$element.attr("data-pafe-form-builder-value")||null,allowInput:!0,animate:!1,onChange:function(date){var startDay=flatpickr.formatDate(date[0],"m/d/Y"),endDay=flatpickr.formatDate(date[1],"m/d/Y"),newStartDate=new Date(startDay).getTime(),newEndDate=new Date(endDay).getTime(),newStartDate=eval(newStartDate/1e3+3600),newEndDate=eval(newEndDate/1e3+3600),countDays=eval(newEndDate-newStartDate),countDays=eval(countDays/86400+1);$element.attr("data-pafe-form-builder-date-range-days",countDays)},mode:"range"}),"english"!=$element.data("pafe-form-builder-date-language")&&(options.locale=$element.attr("data-pafe-form-builder-date-language")),$element.hasClass("flatpickr-custom-options")&&(options=isValidJSONString($element.attr("data-pafe-flatpickr-custom-options"))?JSON.parse($element.attr("data-pafe-flatpickr-custom-options")):$element.attr("data-pafe-flatpickr-custom-options")),$element.flatpickr(options))},$dateField.each(function(){addDatePicker($(this))}));let $pafeTelField=$(document).find("[data-pafe-tel-field]");if(0<$pafeTelField.length){let data={action:"pafe_get_country_code"};$.post($("[data-pafe-ajax-url]").data("pafe-ajax-url"),data,function(e){e&&pafeIntlTelInput(e)})}function pafeIntlTelInput(e){$pafeTelField.each(function(){$(this).intlTelInput({autoHideDialCode:!0,autoPlaceholder:"ON",dropdownContainer:document.body,formatOnDisplay:!0,hiddenInput:"full_number",initialCountry:e,nationalMode:!0,separateDialCode:!0,utilsScript:""})}),"rtl"==$("html").attr("dir")&&$("body").addClass("iti-rtl")}var $timeField=$repeaterNew.find(".elementor-time-field"),addTimePicker;0<$timeField.length&&!checkIsMobile()&&(addTimePicker=function(a){a.hasClass("elementor-use-native")||a.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,defaultDate:a.attr("data-pafe-form-builder-value")||null,onReady:function(e){0<e.length?(e=parseInt(e[0].getHours())+parseInt(e[0].getMinutes())/60,a.attr("data-pafe-form-builder-time-calculate",e)):a.attr("data-pafe-form-builder-time-calculate",0)},onChange:function(e){e=parseInt(e[0].getHours())+parseInt(e[0].getMinutes())/60;a.attr("data-pafe-form-builder-time-calculate",e)}})},$timeField.each(function(){addTimePicker($(this))}))}}}else $(document).find('[data-pafe-form-builder-repeater-id-trigger="'+repeaterID+'"]').show(),2==$repeater.length&&$(document).find('[data-pafe-form-builder-repeater-id="'+repeaterID+'"] [data-pafe-form-builder-repeater-trigger-action="'+repeaterTriggerAction+'"]').hide(),1<$repeater.length&&($repeaterParent=$(this).closest('[data-pafe-form-builder-repeater-form-id="'+formID+'"]'),0<$repeaterParent.siblings('[data-pafe-form-builder-repeater-form-id="'+formID+'"]').length&&$(this).closest('[data-pafe-form-builder-repeater-form-id="'+formID+'"]').remove(),$conditionals=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]"),0<$conditionals.length&&pafeConditionalLogicFormCheck($conditionals),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+formID+'"]').change(),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-form-id="'+formID+'"]').change(),pafeCalculatedFieldsForm(""))}),$("[data-pafe-form-builder-repeater-id]").each(function(){var e=$(this).data("pafe-form-builder-repeater-form-id"),a="pafe-end-repeater"+$(this).data("pafe-form-builder-repeater-id");$(this).after('<div class="elementor-element elementor-element-7d558e4 elementor-widget elementor-widget-pafe-form-builder-field elementor-widget-pafe-form-builder-field-hidden" data-element_type="widget" data-widget_type="pafe-form-builder-field.default" style="opacity: 0.45;"><div class="elementor-widget-container"><div class="elementor-form-fields-wrapper elementor-labels-above"><div class="elementor-field-type-hidden elementor-field-group elementor-column elementor-field-group-'+a+' elementor-col-100"><div data-pafe-form-builder-required=""></div><input size="1" class="elementor-field elementor-size- " type="hidden" name="form_fields['+a+']" id="form-field-'+a+'" autocomplete="on" data-pafe-form-builder-default-value="" value="" data-pafe-form-builder-value="" data-pafe-form-builder-form-id="'+e+'"></div></div></div></div>')}),$('[data-pafe-form-builder-repeater-form-id] [data-pafe-form-builder-repeater-trigger-action="remove"]').hide(),setTimeout(pafeRepeaterFillValue(),1e3),bookingItemLoad(),$(document).on("elementor/popup/show",function(e,a,t){bookingItemLoad()}),$(document).on("change",".pafe-form-booking-date",function(){bookingLoad($(this))}),$(document).on("change","[data-pafe-form-booking-item]",function(){var e,a;$(this).is(":checked")?($(this).closest(".pafe-form-booking__item").addClass("active"),null!=$(this).attr("data-pafe-form-booking-item-radio")&&((e=$(this).closest(".pafe-form-booking__item").siblings()).find("input").prop("checked",!1),e.removeClass("active"),void 0!==(a=JSON.parse($(this).attr("data-pafe-form-booking-item-options"))).pafe_form_booking_slot_quantity_field&&(e="#form-field-"+a.pafe_form_booking_slot_quantity_field.replace('[field id="',"").replace('"]',""),a=$(this).attr("data-pafe-form-builder-form-booking-availble"),$(e).attr("max",a)))):$(this).closest(".pafe-form-booking__item").removeClass("active")}),$(document).on("click","[data-pafe-form-builder-trigger-success],[data-pafe-form-builder-trigger-failed]",function(){bookingItemLoad()}),$("[data-pafe-form-builder-submit-update-user-profile]").each(function(){for(var e=$(this).attr("data-pafe-form-builder-submit-form-id"),a=JSON.parse($(this).attr("data-pafe-form-builder-submit-update-user-profile")),t=0;t<a.length;t++)setFieldValue($(document).find('[data-pafe-form-builder-form-id="'+e+'"][name^="form_fields['+a[t].field_id+']"]'),a[t].user_meta_value)}),paymentMethodsSelectField(),$(document).on("change","[data-pafe-form-builder-payment-methods-select-field]",function(){paymentMethodsSelectField()})});