const BoxOffice=function(){const a=document.querySelector("#ticket-scan-form form"),b=document.getElementById("ticket-scan-loader"),c=document.querySelector("#ticket-scan-form input#scan-code"),d=document.getElementById("ticket-scan-result");c instanceof Element&&c.focus(),a instanceof Element&&a.addEventListener("submit",a=>{a.preventDefault(),b.style.display="block",d.innerHTML="";const e=document.querySelector("#ticket-scan-form #scan-action").value,f=new XMLHttpRequest;f.open("POST",wc_box_office.ajaxurl,!0),f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE&&200===this.status){if(c instanceof Element&&c.focus(),!f.response)return;b.style.display="none",d.innerHTML=f.response,c.value=""}},f.send(encodeURI("action=scan_ticket&barcode_input="+c.value+"&scan_action="+e+"&woocommerce_box_office_scan_nonce="+wc_box_office.scan_nonce))}),null!==typeof onScan&&"undefined"!=typeof onScan&&onScan.attachTo(document,{reactToPaste:!1,onScan:function(){a.dispatchEvent(new Event("submit"))}})};window.onload=BoxOffice;