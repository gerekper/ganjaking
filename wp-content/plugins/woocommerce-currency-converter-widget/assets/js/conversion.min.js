jQuery(document).ready(function(r){var e,a=fx.noConflict(),t=wc_currency_converter_params.current_currency,n=JSON.parse(wc_currency_converter_params.currencies),o=wc_currency_converter_params.currency_pos,_=wc_currency_converter_params.num_decimals,u=wc_currency_converter_params.trim_zeros,s=wc_currency_converter_params.locale_info;function p(r,e){return r.rates[e]||(r.rates[e]=parseFloat(wc_currency_converter_params.currency_rate_default)),r}function c(e){wc_currency_converter_params.symbol_positions[e]&&(o=wc_currency_converter_params.symbol_positions[e]),a=p(a,e);var c=wc_currency_converter_params.thousand_sep,i=wc_currency_converter_params.decimal_sep;for(const r in s)if(t===s[r].currency_code){c=s[r].thousand_sep,i=s[r].decimal_sep;break}jQuery("span.amount, span.wc-block-formatted-money-amount").each(function(){var r=jQuery(this).attr("data-original");void 0!==r&&0!=r||jQuery(this).attr("data-original",jQuery(this).html());r=jQuery(this).attr("data-price");void 0!==r&&0!=r||(r=jQuery(this).html(),jQuery("<del></del>"+r).find("del").remove(),r=(r=(r=(r=r.replace(wc_currency_converter_params.currency_format_symbol,"")).split(wc_currency_converter_params.thousand_sep).join("")).replace(wc_currency_converter_params.decimal_sep,".")).replace(/[^0-9\.]/g,""),r=parseFloat(r),jQuery(this).attr("data-price",r)),price=a(r).from(a.settings.from).to(e),price=price.toFixed(_),price=accounting.formatNumber(price,_,c,i),u&&(price=price.replace(wc_currency_converter_params.zero_replace,"")),n[e]?"left"==o?jQuery(this).html(n[e]+price):"right"==o?jQuery(this).html(price+""+n[e]):"left_space"==o?jQuery(this).html(n[e]+" "+price):"right_space"==o&&jQuery(this).html(price+" "+n[e]):jQuery(this).html(price+" "+e),jQuery(this).attr("title",wc_currency_converter_params.i18n_oprice+r)}),jQuery("#shipping_method option").each(function(){var r=jQuery(this).attr("data-original");void 0!==r&&0!=r||(r=jQuery(this).text(),jQuery(this).attr("data-original",r));(r=r.split(":"))[1]&&""!=r[1]&&(price=r[1],price&&(price=price.replace(wc_currency_converter_params.currency_format_symbol,""),price=price.split(wc_currency_converter_params.thousand_sep).join(""),price=price.replace(wc_currency_converter_params.decimal_sep,"."),price=price.replace(/[^0-9\.]/g,""),price=parseFloat(price),price=a(price).to(e),price=price.toFixed(_),price=accounting.formatNumber(price,_,c,i),u&&(price=price.replace(wc_currency_converter_params.zero_replace,"")),jQuery(this).html(r[0]+": "+price+" "+e)))}),l(e),jQuery("body").trigger("currency_converter_switch",[e]),jQuery("ul.currency_switcher li a").removeClass("active"),jQuery('ul.currency_switcher li a[data-currencycode="'+t+'"]').addClass("active"),jQuery("select.currency_switcher").val(t)}function l(r){r&&jQuery(".ui-slider").each(function(){theslider=jQuery(this),values=theslider.slider("values"),original_price=""+values[1],original_price=original_price.replace(wc_currency_converter_params.currency_format_symbol,""),original_price=original_price.split(wc_currency_converter_params.thousand_sep).join(""),original_price=original_price.replace(wc_currency_converter_params.decimal_sep,"."),original_price=original_price.replace(/[^0-9\.]/g,""),original_price=parseFloat(original_price),price_max=a(original_price).to(r),original_price=""+values[0],original_price=original_price.replace(wc_currency_converter_params.currency_format_symbol,""),original_price=original_price.split(wc_currency_converter_params.thousand_sep).join(""),original_price=original_price.replace(wc_currency_converter_params.decimal_sep,"."),original_price=original_price.replace(/[^0-9\.]/g,""),original_price=parseFloat(original_price),price_min=a(original_price).to(r),jQuery(".price_slider_amount").find("span.from").html(price_min.toFixed(2)+" "+r),jQuery(".price_slider_amount").find("span.to").html(price_max.toFixed(2)+" "+r)})}a.rates=wc_currency_converter_params.rates,a.base=wc_currency_converter_params.base,a.settings.from=wc_currency_converter_params.currency,a=p(a,wc_currency_converter_params.currency),a=p(a,wc_currency_converter_params.current_currency),"undefined"!=typeof set_initial_currency&&jQuery.cookie("woocommerce_current_currency",set_initial_currency,{expires:7,path:"/"}),"RMB"==a.settings.from&&(a.settings.from="CNY"),jQuery(document).ready(function(r){jQuery("body").on("price_slider_create price_slider_slide price_slider_change",function(){l(t)}),l(t)}),jQuery("body").on("wc_fragments_refreshed wc_fragments_loaded show_variation updated_checkout updated_shipping_method added_to_cart cart_page_refreshed cart_widget_refreshed updated_addons post-load",function(){t&&c(t)}),jQuery(document.body).on("wc_booking_form_changed wc_currency_converter_calculate",function(){t&&c(t)}),t?c(t):(jQuery('ul.currency_switcher li a[data-currencycode="'+wc_currency_converter_params.currency+'"]').addClass("active"),jQuery("select.currency_switcher").val(wc_currency_converter_params.currency)),jQuery(".wp-block-woocommerce-all-products").length&&(e=!0,new MutationObserver(function(r){jQuery(".is-loading").length&&(e=!0),t&&!jQuery(".is-loading").length&&e&&(c(t),e=!1)}).observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0})),jQuery(document.body).on("click","a.wc-currency-converter-reset",function(){return jQuery("span.amount, #shipping_method option, span.wc-block-formatted-money-amount").each(function(){var r=jQuery(this).attr("data-original");void 0!==r&&!1!==r&&jQuery(this).html(r)}),jQuery("ul.currency_switcher li a").removeClass("active"),jQuery('ul.currency_switcher li a[data-currencycode="'+wc_currency_converter_params.currency+'"]').addClass("active"),jQuery("select.currency_switcher").val(wc_currency_converter_params.currency),jQuery.cookie("woocommerce_current_currency","",{expires:7,path:"/"}),t="",jQuery("body").trigger("currency_converter_reset"),jQuery(".price_slider").length&&jQuery("body").trigger("price_slider_slide",[jQuery(".price_slider").slider("values",0),jQuery(".price_slider").slider("values",1)]),!1}).on("click",'ul.currency_switcher li a:not(".reset")',function(){return c(t=jQuery(this).attr("data-currencycode")),jQuery.cookie("woocommerce_current_currency",t,{expires:7,path:"/"}),!1}).on("change","select.currency_switcher",function(){return c(t=jQuery(this).val()),jQuery.cookie("woocommerce_current_currency",t,{expires:7,path:"/"}),!1})});
