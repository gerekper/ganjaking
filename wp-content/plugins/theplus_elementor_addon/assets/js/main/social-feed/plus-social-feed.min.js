(function(){"use strict";var a=function(a,b){function c(){let b=a[0].querySelectorAll(".tp-social-feed .readbtn");0<b.length&&b.forEach(function(a){let b=a.closest(".tp-message").parentElement;b&&b.classList.contains("tp-fcb-contant")?a.addEventListener("click",h):a.addEventListener("click",g)}),(o.ScrollOn||o.FancyScroll)&&!1==o.TextLimit&&f(),d()}function d(){let a=m[0].dataset&&m[0].dataset.fancyOption?JSON.parse(m[0].dataset.fancyOption):"",c=m[0].querySelectorAll(".grid-item.feed-Facebook");0<q.length&&q.forEach(function(c){b().fancybox({selector:`[data-fancybox="${c}"]`,buttons:a.button,image:{preload:0},loop:a.loop,infobar:a.infobar,animationEffect:a.animationEffect,animationDuration:a.animationDuration,transitionEffect:a.transitionEffect,transitionDuration:a.transitionDuration,arrows:a.arrows,clickContent:a.clickContent,clickSlide:a.slideclick,dblclickContent:!1,dblclickSlide:!1,smallBtn:!1,iframe:{preload:0},youtube:{autoplay:0},vimeo:{autoplay:0},mp4:{autoplay:0},video:{autoStart:0},beforeLoad:function(){let a=this;if(!["youtube","vimeo"].includes(a.contentSource)){let c=a&&a.src?document.querySelector(a.src).dataset.fancyfeedtype:"";if("Instagram"==c){let c=b(a.src).find("#IGGP-slider");0<c.length&&(c[0].style.cssText="display: none")}}},afterShow:function(){let a=this;if(!["youtube","vimeo"].includes(a.contentSource)){let c=document.querySelector(a.src).dataset.fancyfeedtype;if("Instagram"==c){let c=b(a.src).find("#IGGP-slider");0<c.length&&(c[0].style.cssText="display: flex",c.slick({speed:1e3,prevArrow:"<a href=\"#\" class=\"slick-prev IGGP-slide-arrow\">&#8249;</a>",nextArrow:"<a href=\"#\" class=\"slick-next IGGP-slide-arrow\">&#8250;</a>"}))}}}})}),0<c.length&&c.forEach(function(c){let d=c.dataset&&c.dataset.index?c.dataset.index:"";0<q.length&&q.forEach(function(c){b().fancybox({selector:`[data-fancybox="album-${d}-${c}"]`,buttons:a.button,image:{preload:!0},loop:a.loop,infobar:a.infobar,animationEffect:a.animationEffect,animationDuration:a.animationDuration,transitionEffect:a.transitionEffect,transitionDuration:a.transitionDuration,arrows:a.arrows,clickContent:a.clickContent,clickSlide:a.slideclick,dblclickContent:!1,dblclickSlide:!1,smallBtn:!1})})})}function e(){let a=this,d=b(this),e=a.dataset.loadattr,f=a.dataset.loadview,g=a.dataset.loadclass,h=a.dataset.layout,i=a.dataset.loadingtxt,n=a.innerHTML;d.data("requestRunning")||(d.data("requestRunning",!0),b.ajax({type:"POST",data:`action=tp_feed_load&view=${u}&feedshow=${f}&loadattr=${e}`,url:theplus_ajax_url,async:!0,beforeSend:function(){a.innerHTML=i},success:function(c){if(""==c)return void a.classList.add("hide");if(c){let d=c,e=d&&d.HTMLContent?d.HTMLContent:"",h=d&&d.totalFeed?d.totalFeed:"",i=d&&d.FilterStyle?d.FilterStyle:"",k=d&&d.allposttext?d.allposttext:"",l=d&&d.maximumposts?d.maximumposts:"",o=m[0].querySelectorAll(".all .all_post_count"),p=m[0].querySelectorAll(".post-inner-loop");0<p.length&&p[0].insertAdjacentHTML("beforeend",e);let q=m[0].querySelectorAll(".grid-item").length;if(0<o.length&&(o[0].innerHTML=+q),"style-2"==i||"style-3"==i){let a="."+g,c=b(a+" .category-filters li .filter-category-list").not(".all");b.each(c,function(c,d){let e=b(d).find("span:nth-child(2)").data("hover"),f=b(a).find(".grid-item."+e).length;b(d).find("span:nth-child(1).all_post_count").html("").append(f)})}+q>=+h?(a.classList.add("hide"),a.parentElement.insertAdjacentHTML("beforeend",`<div class="plus-all-posts-loaded">${k}</div>`)):q>=+l?(a.classList.add("hide"),a.parentElement.insertAdjacentHTML("beforeend",`<div class="plus-all-posts-loaded">${k}</div>`),j(l)):a.innerHTML=n,u=+u+ +f}},complete:function(){c(),k(h,500),l(),d.data("requestRunning",!1)}}))}function f(){let b=a[0].querySelectorAll(".tp-social-feed .tp-message");0<b.length&&b.forEach(function(a){let b=a.parentElement;b&&b.classList.contains("tp-fcb-contant")?o.FancyScroll&&(a.classList.add(o.Fancyclass),a.style.cssText=`height: ${o.FancyHeight}px`):o.ScrollOn&&b.clientHeight>=o.Height&&(a.classList.add(o.className),a.style.cssText=`height: ${o.Height}px`)})}function g(){let a=this,b=a.closest(".tp-message"),c=a.closest(".showtext"),d=p.TextMore,e=p.TextLess;if(b.classList.contains("show-text")){b.classList.remove("show-text"),a.innerHTML=d;let e=b.querySelectorAll(".sf-dots");0<e.length&&(e[0].style.cssText="display: inline"),o.ScrollOn&&o.TextLimit&&(c.classList.remove(o.className),c.removeAttribute("style"))}else{b.classList.add("show-text"),a.innerHTML=e;let d=b.querySelectorAll(".sf-dots");0<d.length&&(d[0].style.cssText="display: none"),o.ScrollOn&&o.TextLimit&&c.clientHeight>=o.Height&&(c.classList.add(o.className),c.style.cssText=`height: ${o.Height}px`)}k("grid",0)}function h(){let a=this,b=a.closest(".tp-message"),c=b.querySelectorAll(".sf-dots"),d=p.TextMore,e=p.TextLess;b.classList.contains("show-text")?(b.classList.remove("show-text"),a.innerHTML=d,0<c.length&&(c[0].style.cssText="display: inline"),o.FancyScroll&&o.TextLimit&&(b.classList.remove(o.Fancyclass),b.removeAttribute("style"))):(b.classList.add("show-text"),a.innerHTML=e,0<c.length&&(c[0].style.cssText="display: none"),o.FancyScroll&&o.TextLimit&&b.clientHeight>=o.FancyHeight&&(b.classList.add(o.Fancyclass),b.style.cssText=`height: ${o.FancyHeight}px`))}function j(a){let b=!1,c=m[0].querySelectorAll(`.grid-item:nth-child(${a})`),d=m[0].querySelectorAll(".grid-item");0<d.length&&0<c.length&&d.forEach(function(a){return b?void(a.style.cssText="display : none"):void(c[0]==a&&(b=!0))})}function k(a,c=500){if("grid"==a||"masonry"==a){let a=m[0].querySelectorAll(`.list-isotope .post-inner-loop`);a.length&&setTimeout(function(){b(a[0]).isotope("reloadItems").isotope()},c)}}function l(){var a=jQuery(".elementor-element[data-tp-equal-height-loadded]");0<a.length&&EqualHeightsLoadded()}let m=a[0].querySelectorAll(".tp-social-feed"),n=m[0].dataset&&m[0].dataset.id?m[0].dataset.id:"",o=m[0].dataset&&m[0].dataset.scrollNormal?JSON.parse(m[0].dataset.scrollNormal):"",p=m[0].dataset&&m[0].dataset.feedData?JSON.parse(m[0].dataset.feedData):"",q=m[0].dataset&&m[0].dataset.ids?JSON.parse(m[0].dataset.ids):[];c();let r=m[0].querySelectorAll(".ajax_load_more .post-load-more");0<r.length&&r[0].addEventListener("click",e);let s=m[0].querySelectorAll(`.ajax_lazy_load`);0<s.length&&function(){var a,d,e,f,g,h,i=b(window),m=function(){a=i.width(),d=i.height(),e=b("body").height(),g=b("."+n+".list-isotope").height(),h=b("."+n+".list-isotope").offset().top+50,setTimeout(function(){g=b("."+n+".list-isotope").height(),h=b("."+n+".list-isotope").offset().top+50},50)};m(),i.resize(m),i.bind("scroll",function(a){a.preventDefault(),m(),f=i.scrollTop(),b("."+n+".list-isotope").each(function(){if(g=b(this).height(),h=b(this).offset().top+50,b(this).find(".post-lazy-load").length&&f<e&&f+60>g+h-d){let a=this,d=b(this).find(".post-lazy-load"),e=d.data("lazyattr"),f=d.data("lazyview"),g=d.data("lazyclass"),h=d.data("lazylayout"),i=d.data("loadingtxt"),m=d.text();if(d.data("requestRunning"))return;d.data("requestRunning",!0),b.ajax({type:"POST",data:`action=tp_feed_load&view=${t}&feedshow=${f}&loadattr=${e}`,async:!0,url:theplus_ajax_url,beforeSend:function(){b(d).text(i)},success:function(a){let c=a,e=c&&c.HTMLContent?c.HTMLContent:"",h=c&&c.totalFeed?c.totalFeed:"",i=c&&c.FilterStyle?c.FilterStyle:"",k=c&&c.maximumposts?c.maximumposts:"",l=c&&c.allposttext?c.allposttext:"";if(""==c)return void b(d).addClass("hide");else{let a="."+g,c=b(a+" .all .all_post_count"),f=b(a+" .post-inner-loop");f.append(e);let n=b(a).find(".grid-item").length;if(b(c).html("").append(n),"style-2"==i||"style-3"==i){let c=b(a+" .category-filters li .filter-category-list").not(".all");b.each(c,function(c,d){let e=b(d).find("span:nth-child(2)").data("hover"),f=b(a).find(".grid-item."+e).length;b(d).find("span:nth-child(1).all_post_count").html("").append(f)})}+n>=+h?0==d.next(".plus-all-posts-loaded").length&&(b(d).addClass("hide"),b(d).parent(".ajax_lazy_load").append("<div class=\"plus-all-posts-loaded\">"+l+"</div>"),b(window).unbind()):n>=+k?(b(d).addClass("hide"),b(d).parent(".ajax_lazy_load").append("<div class=\"plus-all-posts-loaded\">"+l+"</div>"),b(window).unbind(),j(k)):b(d).text(m)}t=+t+ +f},complete:function(){c(),k(h,500),l(),d.data("requestRunning",!1)}})}})})}();let t=0,u=0;elementorFrontend.isEditMode()&&(k("grid",4e3),b(".tp-social-feed .tp-sf-copy-icon").unbind().click(function(){let a=this,b=document.createElement("textarea");b.value=a.dataset.copypostid,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b),a.innerHTML="<svg version=\"1.1\" id=\"L9\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\" ><path fill=\"#fff\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\"><animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\" to=\"360 50 50\" repeatCount=\"indefinite\" /></path></svg>",setTimeout(function(){a.innerHTML="<i class=\"far fa-copy CopyLoading\"></i>"},500)}))};window.addEventListener("elementor/frontend/init",()=>{elementorFrontend.hooks.addAction("frontend/element_ready/tp-social-feed.default",a)})})(jQuery);