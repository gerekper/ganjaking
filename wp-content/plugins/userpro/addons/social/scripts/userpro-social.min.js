function fbpost(){var e=jQuery("#fb-post-data").data("message"),s=jQuery("#fb-post-data").data("name"),r=jQuery("#fb-post-data").data("caption"),o=jQuery("#fb-post-data").data("description"),a=jQuery("#fb-post-data").data("link"),t=jQuery("#fb-post-data").data("fbappid");window.fbAsyncInit=function(){FB.init({appId:t,xfbml:!0,version:"v2.2"}),FB.getLoginStatus(function(t){if("connected"===t.status){{t.authResponse.userID,t.authResponse.accessToken}FB.api("/me/feed","post",{message:e,caption:r,link:a,name:s,description:o},function(){})}else"not_authorized"===t.status})},function(e,s,r){var o,a=e.getElementsByTagName(s)[0];e.getElementById(r)||(o=e.createElement(s),o.id=r,o.src="//connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(o,a))}(document,"script","facebook-jssdk")}jQuery(document).ready(function(){jQuery(document).on("click",".userpro-sc-refresh",function(){var e=jQuery(this).parents(".userpro"),s=jQuery(this),r=e.find("img.userpro-sc-refresh-loader"),o=e.data("activity_per_page"),a=e.data("activity_user"),t=0;if(e.find(".userpro-sc-load").data("user_id"))var i=e.find(".userpro-sc-load").data("user_id");else var i=0;s.hide(),r.show(),jQuery.ajax({url:userpro_ajax_url,data:"action=userpro_sc_refreshactivity&per_page="+o+"&offset="+t+"&user_id="+i+"&activity_user="+a,dataType:"JSON",type:"POST",success:function(o){""!=o.res?(e.find(".userpro-sc").remove(),e.find(".userpro-body-nopad").prepend(o.res),s.show(),r.hide()):(s.show(),r.hide()),userpro_chosen()}})}),jQuery(document).on("click",".userpro-sc-load a",function(){var e=jQuery(this).parents(".userpro-body"),s=jQuery(this),r=jQuery(this).parents(".userpro-sc-load").find("img"),o=jQuery(this).data("activity_per_page"),a=jQuery(this).data("activity_user"),t=jQuery(this).parents(".userpro").find(".userpro-sc").length;if(s.parents(".userpro-sc-load").data("user_id"))var i=s.parents(".userpro-sc-load").data("user_id");else var i=0;s.hide(),r.show(),jQuery.ajax({url:userpro_ajax_url,data:"action=userpro_sc_loadactivity&per_page="+o+"&offset="+t+"&user_id="+i+"&activity_user="+a,dataType:"JSON",type:"POST",success:function(o){""!=o.res?(e.find(".userpro-sc:last").after(o.res),s.show(),r.hide()):(s.show(),r.hide()),userpro_chosen()}})}),jQuery(document).on("click",".userpro-follow.notfollowing:not(.processing)",function(){jQuery(this).addClass("processing");var e=jQuery(this).data("follow-from"),s=jQuery(this).data("follow-to");jQuery(this).addClass("following").removeClass(".notfollowing").removeClass("secondary").html(jQuery(this).data("following-text")),jQuery(this).removeClass("processing"),jQuery.ajax({url:userpro_ajax_url,data:"action=userpro_sc_follow&to="+s+"&from="+e,dataType:"JSON",type:"POST",success:function(){fbpost()},error:function(){}})}),jQuery(document).on("mouseenter",".userpro-follow.following",function(){jQuery(this).addClass("red").removeClass("secondary").html(jQuery(this).data("unfollow-text"))}),jQuery(document).on("mouseleave",".userpro-follow.following",function(){jQuery(this).removeClass("red").html(jQuery(this).data("following-text"))}),jQuery(document).on("click",".userpro-follow.following:not(.processing)",function(){jQuery(this).addClass("processing");var e=jQuery(this).data("follow-from"),s=jQuery(this).data("follow-to");jQuery(this).removeClass("following").addClass("notfollowing").removeClass("red").addClass("secondary").html('<i class="userpro-icon-share"></i>'+jQuery(this).data("follow-text")),jQuery(this).removeClass("processing"),jQuery.ajax({url:userpro_ajax_url,data:"action=userpro_sc_unfollow&to="+s+"&from="+e,dataType:"JSON",type:"POST",success:function(){},error:function(){}})})});
