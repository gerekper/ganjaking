jQuery(document).ready(function(k){"use strict";if(k("textarea.ywapo_input.ywapo_input_textarea").keydown(function(t){if(13==t.keyCode){var a=this.value;if("number"==typeof this.selectionStart&&"number"==typeof this.selectionEnd){var e=this.selectionStart;this.value=a.slice(0,e)+"\n"+a.slice(this.selectionEnd),this.selectionStart=this.selectionEnd=e+1}else if(document.selection&&document.selection.createRange){this.focus();var i=document.selection.createRange();i.text="\r\n",i.collapse(!1),i.select()}return!1}}),"undefined"==typeof yith_wapo_general)return!1;var s=!1,q="",S=null;function a(){var t=k(".woocommerce-main-image > img.wp-post-image, div.product div.images > img");0<t.length&&(q=t.attr("src")),k("body").find("form:not(.in_loop).cart").each(function(){k(this).init_yith_wapo_totals(),k(this).find(".variations select").change()}),k("body").find(".wapo_option_tooltip").each(function(){var t,a,e,i,o=k(this).data("tooltip");o&&(t=k(this),a=o,e=k('<span class="yith_wccl_tooltip"></span>'),i=yith_wapo_general.tooltip_pos+" "+yith_wapo_general.tooltip_ani,e.addClass(i),t.append(e.html("<span>"+a+"</span>")))}),function(){var t=k("#yith_wapo_groups_container").hasClass("enable-collapse-feature"),a=k("#yith_wapo_groups_container").hasClass("enable-alternate-collapse"),e=k("#yith_wapo_groups_container").hasClass("show-addons-collapsed"),i=k("#yith_wapo_groups_container .ywapo_group_container h3").css("height");(t||a)&&(e?(k("#yith_wapo_groups_container .ywapo_group_container h3").parent().find("div").hide(),k("#yith_wapo_groups_container .ywapo_group_container h3").css("cursor","pointer").prepend('<span class="dashicons dashicons-arrow-right"></span> '),k("#yith_wapo_groups_container .ywapo_group_container h3 .dashicons").css("height",i).css("line-height",i),k("#yith_wapo_groups_container .ywapo_group_container h3").hasClass("toggle-open")&&k(".dashicons",this).removeClass("dashicons-arrow-right").addClass("dashicons-arrow-down"),k("#yith_wapo_groups_container .ywapo_group_container h3").click(function(){k(this).hasClass("toggle-open")?(k(this).removeClass("toggle-open").addClass("toggle-closed"),k(".dashicons",this).removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right")):(k(this).removeClass("toggle-closed").addClass("toggle-open"),k(".dashicons",this).removeClass("dashicons-arrow-right").addClass("dashicons-arrow-down")),k(this).parent().find("div").toggle("fast")}),k("#yith_wapo_groups_container .ywapo_group_container h3").removeClass("toggle-open").addClass("toggle-closed").parent().find("div").hide(),k("#yith_wapo_groups_container .ywapo_group_container h3 .dashicons").removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right")):(k("#yith_wapo_groups_container .ywapo_group_container h3").css("cursor","pointer").prepend('<span class="dashicons dashicons-arrow-down"></span> '),k("#yith_wapo_groups_container .ywapo_group_container h3 .dashicons").css("height",i).css("line-height",i),k("#yith_wapo_groups_container .ywapo_group_container h3").hasClass("toggle-closed")&&k(".dashicons",this).removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right"),k("#yith_wapo_groups_container .ywapo_group_container h3").click(function(){k(this).hasClass("toggle-closed")?(k(this).removeClass("toggle-closed").addClass("toggle-open"),k(".dashicons",this).removeClass("dashicons-arrow-right").addClass("dashicons-arrow-down")):(k(this).removeClass("toggle-open").addClass("toggle-closed"),k(".dashicons",this).removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right")),k(this).parent().find("div").toggle("fast")}),k("#yith_wapo_groups_container .ywapo_group_container.collapsed h3").removeClass("toggle-open").addClass("toggle-closed"),k("#yith_wapo_groups_container .ywapo_group_container.collapsed h3 .dashicons").removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right"),k("#yith_wapo_groups_container .ywapo_group_container.collapsed div").toggle("fast")),a&&(k("#yith_wapo_groups_container .ywapo_group_container:first-child h3").removeClass("toggle-closed").addClass("toggle-open").parent().find("div").show(),k("#yith_wapo_groups_container .ywapo_group_container:first-child h3 .dashicons").removeClass("dashicons-arrow-right").addClass("dashicons-arrow-down")))}(),k(".ywapo_input_container_color .wp-color-picker").wpColorPicker({change:function(t,a){var e=k(this).closest(".ywapo_input_container_color").find("input.ywapo_input_color");e.val(a.color.toString()),e.change()},clear:function(){var t=k(this).closest(".ywapo_input_container_color").find("input.ywapo_input_color");t.val(""),t.change()}}),k(".ywapo_datepicker").each(function(){k(this).datepicker({dateFormat:yith_wapo_general.date_format})});var a=k(".fusion-body select.ywapo_input");0<a.length&&(a.addClass("avada-select"),a.wrap('<div class="avada-select-parent"></div>').after('<div class="select-arrow">&#xe61f;</div>')),c()}function c(){var t=k(".quantity input.qty").val();0<!t&&(t=0),k(".ywapo_group_container").not(".ywapo_conditional_hidden, .ywapo_conditional_matched, .ywapo_conditional_variation_hidden, .ywapo_conditional_variation_matched").hide();for(var a=0;a<=t;a++)k(".ywapo_group_container.min_qty_"+a).not(".ywapo_conditional_hidden, .ywapo_conditional_matched, .ywapo_conditional_variation_hidden, .ywapo_conditional_variation_matched").show()}k.fn.init_yith_wapo_totals=function(){function i(t){var a=k(".yith_wapo_group_total");if(t.find("form > div.quantity > input.qty").length)var e=parseFloat(t.find("form > div.quantity > input.qty").val());else if(t.find("form.cart input.qty").length)e=parseFloat(t.find("form.cart input.qty").val());else e=1;var i=function(t,c){var p,d=0;t.find('.ywapo_input:checked, select.ywapo_input option:selected, input[type="text"].ywapo_input, input[type="number"].ywapo_input, input[type="file"].ywapo_input, input[type="color"].ywapo_input, input[type="date"].ywapo_input,input[type="hidden"].ywapo_input ,textarea.ywapo_input').each(function(){var t=k(this),a=(t.closest("form.cart"),c),e=t.closest(".ywapo_group_container"),i=e.data("first-options-free-temp");if(void 0!==(p=e)&&!e.hasClass("ywapo_conditional_hidden")&&!e.hasClass("ywapo_conditional_variation_hidden")){var o=e.data("type"),n=!1;switch("1"==e.data("sold-individually")&&(a=1),o){case"number":""!=t.val().trim()&&0!=t.val().trim()&&(n=!0);break;case"text":case"textarea":case"file":case"color":case"date":case"labels":case"multiple_labels":""!=t.val().trim()&&(n=!0);break;default:n=!0}if(n){if(0==i)var r=t.data("price");else{r=0;i--,e.data("first-options-free-temp",i)}void 0!==r&&0!=r&&(d+=parseFloat(r)*parseFloat(a))}}var s="standard";yith_wapo_general.alternative_replace_image&&(s=yith_wapo_general.alternative_replace_image),"paul"==s&&!t.closest(".ywapo_input_container").hasClass("ywapo_selected")||w(e,this)}),p&&p.data("first-options-free-temp",p.data("first-options-free"));return d}(t,e),o=(a=k(".yith_wapo_group_total"),parseFloat(a.data("product-price")));0<k(".yith-wcpb-product-bundled-items").length&&0<y()&&(o=y());var n=a.find(".yith_wapo_group_product_price_total span.price");if(0<o){var r=x(o*e);n.html(r),n.show()}else n.html(""),n.hide();var s=a.find(".yith_wapo_group_option_total span.price"),c=x(i);s.html(c);var p,d=a.find(".yith_wapo_group_final_total span.price"),l=x(p=o*e+i),_=jQuery(".yith_wapo_group_total").data("tax-rate"),u=jQuery(".yith_wapo_group_total").data("tax-string");if(0<_){var h=x(p*(_/100+1));d.html(l+" / "+h+u+_+"%")}else d.html(l);yith_wapo_general.keep_price_shown||0!=i?a.fadeIn():a.fadeOut(),function(t,a){var e=k(".ywcp_wcp_group_total");if(1==e.length){var i=k("#ywcp_wcp_tr_wapo_option_total"),o=k(".yith_wcp_wapo_add_ons_total span.amount");if(0<t){var n=t+a;e.data("product-price",n),e.attr("data-product-price",n),i.removeClass("ywcp_wapo_total_hided"),o.html(x(t))}else e.data("product-price",a),e.attr("data-product-price",a),i.addClass("ywcp_wapo_total_hided"),o.html(x(0));k(document).trigger("ywcp_calculate_total")}}(i,o),k(document).trigger("yith_wapo_product_price_updated",[o+i])}function y(){return parseFloat(k(".yith-wcpb-wapo-bundle-product-price").val())}function n(n,t,r,s,c,p,d){var a=k(".yith_wapo_group_total").data("product-id");0<r.length&&(l(s),k.ajax({url:yith_wapo_general.wc_ajax_url.toString().replace("%%endpoint%%","yith_wapo_get_calculated_display_price"),type:"POST",data:{product_id:a,product_price:t,type_id:r.data("typeid"),option_index:r.data("index"),option_value:r.val()},success:function(t){if(t.error||""==t)return 0;r.data("price",t),r.attr("data-price",t);var a=x(parseFloat(t));if(c.find("span.amount").html(a),""!=r.text()){var e=r.text().split("+");if(0<e.length){e=e[0]+" + "+a,r.addClass("ywapo_option_price_changed");var i=r.closest(".ywapo_group_container").find("select").attr("sb");if(void 0!==i){var o=r.data("index");k(k("#sbOptions_"+i).find("li").get(parseInt(o)+1)).find("a").html(e)}}r.html(e),p&&n.trigger("yith-wapo-product-option-update")}d&&r.trigger("yith-wapo-product-price-changed"),_(s)}}))}function w(t,a){var e=t.data("change-featured-image"),i="standard";if(yith_wapo_general.alternative_replace_image&&(i=yith_wapo_general.alternative_replace_image),e)if("alternative"==i||"yes"==i){var o=k(a),n=k(".single-product .woocommerce-product-gallery .wp-post-image, .yith-quick-view-content .woocommerce-main-image img"),r=k(".single-product .woocommerce-product-gallery .zoomImg"),s=n.attr("src"),c=r.attr("src"),p=m(o,t),d=o.closest(".ywapo_input_container");if(p&&"labels"==t.data("type")&&!d.hasClass("ywapo_selected"))return;var l=g(t,o,d);p&&""!=l&&l!=q&&!t.hasClass("ywapo_conditional_hidden")&&!t.hasClass("ywapo_conditional_variation_hidden")?(n.removeAttr("srcset"),n.removeAttr("srcsize"),n.attr("src",l),n.attr("data-src",l),n.attr("data-large_image",l),r.attr("src",l),r.siblings("a").attr("href",l),S=t,f(l)):null!=S&&(n.removeAttr("srcset"),n.removeAttr("srcsize"),n.attr("src",s),r.attr("src",c),f(s))}else if("paul"==i){o=k(a);var _=k(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper"),u=k(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:not(.clone)").length,h=(y=k(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:first-child")).width();p=m(o,t),d=o.closest(".ywapo_input_container"),l=g(t,o,d);if(p&&"labels"==t.data("type")&&!d.hasClass("ywapo_selected"))return;p&&""!=l&&0<u&&!t.hasClass("ywapo_conditional_hidden")&&!t.hasClass("ywapo_conditional_variation_hidden")&&k(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper a").attr({href:l}).find("img").removeAttr("srcset").removeAttr("srcsize").attr("src",l)}else if("divi"==i){o=k(a),n=k(".single-product .sb_woo_product_image > img, img.wp-post-image"),r=k(".single-product .zoomImg"),s=n.attr("src"),c=r.attr("src"),p=m(o,t),d=o.closest(".ywapo_input_container");if(p&&"labels"==t.data("type")&&!d.hasClass("ywapo_selected"))return;l=g(t,o,d);p&&""!=l&&l!=q&&!t.hasClass("ywapo_conditional_hidden")&&!t.hasClass("ywapo_conditional_variation_hidden")?(n.removeAttr("srcset"),n.removeAttr("srcsize"),n.attr("src",l),n.attr("data-src",l),n.attr("data-large_image",l),r.attr("src",l),r.siblings("a").attr("href",l),S=t,f(l)):null!=S&&(n.removeAttr("srcset"),n.removeAttr("srcsize"),n.attr("src",s),r.attr("src",c),f(s))}else{var y;o=k(a),_=k(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper"),u=k(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:not(.clone)").length,h=(y=k(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:first-child")).width(),p=m(o,t),d=o.closest(".ywapo_input_container"),l=g(t,o,d);if(p&&"labels"==t.data("type")&&!d.hasClass("ywapo_selected"))return;p&&""!=l&&0<u&&!t.hasClass("ywapo_conditional_hidden")&&!t.hasClass("ywapo_conditional_variation_hidden")&&(k(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .clone").remove(),y.clone().addClass("clone").appendTo(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper"),u<2&&(_.attr("style","width: 200%; transition-duration: 0s;"),k(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper > div").attr("style","width: "+h+"px; margin-right: 0px; float: left; display: block; position: relative; overflow: hidden;")),_.css("transform","translate3d(-"+u*h+"px, 0px, 0px)"),_.parent().hasClass("flex-viewport")||_.wrap('<div class="flex-viewport" style="overflow: hidden; position: relative; height: '+h+'px;"></div>'),k(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .clone img").removeAttr("srcset").removeAttr("srcsize").attr("src",l))}}function g(t,a,e){var i="",o=a.parents("select").find("option:selected");if(void 0!==o&&1==o.length&&void 0!==o.data("image-url")&&0<o.data("image-url").length)i=o.data("image-url");else{var n="standard";yith_wapo_general.alternative_replace_image&&(n=yith_wapo_general.alternative_replace_image);var r=e.find(".ywapo_single_option_image");1==r.length?(i="paul"==n||"divi"==n?r.attr("fullsize"):r.attr("src"),console.log("new_image: "+i)):i=1==(r=t.find(".ywapo_product_option_image > img")).length?"paul"==n||"divi"==n?r.attr("fullsize"):r.attr("src"):q}return i}function f(t){if("undefined"!=typeof yith_magnifier_options){var a=k(".yith_magnifier_zoom"),e=k(".yith_magnifier_zoom img");a.attr("href",t),e.attr("src",t),e.attr("srcset",t),e.attr("src-orig",t);var i=k(".images");i.data("yith_magnifier")&&i.yith_magnifier("destroy"),i.yith_magnifier(yith_magnifier_options)}}function o(t){var d=!0;return t.find(".ywapo_group_container").each(function(){var t=k(this);if(void 0!==t&&!t.hasClass("ywapo_conditional_hidden")&&!t.hasClass("ywapo_conditional_variation_hidden")){var a=t.data("type"),e="1"==t.data("requested"),i="1"==t.data("requested-all-options"),o=i,n=t.data("max-item-selected");switch(a){case"text":case"textarea":case"number":case"file":case"date":case"range":case"color":if("1"==t.data("max-input-values-required")||"1"==t.data("min-input-values-required"))o=!(e=!0);else{var r=t.find("input.ywapo_input, textarea.ywapo_input, input.ywapo_input_color"),s=0;r.each(function(){""!=k(this).val()&&s++}),0<n&&n==s?o=!0:r.each(function(){if(i){if(""==k(this).val()&&"required"==k(this).attr("required"))return void(o=!(e=!0));if(""==k(this).val())return void(o=!1)}else if(""!=k(this).val())return void(o=!0)})}break;case"checkbox":if(e){var c=t.find(".ywapo_input").length,p=t.find(".ywapo_input:checked").length;o=i?0<c&&(c==p||0<n&&c==n):0<c&&0<p}else t.find(".ywapo_input").each(function(){k(this).is(":checked")||"required"!=k(this).attr("required")||(o=!(e=!0))});break;case"select":o=""!=t.find("select.ywapo_input").val();break;case"labels":case"multiple_labels":o=0<t.find(".ywapo_input_container_labels.ywapo_selected").length;break;case"radio":o=!1,t.find("input.ywapo_input").each(function(){k(this).is(":checked")&&(o=!0)})}if(e&&!o)return d=!1,t.addClass("ywapo_miss_required"),void k([document.documentElement,document.body]).animate({scrollTop:k("#yith_wapo_groups_container").offset().top},1e3);t.removeClass("ywapo_miss_required")}}),d}function l(t){t.block({message:"",overlayCSS:{backgroundColor:"#fff",opacity:.6,cursor:"wait"}})}function _(t){t.unblock()}function m(t,a){var e=a.data("type"),i=!1;if("select"==e)i=""!=t.val();else if("radio"==e)i=t.is(":checked");else switch(e){case"checkbox":a.find('input[type="checkbox"].ywapo_input').each(function(){k(this).is(":checked")&&(i=!0)});break;case"labels":var o=0;a.find('input[type="hidden"].ywapo_input').each(function(){if(""!=k(this).val())return o++,!0}),i=0<o;break;case"text":case"number":case"file":case"color":case"date":case"range":a.find("input.ywapo_input").each(function(){""==k(this).val()||(i=!0)});break;case"textarea":a.find("textarea.ywapo_input").each(function(){""==k(this).val()||(i=!0)})}return i&&a.removeClass("ywapo_miss_required"),i}function v(t,a){var e=k.inArray(t,a);if(-1==e)for(var i=0;i<a.length;i++){if(0<=a[i].indexOf(","))if(t==a[i].split(",")[0].toString()){e="option";break}}return e}function b(t){t.find("input, select, textarea").each(function(){k(this).removeAttr("disabled"),k(this).change()})}function C(t){t.find("input, select, textarea").each(function(){k(this).attr("disabled","disabled")});var a=t.data("id");k(".ywapo_conditional_matched_"+a).each(function(){var t=k(this);t.addClass("ywapo_conditional_hidden"),C(t)})}function r(t){var i=s?s.variation_id.toString():0;t.find(".ywapo_group_container").each(function(){var t=k(this).closest(".ywapo_group_container");if(void 0!==t){var a=t.data("id"),e=function(t){var a=t.data("condition-variations");""!=a&&(a=a.toString().split(","));return a}(t);if(0<e.length)if(0<=k.inArray(i,e))t.removeClass("ywapo_conditional_variation_hidden"),t.addClass("ywapo_conditional_variation_matched"),t.hasClass("ywapo_conditional_hidden")||b(t);else t.addClass("ywapo_conditional_variation_hidden"),t.removeClass("ywapo_conditional_variation_matched"),C(t),k(".ywapo_conditional_matched_"+a).each(function(){var t=k(this);t.addClass("ywapo_conditional_hidden"),C(t)})}})}function x(t){return accounting.formatMoney(t,{symbol:yith_wapo_general.currency_format_symbol,decimal:yith_wapo_general.currency_format_decimal_sep,thousand:yith_wapo_general.currency_format_thousand_sep,precision:yith_wapo_general.currency_format_num_decimals,format:yith_wapo_general.currency_format})}k("body").on("change",".yith_wapo_groups_container input, .yith_wapo_groups_container select, .yith_wapo_groups_container textarea, div.quantity > input.qty",function(t){c();var a=k(this),e=a.closest(".ywapo_group_container");if(void 0!==a.data("pricetype")&&("calculated_multiplication"==a.data("pricetype")||"calculated_character_count"==a.data("pricetype"))&&""!=a.val()){var i=a.find("form.cart"),o=a.closest(".ywapo_input_container");n(i,1,a,e,o,!1,!0)}k(this).trigger("yith-wapo-product-option-conditional",a),k(this).trigger("yith-wapo-product-option-update"),w(e,k(this).find(":selected"))}),k(this).on("change mouseleave",'.yith_wapo_calculate_quantity input[type="number"]',function(t){var a=0;k("body").find('.yith_wapo_calculate_quantity input[type="number"]').each(function(){var t=k(this).val();""!=t&&(a+=parseInt(t))});var e=k(this).closest("form").find('div.quantity > input[name="quantity"]');0==e.closest(".ywcp_component_options_selection_container").length&&(0<a?(e.val(a),e.attr("readonly","readonly")):(e.val(e.attr("min")),e.removeAttr("readonly"))),i(k(this).closest("form.cart"))}),k(this).on("found_variation",function(t,a){if(!k(t.target).hasClass("ywcp_inner_selected_container")&&!k(t.target).hasClass("bundled_item_cart_content")){var e=k(".yith_wapo_group_total"),i=0;if(void 0!==(s=a).display_price)i=a.display_price;else if(k(a.price_html).find(".amount:last").length){k(".cart");i=x(i=k(a.price_html).find(".amount:last").text())}e.data("product-price",i),e.attr("data-product-price",i),function(a){var s=k(".yith_wapo_groups_container");if(void 0!==s){var c=s.find("input.ywapo_input.ywapo_price_percentage, select.ywapo_input option.ywapo_price_percentage, textarea.ywapo_input.ywapo_price_percentage"),p=0;c.each(function(){var n=k(this);if(void 0!==n.data("pricetype")&&"fixed"!=n.data("pricetype")){var r=n.closest(".ywapo_input_container"),t=n.val();k.ajax({url:yith_wapo_general.wc_ajax_url.toString().replace("%%endpoint%%","yith_wapo_update_variation_price"),type:"POST",data:{variation_id:a.variation_id,variation_price:a.display_price,type_id:n.data("typeid"),option_index:n.data("index"),option_value:t},beforeSend:function(){0==p&&l(s)},success:function(t){if(!t.error&&""!=t){n.data("price",t),n.attr("data-price",t);var a=x(parseFloat(t));if(r.find("span.amount").html(a),""!=n.text()){var e=n.text().split("+");if(0<e.length){e=e[0]+" + "+a,n.addClass("ywapo_option_price_changed");var i=n.closest(".ywapo_group_container").find("select").attr("sb");if(void 0!==i){var o=n.data("index");k(k("#sbOptions_"+i).find("li").get(parseInt(o)+1)).find("a").html(e)}}n.html(e)}++p==c.length&&(c.closest("form.cart").trigger("yith-wapo-product-option-update"),_(s))}}})}})}}(a),r(k(this)),k(this).trigger("yith-wapo-product-option-update")}}),k(this).on("hide_variation",function(t){k(t.target).hasClass("ywcp_inner_selected_container")||(s=!1,r(k(this)),k(this).trigger("yith-wapo-product-option-update"))}),k("body").on("yith-wapo-product-option-update yith-wapo-product-price-changed",function(){i(k(this))}),k(this).on("click",".ywapo_input_container.ywapo_input_container_labels",function(t){var a=k(this).find('input[type="hidden"]');if(""!=a.val())a.val(""),k(this).removeClass("ywapo_selected");else{var e=k(this).closest(".ywapo_group_container_labels").find(".ywapo_input_container.ywapo_input_container_labels");e.removeClass("ywapo_selected"),e.find('input[type="hidden"]').val(""),k(this).addClass("ywapo_selected"),a.val(a.data("index"))}k(this).trigger("yith-wapo-product-option-conditional",a),k(this).trigger("yith-wapo-product-option-update")}),k(this).on("yith-wapo-product-option-conditional",function(t,a){var e=k(a).closest(".ywapo_group_container");!function(t,a,e){var g=e.data("id");if(void 0!==g){var f=function(t,a){var e=a.data("type"),i=[];switch(e){case"radio":t.is(":checked")&&(i[0]=t.val());break;case"select":i[0]=t.val();break;case"checkbox":var o=0;a.find('input[type="checkbox"].ywapo_input').each(function(){k(this).is(":checked")&&i.push(o.toString()),o++});break;case"labels":a.find('input[type="hidden"].ywapo_input').each(function(){""!=k(this).val()&&i.push(k(this).val())});break;case"text":case"number":case"file":case"color":case"date":case"range":o=0;a.find("input.ywapo_input").each(function(){""!=k(this).val()&&i.push(o.toString()),o++});break;case"textarea":o=0;a.find("textarea.ywapo_input").each(function(){""!=k(this).val()&&i.push(o.toString()),o++})}return i}(k(a),e);new Array;t.find(".ywapo_group_container").each(function(){var a,e,t=k(this).closest(".ywapo_group_container");if(void 0!==t){var i=t.data("id");if(g!=i){var o=t.data("operator"),n=function(t){var a=t.data("condition");if(""!=a){a=a.toString().split(",");for(var e=0;e<a.length;e++)0==a[e].indexOf("option_")&&(a[e]=a[e].replace("option_",""),a[e]=a[e].replace("_",","))}return a}(t);if(0<n.length){a=n,e=!1,k(".yith_wapo_groups_container").find(".ywapo_group_container").each(function(){var t=v(k(this).data("id"),a);(0<=t||"option"==t)&&k(this).hasClass("ywapo_conditional_hidden")&&(e=!0)});if(0,void 0!==g&&null!=g){var r=v(g.toString(),n);if(0<=r||"option"==r){var s=function(t,a,e,i,o){{if("option"!=i)return 0<a.length&&0<=a[0];for(var n=!0,r=0;r<e.length;r++){var s=e[r];if(0<=s.indexOf(",")){var c=s.split(",")[0],p=s.split(",")[1].toString();if(t==c.toString()&&""!=p){var d=k.inArray(p,a);if("and"==o)0<=d||(n=!1);else if(n=!1,0<=d)return!0}}}return n}}(g.toString(),f,n,r,o);t.attr("id"),g.toString();if("and"==o){for(var c=!0,p="",d="",l="",_="",u=!1,h=!1,y=!1,w=0;w<n.length&&0!=c;w++)(p=n[w]).split(",")[0],l="ywapo_ctrl_id_"+(d=p.split(",")[0])+"_"+p.split(",")[1],_="ywapo_select_"+d,y=h=u=!1,"undefined"==document.getElementById(l)&&"undefined"==document.getElementById(_)||("checkbox"==document.getElementById(l).type||"radio"==document.getElementById(l).type?u=document.getElementById(l).checked:"hidden"==document.getElementById(l).type?u=jQuery("#"+l).parent().hasClass("ywapo_selected"):"text"==document.getElementById(l).type?y=""!=document.getElementById(l).value:"select-one"==document.getElementById(_).type&&(h=jQuery("#"+_+" option:selected").attr("id")==l)),c=!!(u||y||h);s=c}s?(t.removeClass("ywapo_conditional_hidden"),t.addClass("ywapo_conditional_matched"),t.addClass("ywapo_conditional_matched_"+g),t.hasClass("ywapo_conditional_variation_hidden")||b(t)):(t.addClass("ywapo_conditional_hidden"),t.removeClass("ywapo_conditional_matched"),t.removeClass("ywapo_conditional_matched_"+g),C(t))}}}}}})}}(k(this),a,e)}),k(this).on("click",".single_add_to_cart_button",function(t){var a=k(this).closest("form.cart");if(yith_wapo_general.do_submit=o(a),!yith_wapo_general.do_submit){var e=a.find("button.single_add_to_cart_button");0<e.length&&e.hasClass("loading")&&e.removeClass("loading")}return yith_wapo_general.do_submit}),k(document).on("yith_ywraq_action_before",function(){return t=k("form.cart"),yith_wapo_general.do_submit=o(t),yith_wapo_general.do_submit}),k(document).on("yith_wcpb_ajax_update_price_request",function(){(function(e){var i=y();if(0<i){var o=k(".yith_wapo_groups_container");if(void 0!==o)o.find("input.ywapo_input.ywapo_price_percentage, select.ywapo_input option.ywapo_price_percentage, textarea.ywapo_input.ywapo_price_percentage").each(function(){var t=k(this);if(void 0!==t.data("pricetype")&&"fixed"!=t.data("pricetype")){var a=t.closest(".ywapo_input_container");n(e,i,t,o,a,!0,!1)}})}})(t=k("form.cart")),i(t)}),k(this).on("yith-wapo-product-option-conditional",function(t,a){!function(t){var a=k(t).closest(".ywapo_group_container"),e=a.data("max-item-selected");if(0<e){switch(a.data("type")){case"checkbox":var i=a.find('input[type="checkbox"].ywapo_input');(o=a.find('input[type="checkbox"]:checked.ywapo_input')).length==e?i.each(function(){k(this).is(":checked")||k(this).attr("disabled","disabled")}):i.each(function(){k(this).removeAttr("disabled")});break;case"multiple_labels":i=a.find("div.ywapo_input_container_labels");(o=a.find("div.ywapo_input_container_labels.ywapo_selected")).length==e?i.each(function(){k(this).hasClass("ywapo_selected")||k(this).attr("disabled","disabled")}):i.each(function(){k(this).removeAttr("disabled")});break;case"number":i=a.find('input[type="number"].ywapo_input');var o=0;i.each(function(){""!=k(this).val()&&o++}),o==e?i.each(function(){""==k(this).val()&&k(this).attr("disabled","disabled")}):i.each(function(){k(this).removeAttr("disabled")})}}}(a)}),k(this).on("yith-wapo-product-option-conditional",function(t,a){!function(t){var a=k(t).closest(".ywapo_group_container");if("number"==a.data("type")){var e=a.find('input[type="number"].ywapo_input'),i=0;e.each(function(){var t=k(this).val();""!=t&&(i+=parseFloat(t))});var o=a.data("max-input-values-amount");0<o&&(o<i?(a.data("max-input-values-required","1"),a.attr("data-max-input-values-required","1")):(a.data("max-input-values-required","0"),a.attr("data-max-input-values-required","0")));var n=a.data("min-input-values-amount");0<n&&(i<n?(a.data("min-input-values-required","1"),a.attr("data-min-input-values-required","1")):(a.data("min-input-values-required","0"),a.attr("data-min-input-values-required","0")))}}(a)}),k(document).on("ywmmq_additional_operations",function(){i(k("form.cart"))});var t=k(this);t.find(".yith_wapo_groups_container input, .yith_wapo_groups_container select, .yith_wapo_groups_container textarea").each(function(){t.trigger("yith-wapo-product-option-conditional",k(this))}),t.trigger("yith-wapo-product-option-update"),i(t)},a(),k(document).on("qv_loader_stop yit_quick_view_loaded flatsome_quickview unero_quick_view_request_success",function(){a()}),k(".single-product .product form.cart input").keypress(function(t){t.which}),k(".single-product .product form.cart textarea").keypress(function(t){13==t.which&&a()}),k("#yith_wapo_groups_container.enable-alternate-collapse .ywapo_group_container h3").click(function(){var t=k(this);k("#yith_wapo_groups_container .ywapo_group_container h3").removeClass("toggle-open").addClass("toggle-closed").parent().find("div").hide(),k("#yith_wapo_groups_container .ywapo_group_container h3 .dashicons").removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right"),t.removeClass("toggle-closed").addClass("toggle-open").parent().find("div").show(),k(".dashicons",t).removeClass("dashicons-arrow-right").addClass("dashicons-arrow-down")}),k("#yith_wapo_groups_container input[type=file]").change(function(){var t=k(this).parent().find("a.yith_wapo_reset_file").length;""!=k(this).val()&&t<1&&k(this).after('<a class="yith_wapo_reset_file" href="#">Reset</a>')}),k("#yith_wapo_groups_container").on("click",".yith_wapo_reset_file",function(t){var a=k(this).parent().find("input[type=file]").attr("name");return a="span."+(a=a.replace("[","_")).replace("]",""),k(this).parent().find("input[type=file]").val(""),k(this).parent().find(".yith_wapo_reset_file").remove(),k(".yith_ywraq_add_item_response_message").find(a).remove(),!1}),k(document).on("yith_wwraq_removed_successfully",function(){k("#yith_wapo_groups_container input[type=file]").val(""),k("#yith_wapo_groups_container .yith_wapo_reset_file").remove()}),jQuery('<div class="quantity-nav"><div class="quantity-button quantity-up">+</div><div class="quantity-button quantity-down">-</div></div>').insertAfter(".ywapo_input_container_number input"),jQuery(".ywapo_input_container_number").each(function(){var e=jQuery(this),i=e.find('input[type="number"]'),t=e.find(".quantity-up"),a=e.find(".quantity-down"),o=i.attr("min"),n=i.attr("max");t.click(function(){var t=parseFloat(i.val());if(isNaN(t))if(0<o)var a=o;else a=1;else if(n<=t)a=t;else a=++t;e.find("input").val(a),e.find("input").trigger("change")}),a.click(function(){var t=parseFloat(i.val());if(isNaN(t)&&(t=0<o?o:0),t<=o)var a=t;else a=t-1;e.find("input").val(a),e.find("input").trigger("change")})}),k("select.ywapo_input").change(function(){var t=k(this).find(":selected").data("image");if(void 0!==t){console.log("inside");var a='<img src="'+t+'" style="max-width: 100%">',e=k(this).find(":selected").data("description");k(this).prev("div.wapo_option_image").html(a),k(this).next("p.wapo_option_description").html(e)}}),setTimeout(function(){var t=k(".yith_wapo_groups_container input, .yith_wapo_groups_container select, .yith_wapo_groups_container textarea, div.quantity > input.qty");k(".yith_wapo_groups_container input, .yith_wapo_groups_container select, .yith_wapo_groups_container textarea, div.quantity > input.qty").trigger("yith-wapo-product-option-conditional",t),k(".yith_wapo_groups_container input, .yith_wapo_groups_container select, .yith_wapo_groups_container textarea, div.quantity > input.qty").trigger("yith-wapo-product-option-update")},500),k("body").on("click",".woofood-quickview-button",function(){setTimeout(function(){a()},5e3)}),k("body").on("click",".wcpt-button, .wcpt-button-cart_refresh",function(){setTimeout(function(){a()},2e3)}),k("body").on("click",".ywapo_input_container_labels, .ywapo_input_container_checkbox",function(){var t=k(this).closest(".ywapo_group_container").data("change-featured-image"),a=k(this).find(".ywapo_single_option_image").attr("src"),e=k(this).find(".ywapo_single_option_image").attr("fullsize"),i=a;e&&(i=e),1==t&&k(".wp-post-image").attr("src",i)})});