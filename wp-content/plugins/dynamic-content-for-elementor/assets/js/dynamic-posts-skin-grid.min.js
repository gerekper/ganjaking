(function($){const handleInfiniteScrollInsideTab=($tabpanel,$grid)=>{var observer=new MutationObserver(function(_,observer){$grid.isotope('layout');observer.disconnect()});var observerConfig={attributes:!0,attributeFilter:["class"]};if(!$tabpanel.hasClass('e-active')){observer.observe($tabpanel[0],observerConfig)}}
const handleInfiniteScrollInsideTabLegacy=($tablist,$grid)=>{var observer=new MutationObserver(function(_,observer){$grid.isotope('layout');observer.disconnect()});var observerConfig={attributes:!0,attributeFilter:["class"]};let $tab=$tablist.children().has($grid);if(!$tab.hasClass('e-active')){observer.observe($tab[0],observerConfig)}}
window.Widget_DCE_Dynamicposts_grid_Handler=function($scope,$){var elementSettings=dceGetElementSettings($scope);var id_scope=$scope.attr('data-id');var grid=$scope.find('.dce-posts-container.dce-skin-grid .dce-posts-wrapper');var masonryGrid=null;var isMasonryEnabled=!1;let byRow=elementSettings.grid_match_height_by_row||elementSettings.grid_filters_match_height_by_row;const findMatchHeightSlices=()=>{let matchHeightEls
if(elementSettings.style_items==='template'){if($scope.find('.dce-post-block .elementor-inner-section').length){matchHeightEls=[];$scope.find('.dce-post-block').first().find('.elementor-inner-section').each((i)=>{let $els=$scope.find('.dce-post-block').map((_,$e)=>{return jQuery($e).find('.elementor-inner-section')[i]})
matchHeightEls.push($els)})}else if($scope.find('.dce-post-block .elementor-top-section').length){let selector='.dce-post-block .elementor-top-section';matchHeightEls=[$scope.find(selector)]}else{matchHeightEls=[$scope.find('.e-con').not($scope.find('.e-con .e-con'))]}}else{let selector='.dce-post-block';matchHeightEls=[$scope.find(selector)]}
return matchHeightEls}
const findAndMatchHeight=()=>{slices=findMatchHeightSlices();for(const $els of slices){$els.matchHeight({byRow:byRow})}}
function activeMasonry(){masonryGrid=grid.masonry({itemSelector:'.dce-post-item',masonry:{horizontalOrder:!0,},});isMasonryEnabled=!0}
function layoutMasonry(){if(elementSettings[dceDynamicPostsSkinPrefix+'grid_type']!='masonry'){masonryGrid.masonry('destroy');isMasonryEnabled=!1}else{masonryGrid.masonry()}}
if(elementSettings.grid_match_height||elementSettings.grid_filters_match_height){findAndMatchHeight()}
if(elementSettings[dceDynamicPostsSkinPrefix+'grid_type']=='masonry'){activeMasonry()}
$(document).on("sf:ajaxfinish",".searchandfilter",function(e,data){var allArticles=document.querySelectorAll(".dce-dynamic-posts-collection .elementor-section, .dce-dynamic-posts-collection .elementor-column, .dce-dynamic-posts-collection .elementor-widget, .dce-dynamic-posts-collection .e-container, .dce-dynamic-posts-collection .e-con");allArticles.forEach(function(article){dce.addCssForBackground(article)})});if(!elementorFrontend.isEditMode()&&elementSettings.infiniteScroll_enable){var elementorElement='.elementor-element-'+id_scope;var is_history=Boolean(elementSettings.infiniteScroll_enable_history)?'replace':!1;var $gridContainer=$scope.find('.dce-posts-container.dce-skin-grid .dce-posts-wrapper.dce-wrapper-grid');var $layoutMode=elementSettings[dceDynamicPostsSkinPrefix+'grid_type'];var $grid=$gridContainer.isotope({itemSelector:'.dce-post-item',layoutMode:'masonry'===$layoutMode?'masonry':'fitRows',sortBy:'original-order',percentPosition:!0,masonry:{columnWidth:'.dce-post-item'}});$grid.imagesLoaded().progress(function(){$grid.isotope('layout')});let $tabpanel=$grid.closest('[role="tabpanel"]');if($tabpanel.length){handleInfiniteScrollInsideTab($tabpanel,$grid)}else{let $tablist=$grid.closest('[role="tablist"]');if($tablist.length){handleInfiniteScrollInsideTabLegacy($tablist,$grid)}}
if(!1===elementorFrontend.isEditMode()&&'yes'===elementSettings.templatemode_linkable){$gridContainer.on('append.infiniteScroll',function(event,title,path){$scope.find('.dce-post.dce-post-item[data-post-link]').click(function(){window.location.assign($(this).attr("data-post-link"));return!1})})}
if(elementSettings.grid_match_height||elementSettings.grid_filters_match_height){$gridContainer.on('append.infiniteScroll',function(event,title,path){findAndMatchHeight();$gridContainer.isotope('layout')})}
if('template'===elementSettings.style_items){$gridContainer.on('append.infiniteScroll',function(event,title,path){if(elementorFrontend){if(elementorFrontend.elementsHandler.runReadyTrigger){var widgets=$('.dce-dynamic-posts-collection').find('.elementor-widget');widgets.each(function(i){elementorFrontend.elementsHandler.runReadyTrigger(jQuery(this));elementorFrontend.hooks.doAction('frontend/element_ready/global',jQuery(this),jQuery)})}}
var allArticles=document.querySelectorAll(".dce-dynamic-posts-collection .elementor-section, .dce-dynamic-posts-collection .elementor-column, .dce-dynamic-posts-collection .elementor-widget, .dce-dynamic-posts-collection .e-container, .dce-dynamic-posts-collection .e-con");allArticles.forEach(function(article){dce.addCssForBackground(article)})});$(document).on("sf:ajaxfinish",".searchandfilter",function(e,data){if(elementorFrontend){if(elementSettings.grid_match_height||elementSettings.grid_filters_match_height){findAndMatchHeight()}
$scope.find('.dce-post.dce-post-item[data-post-link]').click(function(){window.location.assign($(this).attr("data-post-link"));return!1})}})}
var iso=$grid.data('isotope');if(jQuery(elementorElement+' .pagination__next').length){var infiniteScroll_options={path:elementorElement+' .pagination__next',history:is_history,append:elementorElement+' .dce-post.dce-post-item',outlayer:iso,status:elementorElement+' .page-load-status',hideNav:elementorElement+'.pagination',scrollThreshold:'scroll'===elementSettings.infiniteScroll_trigger?!0:!1,loadOnScroll:'scroll'===elementSettings.infiniteScroll_trigger?!0:!1,onInit:function(){this.on('load',function(){})}}
if(elementSettings.infiniteScroll_trigger=='button'){infiniteScroll_options.button=elementorElement+' .view-more-button'}
infScroll=$gridContainer.infiniteScroll(infiniteScroll_options);var nElements=jQuery(elementorElement+' .dce-post-item:visible').length;$gridContainer.on('append.infiniteScroll',function(event,response,path,items){setTimeout(function(){var nElementsVisible=jQuery(elementorElement+' .dce-post-item:visible').length;if(nElementsVisible<=nElements){$gridContainer.infiniteScroll('loadNextPage')}},1000)})}}
var on_scrollReveal=function(){var runRevAnim=function(dir){var el=$(this);var i=$(this).index();if(dir=='down'){setTimeout(function(){el.addClass('animate')},100*i)}else if(dir=='up'){el.removeClass('animate')}};var waypointRevOptions={offset:'100%',triggerOnce:!1};elementorFrontend.waypoint($scope.find('.dce-post-item'),runRevAnim,waypointRevOptions)};on_scrollReveal();var Dyncontel_MutationObserverCallback=function(mutationsList,observer){for(var mutation of mutationsList){if(mutation.type=='attributes'){if(mutation.attributeName==='class'){if(isMasonryEnabled){layoutMasonry()}}}}};dceObserveElement($scope[0],Dyncontel_MutationObserverCallback)};jQuery(window).on('elementor/frontend/init',function(){elementorFrontend.hooks.addAction('frontend/element_ready/dce-dynamicposts-v2.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-dynamicposts-v2.grid-filters',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-woo-products-cart.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-woo-products-cart.grid-filters',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-woo-products-cart-on-sale.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-woo-products-cart-on-sale.grid-filters',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-woo-product-upsells.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-woo-product-upsells.grid-filters',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-woo-product-crosssells.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-woo-product-crosssells.grid-filters',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-dynamic-woo-products.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-dynamic-woo-products.grid-filters',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-dynamic-show-favorites.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-dynamic-show-favorites.grid-filters',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-my-posts.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-my-posts.grid-filters',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-sticky-posts.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-sticky-posts.grid-filters',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-search-results.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-search-results.grid-filters',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-metabox-relationship.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-metabox-relationship.grid-filters',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-acf-relationship.grid',Widget_DCE_Dynamicposts_grid_Handler);elementorFrontend.hooks.addAction('frontend/element_ready/dce-acf-relationship.grid-filters',Widget_DCE_Dynamicposts_grid_Handler)})})(jQuery)