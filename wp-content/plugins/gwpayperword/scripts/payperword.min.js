var GWPayPerWord=function(i,e){this.plainTextInputs={},this.init=function(e,t){for(var i in t){var r=jQuery.extend({},t[i]);this.updatePrice(r,e),this.bindEvents(r,e)}},this.updatePrice=function(e,t){if(e.useRichTextEditor){var i=tinymce.get("input_"+t+"_"+e.word_field),r=i?i.getContent({format:"text"}):"";this.getPlainTextInput(e.word_field).val(r)}else{var n=jQuery("#input_"+t+"_"+e.word_field);r=jQuery.trim(n.val())}var a=jQuery("#ginput_base_price_"+t+"_"+e.price_field),p=jQuery("#input_"+t+"_"+e.price_field),o=r.match(/\S+/g),l=gform.applyFilters("gpppw_word_count",null==o?0:o.length,r,this,e,t),c=0,u=parseFloat(e.price_per_word),s=isNaN(parseFloat(e.base_price))?0:parseFloat(e.base_price),_=isNaN(parseFloat(e.base_word_count))?0:parseFloat(e.base_word_count);!(!window.gf_check_field_rule||"show"==gf_check_field_rule(t,e.word_field,!0,""))||l<=1&&null==o?c=0:_<l?(extraWordsCount=l-_,c=s,c+=extraWordsCount*u):c=s,c=gform.applyFilters("gwppw_price",c,l,u,e,t),c=gform.applyFilters("gpppw_price",c,l,u,e,t),labelPrice=gformFormatMoney(c),a.val(labelPrice).change(),p.text(labelPrice),gformCalculateTotalPrice(t)},this.bindEvents=function(t,i){var r=this,n=jQuery("#input_"+i+"_"+t.word_field);if(window.tinymce&&t.useRichTextEditor)var a=setInterval(function(){if(0!=tinymce.editors.length){clearInterval(a);for(var e=0;e<tinymce.editors.length;e++)if(tinymce.editors[e].id==n.attr("id")){tinymce.editors[e].on("keyup change",function(){r.updatePrice(t,i)});break}r.updatePrice(t,i)}},250);else n.on("input propertychange",function(){r.updatePrice(t,i)});jQuery(document).bind("gform_post_conditional_logic",function(){r.updatePrice(t,i)})},this.getPlainTextInput=function(e){if(void 0===this.plainTextInputs[e]){var t=jQuery('<textarea style="display:none;" id="gpppw_plain_text_'+i+"_"+e+'" name="gpppw_plain_text_'+e+'"></textarea>');t.appendTo(jQuery("#field_"+i+"_"+e)),this.plainTextInputs[e]=t}return this.plainTextInputs[e]},this.init(i,e)};
//# sourceMappingURL=payperword.js.map